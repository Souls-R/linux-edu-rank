<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patches contributed by Yavapai College</title>
    <style>
    .pagination {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        overflow-wrap: break-word;
    }
    .pagination a, .pagination span {
        margin: 0 4px;
    }

    </style>
</head>
<body>
    <h1>Patches contributed by Yavapai College</h1>
    <div class="pagination">
        <span>[1]</span>
    </div>
    <hr>
    <pre>commit 801b295e4fd4a8c3344fcf523a12ef5ac41de889
Author: Anthony G. Basile &lt;basile@opensource.dyc.edu&gt;
Date:   Sat Nov 24 11:54:24 2012 -0500

    doc: Remove unnecessary declarations from Documentation/accounting/getdelays.c
    
    stime and utime are declared __u64 but are never used.  On a glibc system
    this is harmless lint, but on a uClibc system, because of the difference
    in they way header files stack, including stdio.h brings in time.h and
    this causes a name collision with stime.  Since these are useless anyhow,
    we remove them.
    
    Signed-off-by: Anthony G. Basile &lt;basile@opensource.dyc.edu&gt;
    Signed-off-by: Jiri Kosina &lt;jkosina@suse.cz&gt;

diff --git a/Documentation/accounting/getdelays.c b/Documentation/accounting/getdelays.c
index 6f706aca2049..f8ebcde43b17 100644
--- a/Documentation/accounting/getdelays.c
+++ b/Documentation/accounting/getdelays.c
@@ -51,7 +51,6 @@ int dbg;
 int print_delays;
 int print_io_accounting;
 int print_task_context_switch_counts;
-__u64 stime, utime;
 
 #define PRINTF(fmt, arg...) {			\
 	    if (dbg) {				\</pre><hr><pre>commit 08c2b394b98786ebb067e2a54d08f1f6f0d247da
Author: basile@opensource.dyc.edu &lt;basile@opensource.dyc.edu&gt;
Date:   Mon Sep 13 06:13:19 2010 -0400

    x86, build: Disable -fPIE when compiling with CONFIG_CC_STACKPROTECTOR=y
    
    The arch/x86/Makefile uses scripts/gcc-x86_$(BITS)-has-stack-protector.sh
    to check if cc1 supports -fstack-protector.  When -fPIE is passed to cc1,
    these scripts fail causing stack protection to be disabled even when it
    is available.
    
    This fix is similar to commit c47efe5548abbf53c2f66e06dcb46183b11d6b22
    
    Reported-by: Kai Dietrich &lt;mail@cleeus.de&gt;
    Signed-off-by: Magnus Granberg &lt;zorry@gentoo.org&gt;
    LKML-Reference: &lt;20100913101319.748A1148E216@opensource.dyc.edu&gt;
    Signed-off-by: Anthony G. Basile &lt;basile@opensource.dyc.edu&gt;
    Cc: Andrew Morton &lt;akpm@linux-foundation.org&gt;
    Signed-off-by: H. Peter Anvin &lt;hpa@linux.intel.com&gt;

diff --git a/arch/x86/Makefile b/arch/x86/Makefile
index 8aa1b59b9074..e8c8881351b3 100644
--- a/arch/x86/Makefile
+++ b/arch/x86/Makefile
@@ -74,7 +74,7 @@ endif
 
 ifdef CONFIG_CC_STACKPROTECTOR
 	cc_has_sp := $(srctree)/scripts/gcc-x86_$(BITS)-has-stack-protector.sh
-        ifeq ($(shell $(CONFIG_SHELL) $(cc_has_sp) $(CC) $(biarch)),y)
+        ifeq ($(shell $(CONFIG_SHELL) $(cc_has_sp) $(CC) $(KBUILD_CPPFLAGS) $(biarch)),y)
                 stackp-y := -fstack-protector
                 KBUILD_CFLAGS += $(stackp-y)
         else</pre>
    <div class="pagination">
        <span>[1]</span>
    <div>
</body>
