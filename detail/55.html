<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patches contributed by Oregon State University</title>
    <style>
    .pagination {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        overflow-wrap: break-word;
    }
    .pagination a, .pagination span {
        margin: 0 4px;
    }

    </style>
</head>
<body>
    <h1>Patches contributed by Oregon State University</h1>
    <div class="pagination">
        <span>[1]</span>
    </div>
    <hr>
    <pre>commit 2cb3ecf1c5fa4850073d48fb4a759fc650f08736
Author: Jack Schofield &lt;schofija@oregonstate.edu&gt;
Date:   Wed Nov 30 21:38:52 2022 -0800

    staging: greybus: loopback_test: Remove extra blank lines
    
    Clean up extra uses of blank lines that do not follow the kernel coding
    style. Issue reported by checkpatch.
    
    Reviewed-by: Johan Hovold &lt;johan@kernel.org&gt;
    Signed-off-by: Jack Schofield &lt;schofija@oregonstate.edu&gt;
    Link: https://lore.kernel.org/r/51edbcc7583d64d3fe5a203d3a8649a695ef4a75.1669872193.git.schofija@oregonstate.edu
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@linuxfoundation.org&gt;

diff --git a/drivers/staging/greybus/tools/loopback_test.c b/drivers/staging/greybus/tools/loopback_test.c
index 7c1697304ab4..d7ad51ff60c5 100644
--- a/drivers/staging/greybus/tools/loopback_test.c
+++ b/drivers/staging/greybus/tools/loopback_test.c
@@ -239,7 +239,6 @@ static void show_loopback_devices(struct loopback_test *t)
 
 	for (i = 0; i &lt; t-&gt;device_count; i++)
 		printf("device[%d] = %s\n", i, t-&gt;devices[i].name);
-
 }
 
 int open_sysfs(const char *sys_pfx, const char *node, int flags)
@@ -274,7 +273,6 @@ float read_sysfs_float_fd(int fd, const char *sys_pfx, const char *node)
 	char buf[SYSFS_MAX_INT];
 
 	if (read(fd, buf, sizeof(buf)) &lt; 0) {
-
 		fprintf(stderr, "unable to read from %s%s %s\n", sys_pfx, node,
 			strerror(errno));
 		close(fd);
@@ -367,7 +365,6 @@ static int get_results(struct loopback_test *t)
 			r-&gt;apbridge_unipro_latency_max - r-&gt;apbridge_unipro_latency_min;
 		r-&gt;gbphy_firmware_latency_jitter =
 			r-&gt;gbphy_firmware_latency_max - r-&gt;gbphy_firmware_latency_min;
-
 	}
 
 	/*calculate the aggregate results of all enabled devices */
@@ -407,7 +404,6 @@ static int get_results(struct loopback_test *t)
 			r-&gt;apbridge_unipro_latency_max - r-&gt;apbridge_unipro_latency_min;
 		r-&gt;gbphy_firmware_latency_jitter =
 			r-&gt;gbphy_firmware_latency_max - r-&gt;gbphy_firmware_latency_min;
-
 	}
 
 	return 0;
@@ -536,7 +532,6 @@ static int log_results(struct loopback_test *t)
 			fprintf(stderr, "unable to open %s for appending\n", file_name);
 			abort();
 		}
-
 	}
 	for (i = 0; i &lt; t-&gt;device_count; i++) {
 		if (!device_enabled(t, i))
@@ -550,10 +545,8 @@ static int log_results(struct loopback_test *t)
 			if (ret == -1)
 				fprintf(stderr, "unable to write %d bytes to csv.\n", len);
 		}
-
 	}
 
-
 	if (t-&gt;aggregate_output) {
 		len = format_output(t, &amp;t-&gt;aggregate_results, "aggregate",
 				    data, sizeof(data), &amp;tm);
@@ -741,7 +734,6 @@ static int wait_for_complete(struct loopback_test *t)
 		ts = &amp;t-&gt;poll_timeout;
 
 	while (1) {
-
 		ret = ppoll(t-&gt;fds, t-&gt;poll_count, ts, &amp;mask_old);
 		if (ret &lt;= 0) {
 			stop_tests(t);
@@ -781,7 +773,6 @@ static void prepare_devices(struct loopback_test *t)
 		if (t-&gt;stop_all || device_enabled(t, i))
 			write_sysfs_val(t-&gt;devices[i].sysfs_entry, "type", 0);
 
-
 	for (i = 0; i &lt; t-&gt;device_count; i++) {
 		if (!device_enabled(t, i))
 			continue;
@@ -824,7 +815,6 @@ static int start(struct loopback_test *t)
 	return 0;
 }
 
-
 void loopback_run(struct loopback_test *t)
 {
 	int i;
@@ -853,7 +843,6 @@ void loopback_run(struct loopback_test *t)
 	if (ret)
 		goto err;
 
-
 	get_results(t);
 
 	log_results(t);
@@ -881,10 +870,8 @@ static int sanity_check(struct loopback_test *t)
 			fprintf(stderr, "Bad device mask %x\n", (1 &lt;&lt; i));
 			return -1;
 		}
-
 	}
 
-
 	return 0;
 }
 </pre><hr><pre>commit 2206c10685ab92a74ead37c30a7f817125ccd723
Author: Jack Schofield &lt;schofija@oregonstate.edu&gt;
Date:   Wed Nov 30 21:38:51 2022 -0800

    staging: greybus: loopback_test: Remove void function return statement
    
    Void function return statement is not useful in this case. Issue
    reported by checkpatch.
    
    Reviewed-by: Johan Hovold &lt;johan@kernel.org&gt;
    Signed-off-by: Jack Schofield &lt;schofija@oregonstate.edu&gt;
    Link: https://lore.kernel.org/r/5d465d56a6e3de2cb9d2f34377cbb82678cc67b1.1669872193.git.schofija@oregonstate.edu
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@linuxfoundation.org&gt;

diff --git a/drivers/staging/greybus/tools/loopback_test.c b/drivers/staging/greybus/tools/loopback_test.c
index 242138c4f6cf..7c1697304ab4 100644
--- a/drivers/staging/greybus/tools/loopback_test.c
+++ b/drivers/staging/greybus/tools/loopback_test.c
@@ -862,7 +862,6 @@ void loopback_run(struct loopback_test *t)
 
 err:
 	printf("Error running test\n");
-	return;
 }
 
 static int sanity_check(struct loopback_test *t)</pre><hr><pre>commit d664761116ea12a2417b268af2fd936fe571f612
Author: Jack Schofield &lt;schofija@oregonstate.edu&gt;
Date:   Wed Nov 30 21:38:50 2022 -0800

    staging: greybus: loopback_test: Add blank line after declaration.
    
    Declarations are to be followed by a blank line. Add to follow Linux
    Kernel coding style. Issue reported by checkpatch.
    
    Reviewed-by: Johan Hovold &lt;johan@kernel.org&gt;
    Signed-off-by: Jack Schofield &lt;schofija@oregonstate.edu&gt;
    Link: https://lore.kernel.org/r/048967b5c3b157e19ccf4608f71da8418fc31877.1669872193.git.schofija@oregonstate.edu
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@linuxfoundation.org&gt;

diff --git a/drivers/staging/greybus/tools/loopback_test.c b/drivers/staging/greybus/tools/loopback_test.c
index 4c42e393cd3d..242138c4f6cf 100644
--- a/drivers/staging/greybus/tools/loopback_test.c
+++ b/drivers/staging/greybus/tools/loopback_test.c
@@ -675,6 +675,7 @@ static int open_poll_files(struct loopback_test *t)
 static int close_poll_files(struct loopback_test *t)
 {
 	int i;
+
 	for (i = 0; i &lt; t-&gt;poll_count; i++)
 		close(t-&gt;fds[i].fd);
 </pre><hr><pre>commit 00916cfc61779a80e378f431d668a4508421b330
Author: Chewie Lin &lt;linsh@oregonstate.edu&gt;
Date:   Wed Apr 19 00:58:35 2017 -0700

    drivers:staging:vt6656: remove usb_device_reset in main_usb.c:
    
    Removed the usb_device_reset(), replace with call to usb_reset_device()
    directly. Plus it removes the confusing function name and addressed
    the checkpatch warning. This change also swaps string in the dev_warn() call
    with __func__ argument to "vt6656_probe" instead of literal string
    "usb_reset_device".
    
            WARNING: Prefer using "%s", __func__ to embedded function names
            #417: FILE: main_usb.c:417:
            +                        "usb_device_reset fail status=%d\n", status);
    
            total: 0 errors, 1 warnings, 1058 lines checked
    
    And after fix:
    
             main_usb.c has no obvious style problems and is ready for submission.
    
    Signed-off-by: Chewie Lin &lt;linsh@oregonstate.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@linuxfoundation.org&gt;

diff --git a/drivers/staging/vt6656/main_usb.c b/drivers/staging/vt6656/main_usb.c
index 9e074e9daf4e..028f54b453d0 100644
--- a/drivers/staging/vt6656/main_usb.c
+++ b/drivers/staging/vt6656/main_usb.c
@@ -407,16 +407,6 @@ static void vnt_free_rx_bufs(struct vnt_private *priv)
 	}
 }
 
-static void usb_device_reset(struct vnt_private *priv)
-{
-	int status;
-
-	status = usb_reset_device(priv-&gt;usb);
-	if (status)
-		dev_warn(&amp;priv-&gt;usb-&gt;dev,
-			 "usb_device_reset fail status=%d\n", status);
-}
-
 static void vnt_free_int_bufs(struct vnt_private *priv)
 {
 	kfree(priv-&gt;int_buf.data_buf);
@@ -995,7 +985,10 @@ vt6656_probe(struct usb_interface *intf, const struct usb_device_id *id)
 
 	SET_IEEE80211_DEV(priv-&gt;hw, &amp;intf-&gt;dev);
 
-	usb_device_reset(priv);
+	rc = usb_reset_device(priv-&gt;usb);
+	if (rc)
+		dev_warn(&amp;priv-&gt;usb-&gt;dev,
+			 "%s reset fail status=%d\n", __func__, rc);
 
 	clear_bit(DEVICE_FLAGS_DISCONNECTED, &amp;priv-&gt;flags);
 	vnt_reset_command_timer(priv);</pre><hr><pre>commit 3d34023a99d35440d6a22fb0b4547fc9817b7b40
Author: Cody Harmon &lt;harmonco@flip.engr.oregonstate.edu&gt;
Date:   Tue May 18 23:03:40 2010 -0700

    Staging: comedi: ni_tio: fixed brace coding style issues and a few errors
    
    Fixed code style and placed KERN_ERR in printk statement.
    
    Signed-off-by: Cody Harmon &lt;harmonco@engr.orst.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/ni_tio.c b/drivers/staging/comedi/drivers/ni_tio.c
index 6621e940c308..a9bb6b13dfc4 100644
--- a/drivers/staging/comedi/drivers/ni_tio.c
+++ b/drivers/staging/comedi/drivers/ni_tio.c
@@ -302,7 +302,7 @@ struct ni_gpct_device *ni_gpct_device_construct(struct comedi_device *dev,
 									ni_gpct_register
 									reg),
 						unsigned (*read_register)
-						(struct ni_gpct * counter,
+						(struct ni_gpct *counter,
 						 enum ni_gpct_register reg),
 						enum ni_gpct_variant variant,
 						unsigned num_counters)
@@ -332,6 +332,7 @@ struct ni_gpct_device *ni_gpct_device_construct(struct comedi_device *dev,
 	counter_dev-&gt;num_counters = num_counters;
 	return counter_dev;
 }
+EXPORT_SYMBOL_GPL(ni_gpct_device_construct);
 
 void ni_gpct_device_destroy(struct ni_gpct_device *counter_dev)
 {
@@ -340,6 +341,7 @@ void ni_gpct_device_destroy(struct ni_gpct_device *counter_dev)
 	kfree(counter_dev-&gt;counters);
 	kfree(counter_dev);
 }
+EXPORT_SYMBOL_GPL(ni_gpct_device_destroy);
 
 static int ni_tio_second_gate_registers_present(const struct ni_gpct_device
 						*counter_dev)
@@ -418,6 +420,7 @@ void ni_tio_init_counter(struct ni_gpct *counter)
 			NITIO_Gi_Interrupt_Enable_Reg(counter-&gt;counter_index),
 			~0, 0x0);
 }
+EXPORT_SYMBOL_GPL(ni_tio_init_counter);
 
 static unsigned int ni_tio_counter_status(struct ni_gpct *counter)
 {
@@ -446,9 +449,7 @@ static void ni_tio_set_sync_mode(struct ni_gpct *counter, int force_alt_sync)
 	if (ni_tio_counting_mode_registers_present(counter_dev) == 0)
 		return;
 
-	switch (ni_tio_get_soft_copy(counter,
-				     counting_mode_reg) &amp; Gi_Counting_Mode_Mask)
-	{
+	switch (ni_tio_get_soft_copy(counter, counting_mode_reg) &amp; Gi_Counting_Mode_Mask) {
 	case Gi_Counting_Mode_QuadratureX1_Bits:
 	case Gi_Counting_Mode_QuadratureX2_Bits:
 	case Gi_Counting_Mode_QuadratureX4_Bits:
@@ -513,9 +514,8 @@ static int ni_tio_set_counter_mode(struct ni_gpct *counter, unsigned mode)
 		counting_mode_bits |=
 		    ((mode &gt;&gt; NI_GPCT_INDEX_PHASE_BITSHIFT) &lt;&lt;
 		     Gi_Index_Phase_Bitshift) &amp; Gi_Index_Phase_Mask;
-		if (mode &amp; NI_GPCT_INDEX_ENABLE_BIT) {
+		if (mode &amp; NI_GPCT_INDEX_ENABLE_BIT)
 			counting_mode_bits |= Gi_Index_Mode_Bit;
-		}
 		ni_tio_set_bits(counter,
 				NITIO_Gi_Counting_Mode_Reg(counter-&gt;
 							   counter_index),
@@ -529,12 +529,10 @@ static int ni_tio_set_counter_mode(struct ni_gpct *counter, unsigned mode)
 			(mode &gt;&gt; NI_GPCT_COUNTING_DIRECTION_SHIFT) &lt;&lt;
 			Gi_Up_Down_Shift);
 
-	if (mode &amp; NI_GPCT_OR_GATE_BIT) {
+	if (mode &amp; NI_GPCT_OR_GATE_BIT)
 		input_select_bits |= Gi_Or_Gate_Bit;
-	}
-	if (mode &amp; NI_GPCT_INVERT_OUTPUT_BIT) {
+	if (mode &amp; NI_GPCT_INVERT_OUTPUT_BIT)
 		input_select_bits |= Gi_Output_Polarity_Bit;
-	}
 	ni_tio_set_bits(counter,
 			NITIO_Gi_Input_Select_Reg(counter-&gt;counter_index),
 			Gi_Gate_Select_Load_Source_Bit | Gi_Or_Gate_Bit |
@@ -600,6 +598,7 @@ int ni_tio_arm(struct ni_gpct *counter, int arm, unsigned start_trigger)
 				  0, 0, command_transient_bits);
 	return 0;
 }
+EXPORT_SYMBOL_GPL(ni_tio_arm);
 
 static unsigned ni_660x_source_select_bits(unsigned int clock_source)
 {
@@ -706,7 +705,7 @@ static unsigned ni_m_series_source_select_bits(unsigned int clock_source)
 		}
 		if (i &lt;= ni_m_series_max_pfi_channel)
 			break;
-		printk("invalid clock source 0x%lx\n",
+		printk(KERN_ERR "invalid clock source 0x%lx\n",
 		       (unsigned long)clock_source);
 		BUG();
 		ni_m_series_clock = 0;
@@ -1026,14 +1025,12 @@ static void ni_tio_set_first_gate_modifiers(struct ni_gpct *counter,
 	const unsigned mode_mask = Gi_Gate_Polarity_Bit | Gi_Gating_Mode_Mask;
 	unsigned mode_values = 0;
 
-	if (gate_source &amp; CR_INVERT) {
+	if (gate_source &amp; CR_INVERT)
 		mode_values |= Gi_Gate_Polarity_Bit;
-	}
-	if (gate_source &amp; CR_EDGE) {
+	if (gate_source &amp; CR_EDGE)
 		mode_values |= Gi_Rising_Edge_Gating_Bits;
-	} else {
+	else
 		mode_values |= Gi_Level_Gating_Bits;
-	}
 	ni_tio_set_bits(counter, NITIO_Gi_Mode_Reg(counter-&gt;counter_index),
 			mode_mask, mode_values);
 }
@@ -1290,6 +1287,7 @@ int ni_tio_set_gate_src(struct ni_gpct *counter, unsigned gate_index,
 	}
 	return 0;
 }
+EXPORT_SYMBOL_GPL(ni_tio_set_gate_src);
 
 static int ni_tio_set_other_src(struct ni_gpct *counter, unsigned index,
 				unsigned int source)
@@ -1531,12 +1529,10 @@ static int ni_tio_get_gate_src(struct ni_gpct *counter, unsigned gate_index,
 			BUG();
 			break;
 		}
-		if (mode_bits &amp; Gi_Gate_Polarity_Bit) {
+		if (mode_bits &amp; Gi_Gate_Polarity_Bit)
 			*gate_source |= CR_INVERT;
-		}
-		if ((mode_bits &amp; Gi_Gating_Mode_Mask) != Gi_Level_Gating_Bits) {
+		if ((mode_bits &amp; Gi_Gating_Mode_Mask) != Gi_Level_Gating_Bits)
 			*gate_source |= CR_EDGE;
-		}
 		break;
 	case 1:
 		if ((mode_bits &amp; Gi_Gating_Mode_Mask) == Gi_Gating_Disabled_Bits
@@ -1572,9 +1568,8 @@ static int ni_tio_get_gate_src(struct ni_gpct *counter, unsigned gate_index,
 			*gate_source |= CR_INVERT;
 		}
 		/* second gate can't have edge/level mode set independently */
-		if ((mode_bits &amp; Gi_Gating_Mode_Mask) != Gi_Level_Gating_Bits) {
+		if ((mode_bits &amp; Gi_Gating_Mode_Mask) != Gi_Level_Gating_Bits)
 			*gate_source |= CR_EDGE;
-		}
 		break;
 	default:
 		return -EINVAL;
@@ -1627,6 +1622,7 @@ int ni_tio_insn_config(struct ni_gpct *counter,
 	}
 	return -EINVAL;
 }
+EXPORT_SYMBOL_GPL(ni_tio_insn_config);
 
 int ni_tio_rinsn(struct ni_gpct *counter, struct comedi_insn *insn,
 		 unsigned int *data)
@@ -1681,6 +1677,7 @@ int ni_tio_rinsn(struct ni_gpct *counter, struct comedi_insn *insn,
 	};
 	return 0;
 }
+EXPORT_SYMBOL_GPL(ni_tio_rinsn);
 
 static unsigned ni_tio_next_load_register(struct ni_gpct *counter)
 {
@@ -1734,12 +1731,4 @@ int ni_tio_winsn(struct ni_gpct *counter, struct comedi_insn *insn,
 	}
 	return 0;
 }
-
-EXPORT_SYMBOL_GPL(ni_tio_rinsn);
 EXPORT_SYMBOL_GPL(ni_tio_winsn);
-EXPORT_SYMBOL_GPL(ni_tio_insn_config);
-EXPORT_SYMBOL_GPL(ni_tio_init_counter);
-EXPORT_SYMBOL_GPL(ni_tio_arm);
-EXPORT_SYMBOL_GPL(ni_tio_set_gate_src);
-EXPORT_SYMBOL_GPL(ni_gpct_device_construct);
-EXPORT_SYMBOL_GPL(ni_gpct_device_destroy);</pre>
    <div class="pagination">
        <span>[1]</span>
    <div>
</body>
