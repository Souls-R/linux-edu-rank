<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patches contributed by Virginia Tech</title>
    <style>
    .pagination {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        overflow-wrap: break-word;
    }
    .pagination a, .pagination span {
        margin: 0 4px;
    }

    </style>
</head>
<body>
    <h1>Patches contributed by Virginia Tech</h1>
    <div class="pagination">
        <a href='10_10.html'>&lt;&lt;Prev</a><a href='10.html'>1</a><a href='10_2.html'>2</a><a href='10_3.html'>3</a><a href='10_4.html'>4</a><a href='10_5.html'>5</a><a href='10_6.html'>6</a><a href='10_7.html'>7</a><a href='10_8.html'>8</a><a href='10_9.html'>9</a><a href='10_10.html'>10</a><span>[11]</span><a href='10_12.html'>12</a><a href='10_12.html'>Next&gt;&gt;</a>
    </div>
    <hr>
    <pre>commit 38124328fb3ea0b28451071bf3c7401e35c91020
Author: Reese Moore &lt;ram@vt.edu&gt;
Date:   Wed Nov 7 07:05:08 2012 +0000

    netfilter: nf_ct_pptp: Fix comment referring to incorrect RFC
    
    The header of this file cites to "RFFC2673" which is "Binary Labels in the
    Domain Name System". It should refer to "RFC 2637" which is "Point-to-Point
    Tunneling Protocol (PPTP)". This patch also corrects the typo RFFC.
    
    Signed-off-by: Reese Moore &lt;ram@vt.edu&gt;
    Signed-off-by: Pablo Neira Ayuso &lt;pablo@netfilter.org&gt;

diff --git a/net/netfilter/nf_conntrack_pptp.c b/net/netfilter/nf_conntrack_pptp.c
index cc7669ef0b95..e6678d2b624e 100644
--- a/net/netfilter/nf_conntrack_pptp.c
+++ b/net/netfilter/nf_conntrack_pptp.c
@@ -14,7 +14,7 @@
  * Limitations:
  * 	 - We blindly assume that control connections are always
  * 	   established in PNS-&gt;PAC direction.  This is a violation
- * 	   of RFFC2673
+ *	   of RFC 2637
  * 	 - We can only support one single call within each session
  * TODO:
  *	 - testing of incoming PPTP calls</pre><hr><pre>commit d19978f58745e586d9385d306d557e7c785abe23
Author: Valdis Kletnieks &lt;Valdis.Kletnieks@vt.edu&gt;
Date:   Wed Nov 9 01:29:20 2011 -0500

    crypto: fix typo in crypto/Kconfig
    
    Fix a typo in the Kconfig file help text.
    
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    Signed-off-by: Herbert Xu &lt;herbert@gondor.apana.org.au&gt;

diff --git a/crypto/Kconfig b/crypto/Kconfig
index 527a857d10b6..733208fe0a2d 100644
--- a/crypto/Kconfig
+++ b/crypto/Kconfig
@@ -105,7 +105,7 @@ config CRYPTO_USER
 	depends on NET
 	select CRYPTO_MANAGER
 	help
-	  Userapace configuration for cryptographic instantiations such as
+	  Userspace configuration for cryptographic instantiations such as
 	  cbc(aes).
 
 config CRYPTO_MANAGER_DISABLE_TESTS</pre><hr><pre>commit d2df40857fd57f02906e6ac1484d10cb7accbc86
Author: Valdis Kletnieks &lt;Valdis.Kletnieks@vt.edu&gt;
Date:   Fri Oct 29 17:03:46 2010 -0400

    drivers/dma/Kconfig: add part number for Topcliff.
    
    Product codenames are OK, but once an actual product name is available,
    it should be referenced as well.
    
      http://ark.intel.com/chipset.aspx?familyID=52499
    
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    Signed-off-by: Linus Torvalds &lt;torvalds@linux-foundation.org&gt;

diff --git a/drivers/dma/Kconfig b/drivers/dma/Kconfig
index 79d1542f31c0..6ee23592700a 100644
--- a/drivers/dma/Kconfig
+++ b/drivers/dma/Kconfig
@@ -200,11 +200,11 @@ config PL330_DMA
 	  platform_data for a dma-pl330 device.
 
 config PCH_DMA
-	tristate "Topcliff PCH DMA support"
+	tristate "Topcliff (Intel EG20T) PCH DMA support"
 	depends on PCI &amp;&amp; X86
 	select DMA_ENGINE
 	help
-	  Enable support for the Topcliff PCH DMA engine.
+	  Enable support for the Topcliff (Intel EG20T) PCH DMA engine.
 
 config IMX_SDMA
 	tristate "i.MX SDMA support"</pre><hr><pre>commit 4c6a3999651741419cd3cc4303cf0c2be07d89bc
Author: Valdis Kletnieks &lt;Valdis.Kletnieks@vt.edu&gt;
Date:   Thu Apr 22 14:29:10 2010 -0400

    dri-devel mailing list moved - update MAINTAINERS
    
    I posted to dri-devel@lists.sourceforge.net, and got a bounce back:
    
       The dri-devel list has moved to freedesktop.org (see
       http://lists.freedesktop.org/mailman/listinfo/dri-devel). If you were
       subscribed to the list here, the subscription should have been
       transferred to the new location.
    
       Please only post to the new list.
    
    Fix MAINTAINERS to correspond.
    
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    Signed-off-by: Linus Torvalds &lt;torvalds@linux-foundation.org&gt;

diff --git a/MAINTAINERS b/MAINTAINERS
index a2d9254a2233..183887518fe3 100644
--- a/MAINTAINERS
+++ b/MAINTAINERS
@@ -1960,7 +1960,7 @@ F:	lib/kobj*
 
 DRM DRIVERS
 M:	David Airlie &lt;airlied@linux.ie&gt;
-L:	dri-devel@lists.sourceforge.net
+L:	dri-devel@lists.freedesktop.org
 T:	git git://git.kernel.org/pub/scm/linux/kernel/git/airlied/drm-2.6.git
 S:	Maintained
 F:	drivers/gpu/drm/</pre><hr><pre>commit fb9f88e1dc76f9feb39d39c40a5d61aad6df4388
Author: Bharath Ramesh &lt;bramesh@vt.edu&gt;
Date:   Thu Jan 29 14:25:24 2009 -0800

    hwmon: applesmc: add support for MacPro 3 temperature sensors
    
    MacPro 3 have more temperature sensors than the previous MacPro's also the
    sensor THTG has been removed.  This patch add supports for the newer
    temperature sensors in the MacPro3.
    
    Signed-off-by: Bharath Ramesh &lt;bramesh@vt.edu&gt;
    Signed-off-by: Henrik Rydberg &lt;rydberg@euromail.se&gt;
    Signed-off-by: Andrew Morton &lt;akpm@linux-foundation.org&gt;
    Signed-off-by: Linus Torvalds &lt;torvalds@linux-foundation.org&gt;

diff --git a/drivers/hwmon/applesmc.c b/drivers/hwmon/applesmc.c
index e30186236588..678e34b01e52 100644
--- a/drivers/hwmon/applesmc.c
+++ b/drivers/hwmon/applesmc.c
@@ -83,7 +83,7 @@
 /*
  * Temperature sensors keys (sp78 - 2 bytes).
  */
-static const char* temperature_sensors_sets[][36] = {
+static const char *temperature_sensors_sets[][41] = {
 /* Set 0: Macbook Pro */
 	{ "TA0P", "TB0T", "TC0D", "TC0P", "TG0H", "TG0P", "TG0T", "Th0H",
 	  "Th1H", "Tm0P", "Ts0P", "Ts1P", NULL },
@@ -135,6 +135,13 @@ static const char* temperature_sensors_sets[][36] = {
 	{ "TB0T", "TB1S", "TB1T", "TB2S", "TB2T", "TC0D", "TN0D", "TTF0",
 	  "TV0P", "TVFP", "TW0P", "Th0P", "Tp0P", "Tp1P", "TpFP", "Ts0P",
 	  "Ts0S", NULL },
+/* Set 16: Mac Pro 3,1 (2 x Quad-Core) */
+	{ "TA0P", "TCAG", "TCAH", "TCBG", "TCBH", "TC0C", "TC0D", "TC0P",
+	  "TC1C", "TC1D", "TC2C", "TC2D", "TC3C", "TC3D", "TH0P", "TH1P",
+	  "TH2P", "TH3P", "TMAP", "TMAS", "TMBS", "TM0P", "TM0S", "TM1P",
+	  "TM1S", "TM2P", "TM2S", "TM3S", "TM8P", "TM8S", "TM9P", "TM9S",
+	  "TN0C", "TN0D", "TN0H", "TS0C", "Tp0C", "Tp1C", "Tv0S", "Tv1S",
+	  NULL },
 };
 
 /* List of keys used to read/write fan speeds */
@@ -1153,6 +1160,16 @@ static SENSOR_DEVICE_ATTR(temp34_input, S_IRUGO,
 					applesmc_show_temperature, NULL, 33);
 static SENSOR_DEVICE_ATTR(temp35_input, S_IRUGO,
 					applesmc_show_temperature, NULL, 34);
+static SENSOR_DEVICE_ATTR(temp36_input, S_IRUGO,
+					applesmc_show_temperature, NULL, 35);
+static SENSOR_DEVICE_ATTR(temp37_input, S_IRUGO,
+					applesmc_show_temperature, NULL, 36);
+static SENSOR_DEVICE_ATTR(temp38_input, S_IRUGO,
+					applesmc_show_temperature, NULL, 37);
+static SENSOR_DEVICE_ATTR(temp39_input, S_IRUGO,
+					applesmc_show_temperature, NULL, 38);
+static SENSOR_DEVICE_ATTR(temp40_input, S_IRUGO,
+					applesmc_show_temperature, NULL, 39);
 
 static struct attribute *temperature_attributes[] = {
 	&amp;sensor_dev_attr_temp1_input.dev_attr.attr,
@@ -1190,6 +1207,11 @@ static struct attribute *temperature_attributes[] = {
 	&amp;sensor_dev_attr_temp33_input.dev_attr.attr,
 	&amp;sensor_dev_attr_temp34_input.dev_attr.attr,
 	&amp;sensor_dev_attr_temp35_input.dev_attr.attr,
+	&amp;sensor_dev_attr_temp36_input.dev_attr.attr,
+	&amp;sensor_dev_attr_temp37_input.dev_attr.attr,
+	&amp;sensor_dev_attr_temp38_input.dev_attr.attr,
+	&amp;sensor_dev_attr_temp39_input.dev_attr.attr,
+	&amp;sensor_dev_attr_temp40_input.dev_attr.attr,
 	NULL
 };
 
@@ -1312,6 +1334,8 @@ static __initdata struct dmi_match_data applesmc_dmi_data[] = {
 	{ .accelerometer = 0, .light = 0, .temperature_set = 14 },
 /* MacBook Air 2,1: accelerometer, backlight and temperature set 15 */
 	{ .accelerometer = 1, .light = 1, .temperature_set = 15 },
+/* MacPro3,1: temperature set 16 */
+	{ .accelerometer = 0, .light = 0, .temperature_set = 16 },
 };
 
 /* Note that DMI_MATCH(...,"MacBook") will match "MacBookPro1,1".
@@ -1369,6 +1393,10 @@ static __initdata struct dmi_system_id applesmc_whitelist[] = {
 	  DMI_MATCH(DMI_BOARD_VENDOR,"Apple"),
 	  DMI_MATCH(DMI_PRODUCT_NAME,"MacPro2") },
 		&amp;applesmc_dmi_data[4]},
+	{ applesmc_dmi_match, "Apple MacPro3", {
+	  DMI_MATCH(DMI_BOARD_VENDOR, "Apple"),
+	  DMI_MATCH(DMI_PRODUCT_NAME, "MacPro3") },
+		&amp;applesmc_dmi_data[16]},
 	{ applesmc_dmi_match, "Apple MacPro", {
 	  DMI_MATCH(DMI_BOARD_VENDOR, "Apple"),
 	  DMI_MATCH(DMI_PRODUCT_NAME, "MacPro") },</pre><hr><pre>commit 292cf4a8a989cb564a6a5f0ba7a66e08a095afa1
Author: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
Date:   Wed Oct 15 22:04:35 2008 -0700

    tpm: work around bug in Broadcom BCM0102 chipset
    
    Patch tpm-correct-tpm-timeouts-to-jiffies-conversion reveals a bug in the
    Broadcom BCM0102 TPM chipset used in the Dell Latitude D820 - although
    most of the timeouts are returned in usecs as per the spec, one is
    apparently returned in msecs, which results in a too-small value leading
    to a timeout when the code treats it as usecs.  To prevent a regression,
    we check for the known too-short value and adjust it to a value that makes
    things work.
    
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    Cc: Marcin Obara &lt;marcin_obara@users.sourceforge.net&gt;
    Cc: Marcel Selhorst &lt;tpm@selhorst.net&gt;
    Cc: Kylene Jo Hall &lt;kjhall@us.ibm.com&gt;
    Signed-off-by: Andrew Morton &lt;akpm@linux-foundation.org&gt;
    Signed-off-by: Linus Torvalds &lt;torvalds@linux-foundation.org&gt;

diff --git a/drivers/char/tpm/tpm.c b/drivers/char/tpm/tpm.c
index 6b5a0e0127a7..aa899cec6b3f 100644
--- a/drivers/char/tpm/tpm.c
+++ b/drivers/char/tpm/tpm.c
@@ -557,6 +557,13 @@ void tpm_get_timeouts(struct tpm_chip *chip)
 	    usecs_to_jiffies(be32_to_cpu
 			     (*((__be32 *) (data +
 					    TPM_GET_CAP_RET_UINT32_1_IDX))));
+	/* The Broadcom BCM0102 chipset in a Dell Latitude D820 gets the above
+	 * value wrong and apparently reports msecs rather than usecs. So we
+	 * fix up the resulting too-small TPM_SHORT value to make things work.
+	 */
+	if (chip-&gt;vendor.duration[TPM_SHORT] &lt; (HZ/100))
+		chip-&gt;vendor.duration[TPM_SHORT] = HZ;
+
 	chip-&gt;vendor.duration[TPM_MEDIUM] =
 	    usecs_to_jiffies(be32_to_cpu
 			     (*((__be32 *) (data +</pre><hr><pre>commit 243f40cecb292cbb2333749614cf54302fc9cdc0
Author: Valdis Kletnieks &lt;Valdis.Kletnieks@vt.edu&gt;
Date:   Fri Dec 28 21:22:48 2007 -0500

    kbuild: document 'make prepare' in 'make help'
    
    The output of 'make help' covers a lot of options, but doesn't include
    a listing for 'make prepare'.  Here's a one-liner to fix that...
    
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    Signed-off-by: Sam Ravnborg &lt;sam@ravnborg.org&gt;

diff --git a/Makefile b/Makefile
index 698dfc6ba65c..6847464402aa 100644
--- a/Makefile
+++ b/Makefile
@@ -1181,6 +1181,7 @@ help:
 	@echo  '  dir/            - Build all files in dir and below'
 	@echo  '  dir/file.[ois]  - Build specified target only'
 	@echo  '  dir/file.ko     - Build module including final link'
+	@echo  '  prepare         - Set up for building external modules'
 	@echo  '  tags/TAGS	  - Generate tags file for editors'
 	@echo  '  cscope	  - Generate cscope index'
 	@echo  '  kernelrelease	  - Output the release version string'</pre><hr><pre>commit 319e799abb89d9215a203e32c2cad51115d302f4
Author: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
Date:   Wed Dec 6 20:37:43 2006 -0800

    [PATCH] ver_linux additions
    
    scripts/ver_linux needed some minor clean-ups, as follows:
    1) Add reporting of actual oprofile release
    2) Add reporting of actual wireless-tools release
    3) Add reporting of actual pcmciautils release
    
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    Signed-off-by: Andrew Morton &lt;akpm@osdl.org&gt;
    Signed-off-by: Linus Torvalds &lt;torvalds@osdl.org&gt;

diff --git a/scripts/ver_linux b/scripts/ver_linux
index 84999f69773d..72876dfadc8a 100755
--- a/scripts/ver_linux
+++ b/scripts/ver_linux
@@ -48,6 +48,8 @@ fsck.reiser4 -V 2&gt;&amp;1 | grep ^fsck.reiser4 | awk \
 xfs_db -V 2&gt;&amp;1 | grep version | awk \
 'NR==1{print "xfsprogs              ", $3}'
 
+pccardctl -V 2&gt;&amp;1| grep pcmciautils | awk '{print "pcmciautils           ", $2}'
+
 cardmgr -V 2&gt;&amp;1| grep version | awk \
 'NR==1{print "pcmcia-cs             ", $3}'
 
@@ -87,10 +89,16 @@ loadkeys -h 2&gt;&amp;1 | awk \
 loadkeys -V 2&gt;&amp;1 | awk \
 '(NR==1 &amp;&amp; ($2 ~ /console-tools/)) {print "Console-tools         ", $3}'
 
+oprofiled --version 2&gt;&amp;1 | awk \
+'(NR==1 &amp;&amp; ($2 == "oprofile")) {print "oprofile              ", $3}'
+
 expr --v 2&gt;&amp;1 | awk 'NR==1{print "Sh-utils              ", $NF}'
 
 udevinfo -V 2&gt;&amp;1 | grep version | awk '{print "udev                  ", $3}'
 
+iwconfig --version 2&gt;&amp;1 | awk \
+'(NR==1 &amp;&amp; ($3 == "version")) {print "wireless-tools        ",$4}'
+
 if [ -e /proc/modules ]; then
     X=`cat /proc/modules | sed -e "s/ .*$//"`
     echo "Modules Loaded         "$X</pre><hr><pre>commit 73af994c7d58dd513922dc9d5cd76b124ec02b1b
Author: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
Date:   Wed Apr 19 09:23:09 2006 +0200

    [PATCH] Document online io scheduler switching
    
    We added the ability to change a block device's IO elevator scheduler both
    at kernel boot and on-the-fly, but we only documented the elevator= boot
    parameter.  Add a quick how-to on doing it on the fly.
    
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    Signed-off-by: Andrew Morton &lt;akpm@osdl.org&gt;
    Signed-off-by: Jens Axboe &lt;axboe@suse.de&gt;

diff --git a/Documentation/block/switching-sched.txt b/Documentation/block/switching-sched.txt
new file mode 100644
index 000000000000..5fa130a67531
--- /dev/null
+++ b/Documentation/block/switching-sched.txt
@@ -0,0 +1,22 @@
+As of the Linux 2.6.10 kernel, it is now possible to change the
+IO scheduler for a given block device on the fly (thus making it possible,
+for instance, to set the CFQ scheduler for the system default, but
+set a specific device to use the anticipatory or noop schedulers - which
+can improve that device's throughput).
+
+To set a specific scheduler, simply do this:
+
+echo SCHEDNAME &gt; /sys/block/DEV/queue/scheduler
+
+where SCHEDNAME is the name of a defined IO scheduler, and DEV is the
+device name (hda, hdb, sga, or whatever you happen to have).
+
+The list of defined schedulers can be found by simply doing
+a "cat /sys/block/DEV/queue/scheduler" - the list of valid names
+will be displayed, with the currently selected scheduler in brackets:
+
+# cat /sys/block/hda/queue/scheduler
+noop anticipatory deadline [cfq]
+# echo anticipatory &gt; /sys/block/hda/queue/scheduler
+# cat /sys/block/hda/queue/scheduler
+noop [anticipatory] deadline cfq</pre><hr><pre>commit 4f95af5bb546a9e7f46ed10f5e0dbe1e42a77884
Author: Valdis Kletnieks &lt;Valdis.Kletnieks@vt.edu&gt;
Date:   Thu Jan 19 02:07:47 2006 -0500

    [PATCH] orinoco_cs: tweak Vcc debugging messages
    
    The current orinoco_cs.c can issue the exact same error message for
    2 different tests that can fail.  Alter them so we can tell which
    one of the two failed.
    
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    Signed-off-by: John W. Linville &lt;linville@tuxdriver.com&gt;

diff --git a/drivers/net/wireless/orinoco_cs.c b/drivers/net/wireless/orinoco_cs.c
index b664708481cc..3c128b692bce 100644
--- a/drivers/net/wireless/orinoco_cs.c
+++ b/drivers/net/wireless/orinoco_cs.c
@@ -261,13 +261,13 @@ orinoco_cs_config(dev_link_t *link)
 		/* Note that the CIS values need to be rescaled */
 		if (cfg-&gt;vcc.present &amp; (1 &lt;&lt; CISTPL_POWER_VNOM)) {
 			if (conf.Vcc != cfg-&gt;vcc.param[CISTPL_POWER_VNOM] / 10000) {
-				DEBUG(2, "orinoco_cs_config: Vcc mismatch (conf.Vcc = %d, CIS = %d)\n",  conf.Vcc, cfg-&gt;vcc.param[CISTPL_POWER_VNOM] / 10000);
+				DEBUG(2, "orinoco_cs_config: Vcc mismatch (conf.Vcc = %d, cfg CIS = %d)\n",  conf.Vcc, cfg-&gt;vcc.param[CISTPL_POWER_VNOM] / 10000);
 				if (!ignore_cis_vcc)
 					goto next_entry;
 			}
 		} else if (dflt.vcc.present &amp; (1 &lt;&lt; CISTPL_POWER_VNOM)) {
 			if (conf.Vcc != dflt.vcc.param[CISTPL_POWER_VNOM] / 10000) {
-				DEBUG(2, "orinoco_cs_config: Vcc mismatch (conf.Vcc = %d, CIS = %d)\n",  conf.Vcc, dflt.vcc.param[CISTPL_POWER_VNOM] / 10000);
+				DEBUG(2, "orinoco_cs_config: Vcc mismatch (conf.Vcc = %d, dflt CIS = %d)\n",  conf.Vcc, dflt.vcc.param[CISTPL_POWER_VNOM] / 10000);
 				if(!ignore_cis_vcc)
 					goto next_entry;
 			}</pre>
    <div class="pagination">
        <a href='10_10.html'>&lt;&lt;Prev</a><a href='10.html'>1</a><a href='10_2.html'>2</a><a href='10_3.html'>3</a><a href='10_4.html'>4</a><a href='10_5.html'>5</a><a href='10_6.html'>6</a><a href='10_7.html'>7</a><a href='10_8.html'>8</a><a href='10_9.html'>9</a><a href='10_10.html'>10</a><span>[11]</span><a href='10_12.html'>12</a><a href='10_12.html'>Next&gt;&gt;</a>
    <div>
</body>
