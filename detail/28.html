<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patches contributed by Jimei University</title>
    <style>
    .pagination {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        overflow-wrap: break-word;
    }
    .pagination a, .pagination span {
        margin: 0 4px;
    }

    </style>
</head>
<body>
    <h1>Patches contributed by Jimei University</h1>
    <div class="pagination">
        <span>[1]</span><a href='28_2.html'>2</a><a href='28_3.html'>3</a><a href='28_2.html'>Next&gt;&gt;</a>
    </div>
    <hr>
    <pre>commit 6c7676a2d3cde81f02e2cb7ac40ca5a99c107dec
Author: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
Date:   Tue Apr 9 20:00:03 2024 +0800

    arm64: dts: rockchip: enable onboard spi flash for rock-3a
    
    There is a mx25u12835f spi flash on this board, enable it.
    
    [    2.525805] spi-nor spi4.0: mx25u12835f (16384 Kbytes)
    
    Signed-off-by: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
    Link: https://lore.kernel.org/r/20240409120003.309358-2-amadeus@jmu.edu.cn
    Signed-off-by: Heiko Stuebner &lt;heiko@sntech.de&gt;

diff --git a/arch/arm64/boot/dts/rockchip/rk3568-rock-3a.dts b/arch/arm64/boot/dts/rockchip/rk3568-rock-3a.dts
index ccc4119ca43a..ebdedea15ad1 100644
--- a/arch/arm64/boot/dts/rockchip/rk3568-rock-3a.dts
+++ b/arch/arm64/boot/dts/rockchip/rk3568-rock-3a.dts
@@ -757,6 +757,20 @@ &amp;sdmmc2 {
 	status = "okay";
 };
 
+&amp;sfc {
+	#address-cells = &lt;1&gt;;
+	#size-cells = &lt;0&gt;;
+	status = "okay";
+
+	flash@0 {
+		compatible = "jedec,spi-nor";
+		reg = &lt;0x0&gt;;
+		spi-max-frequency = &lt;104000000&gt;;
+		spi-rx-bus-width = &lt;4&gt;;
+		spi-tx-bus-width = &lt;1&gt;;
+	};
+};
+
 &amp;tsadc {
 	rockchip,hw-tshut-mode = &lt;1&gt;;
 	rockchip,hw-tshut-polarity = &lt;0&gt;;</pre><hr><pre>commit ee219017ddb50be14c60d3cbe3e51ac0b2008d40
Author: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
Date:   Sun Apr 28 20:36:18 2024 +0800

    arm64: dts: rockchip: Add Radxa ROCK 3C
    
    The Radxa ROCK 3C is a development board with the
    Rockchip RK3566 SoC. It has the following features:
    
    - 1/2/4GB LPDDR4
    - 1x HDMI Type A
    - 1x PCIE 2.0 slot
    - 1x FAN connector
    - 3.5mm jack with mic
    - 1GbE RTL8211F Ethernet
    - 1x USB 3.0, 3x USB 2.0
    - 40-pin expansion header
    - MicroSD card/eMMC socket
    - 16MB SPI NOR (gd25lq128d)
    - AP6256 or AIC8800 WiFi/BT
    
    Signed-off-by: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
    Link: https://lore.kernel.org/r/20240428123618.72170-3-amadeus@jmu.edu.cn
    [dropped rk809-sound and not specified pmic sound properties]
    Signed-off-by: Heiko Stuebner &lt;heiko@sntech.de&gt;

diff --git a/arch/arm64/boot/dts/rockchip/Makefile b/arch/arm64/boot/dts/rockchip/Makefile
index 0624c72840b8..f42fa62b4064 100644
--- a/arch/arm64/boot/dts/rockchip/Makefile
+++ b/arch/arm64/boot/dts/rockchip/Makefile
@@ -91,6 +91,7 @@ dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3566-quartz64-a.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3566-quartz64-b.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3566-radxa-cm3-io.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3566-roc-pc.dtb
+dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3566-rock-3c.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3566-soquartz-blade.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3566-soquartz-cm4.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3566-soquartz-model-a.dtb
diff --git a/arch/arm64/boot/dts/rockchip/rk3566-rock-3c.dts b/arch/arm64/boot/dts/rockchip/rk3566-rock-3c.dts
new file mode 100644
index 000000000000..b242409d378c
--- /dev/null
+++ b/arch/arm64/boot/dts/rockchip/rk3566-rock-3c.dts
@@ -0,0 +1,726 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR MIT)
+
+/dts-v1/;
+#include &lt;dt-bindings/gpio/gpio.h&gt;
+#include &lt;dt-bindings/leds/common.h&gt;
+#include &lt;dt-bindings/pinctrl/rockchip.h&gt;
+#include &lt;dt-bindings/soc/rockchip,vop2.h&gt;
+#include "rk3566.dtsi"
+
+/ {
+	model = "Radxa ROCK 3C";
+	compatible = "radxa,rock-3c", "rockchip,rk3566";
+
+	aliases {
+		ethernet0 = &amp;gmac1;
+		mmc0 = &amp;sdhci;
+		mmc1 = &amp;sdmmc0;
+		mmc2 = &amp;sdmmc1;
+	};
+
+	chosen: chosen {
+		stdout-path = "serial2:1500000n8";
+	};
+
+	gmac1_clkin: external-gmac1-clock {
+		compatible = "fixed-clock";
+		clock-frequency = &lt;125000000&gt;;
+		clock-output-names = "gmac1_clkin";
+		#clock-cells = &lt;0&gt;;
+	};
+
+	hdmi-con {
+		compatible = "hdmi-connector";
+		type = "a";
+
+		port {
+			hdmi_con_in: endpoint {
+				remote-endpoint = &lt;&amp;hdmi_out_con&gt;;
+			};
+		};
+	};
+
+	leds {
+		compatible = "gpio-leds";
+
+		led-0 {
+			gpios = &lt;&amp;gpio0 RK_PA0 GPIO_ACTIVE_HIGH&gt;;
+			function = LED_FUNCTION_HEARTBEAT;
+			color = &lt;LED_COLOR_ID_BLUE&gt;;
+			linux,default-trigger = "heartbeat";
+			pinctrl-names = "default";
+			pinctrl-0 = &lt;&amp;user_led2&gt;;
+		};
+	};
+
+	sdio_pwrseq: sdio-pwrseq {
+		compatible = "mmc-pwrseq-simple";
+		clocks = &lt;&amp;rk809 1&gt;;
+		clock-names = "ext_clock";
+		pinctrl-names = "default";
+		pinctrl-0 = &lt;&amp;wifi_reg_on_h&gt;;
+		post-power-on-delay-ms = &lt;100&gt;;
+		power-off-delay-us = &lt;5000000&gt;;
+		reset-gpios = &lt;&amp;gpio0 RK_PC0 GPIO_ACTIVE_LOW&gt;;
+	};
+
+	vcc5v_dcin: vcc5v-dcin-regulator {
+		compatible = "regulator-fixed";
+		regulator-name = "vcc5v_dcin";
+		regulator-always-on;
+		regulator-boot-on;
+		regulator-min-microvolt = &lt;5000000&gt;;
+		regulator-max-microvolt = &lt;5000000&gt;;
+	};
+
+	vcc3v3_pcie: vcc3v3-pcie-regulator {
+		compatible = "regulator-fixed";
+		enable-active-high;
+		gpios = &lt;&amp;gpio0 RK_PA6 GPIO_ACTIVE_HIGH&gt;;
+		pinctrl-names = "default";
+		pinctrl-0 = &lt;&amp;pcie_pwr_en&gt;;
+		regulator-name = "vcc3v3_pcie";
+		regulator-min-microvolt = &lt;3300000&gt;;
+		regulator-max-microvolt = &lt;3300000&gt;;
+		vin-supply = &lt;&amp;vcc3v3_sys&gt;;
+	};
+
+	vcc3v3_sys: vcc3v3-sys-regulator {
+		compatible = "regulator-fixed";
+		regulator-name = "vcc3v3_sys";
+		regulator-always-on;
+		regulator-boot-on;
+		regulator-min-microvolt = &lt;3300000&gt;;
+		regulator-max-microvolt = &lt;3300000&gt;;
+		vin-supply = &lt;&amp;vcc5v0_sys&gt;;
+	};
+
+	vcc5v0_sys: vcc5v0-sys-regulator {
+		compatible = "regulator-fixed";
+		regulator-name = "vcc5v0_sys";
+		regulator-always-on;
+		regulator-boot-on;
+		regulator-min-microvolt = &lt;5000000&gt;;
+		regulator-max-microvolt = &lt;5000000&gt;;
+		vin-supply = &lt;&amp;vcc5v_dcin&gt;;
+	};
+
+	vcc5v0_usb30_host: vcc5v0-usb30-host-regulator {
+		compatible = "regulator-fixed";
+		enable-active-high;
+		gpio = &lt;&amp;gpio0 RK_PC5 GPIO_ACTIVE_HIGH&gt;;
+		pinctrl-names = "default";
+		pinctrl-0 = &lt;&amp;vcc5v0_usb30_host_en&gt;;
+		regulator-name = "vcc5v0_usb30_host";
+		regulator-min-microvolt = &lt;5000000&gt;;
+		regulator-max-microvolt = &lt;5000000&gt;;
+		vin-supply = &lt;&amp;vcc5v0_sys&gt;;
+	};
+
+	vcc5v0_usb_otg: vcc5v0-usb-otg-regulator {
+		compatible = "regulator-fixed";
+		enable-active-high;
+		gpio = &lt;&amp;gpio0 RK_PC6 GPIO_ACTIVE_HIGH&gt;;
+		pinctrl-names = "default";
+		pinctrl-0 = &lt;&amp;vcc5v0_usb_otg_en&gt;;
+		regulator-name = "vcc5v0_usb_otg";
+		regulator-min-microvolt = &lt;5000000&gt;;
+		regulator-max-microvolt = &lt;5000000&gt;;
+		vin-supply = &lt;&amp;vcc5v0_sys&gt;;
+	};
+
+	vcc_cam: vcc-cam-regulator {
+		compatible = "regulator-fixed";
+		enable-active-high;
+		gpio = &lt;&amp;gpio0 RK_PC4 GPIO_ACTIVE_HIGH&gt;;
+		pinctrl-names = "default";
+		pinctrl-0 = &lt;&amp;vcc_cam_en&gt;;
+		regulator-name = "vcc_cam";
+		regulator-min-microvolt = &lt;3300000&gt;;
+		regulator-max-microvolt = &lt;3300000&gt;;
+		vin-supply = &lt;&amp;vcc3v3_sys&gt;;
+
+		regulator-state-mem {
+			regulator-off-in-suspend;
+		};
+	};
+
+	vcc_mipi: vcc-mipi-regulator {
+		compatible = "regulator-fixed";
+		enable-active-high;
+		gpio = &lt;&amp;gpio0 RK_PC7 GPIO_ACTIVE_HIGH&gt;;
+		pinctrl-names = "default";
+		pinctrl-0 = &lt;&amp;vcc_mipi_en&gt;;
+		regulator-name = "vcc_mipi";
+		regulator-min-microvolt = &lt;3300000&gt;;
+		regulator-max-microvolt = &lt;3300000&gt;;
+		vin-supply = &lt;&amp;vcc3v3_sys&gt;;
+
+		regulator-state-mem {
+			regulator-off-in-suspend;
+		};
+	};
+};
+
+&amp;combphy1 {
+	status = "okay";
+};
+
+&amp;combphy2 {
+	status = "okay";
+};
+
+&amp;cpu0 {
+	cpu-supply = &lt;&amp;vdd_cpu&gt;;
+};
+
+&amp;cpu1 {
+	cpu-supply = &lt;&amp;vdd_cpu&gt;;
+};
+
+&amp;cpu2 {
+	cpu-supply = &lt;&amp;vdd_cpu&gt;;
+};
+
+&amp;cpu3 {
+	cpu-supply = &lt;&amp;vdd_cpu&gt;;
+};
+
+&amp;gmac1 {
+	assigned-clocks = &lt;&amp;cru SCLK_GMAC1_RX_TX&gt;, &lt;&amp;cru SCLK_GMAC1&gt;;
+	assigned-clock-parents = &lt;&amp;cru SCLK_GMAC1_RGMII_SPEED&gt;, &lt;&amp;gmac1_clkin&gt;;
+	clock_in_out = "input";
+	phy-handle = &lt;&amp;rgmii_phy1&gt;;
+	phy-mode = "rgmii-id";
+	phy-supply = &lt;&amp;vcc_3v3&gt;;
+	pinctrl-names = "default";
+	pinctrl-0 = &lt;&amp;gmac1m1_miim
+		     &amp;gmac1m1_tx_bus2
+		     &amp;gmac1m1_rx_bus2
+		     &amp;gmac1m1_rgmii_clk
+		     &amp;gmac1m1_rgmii_bus
+		     &amp;gmac1m1_clkinout&gt;;
+	status = "okay";
+};
+
+&amp;gpu {
+	mali-supply = &lt;&amp;vdd_gpu&gt;;
+	status = "okay";
+};
+
+&amp;hdmi {
+	avdd-0v9-supply = &lt;&amp;vdda0v9_image&gt;;
+	avdd-1v8-supply = &lt;&amp;vcca1v8_image&gt;;
+	status = "okay";
+};
+
+&amp;hdmi_in {
+	hdmi_in_vp0: endpoint {
+		remote-endpoint = &lt;&amp;vp0_out_hdmi&gt;;
+	};
+};
+
+&amp;hdmi_out {
+	hdmi_out_con: endpoint {
+		remote-endpoint = &lt;&amp;hdmi_con_in&gt;;
+	};
+};
+
+&amp;hdmi_sound {
+	status = "okay";
+};
+
+&amp;i2c0 {
+	status = "okay";
+
+	vdd_cpu: regulator@1c {
+		compatible = "tcs,tcs4525";
+		reg = &lt;0x1c&gt;;
+		fcs,suspend-voltage-selector = &lt;1&gt;;
+		regulator-name = "vdd_cpu";
+		regulator-always-on;
+		regulator-boot-on;
+		regulator-min-microvolt = &lt;800000&gt;;
+		regulator-max-microvolt = &lt;1150000&gt;;
+		regulator-ramp-delay = &lt;2300&gt;;
+		vin-supply = &lt;&amp;vcc5v0_sys&gt;;
+
+		regulator-state-mem {
+			regulator-off-in-suspend;
+		};
+	};
+
+	rk809: pmic@20 {
+		compatible = "rockchip,rk809";
+		reg = &lt;0x20&gt;;
+		interrupt-parent = &lt;&amp;gpio0&gt;;
+		interrupts = &lt;RK_PA3 IRQ_TYPE_LEVEL_LOW&gt;;
+		clock-output-names = "rk808-clkout1", "rk808-clkout2";
+		pinctrl-names = "default";
+		pinctrl-0 = &lt;&amp;pmic_int_l&gt;, &lt;&amp;i2s1m0_mclk&gt;;
+		system-power-controller;
+		vcc1-supply = &lt;&amp;vcc3v3_sys&gt;;
+		vcc2-supply = &lt;&amp;vcc3v3_sys&gt;;
+		vcc3-supply = &lt;&amp;vcc3v3_sys&gt;;
+		vcc4-supply = &lt;&amp;vcc3v3_sys&gt;;
+		vcc5-supply = &lt;&amp;vcc3v3_sys&gt;;
+		vcc6-supply = &lt;&amp;vcc3v3_sys&gt;;
+		vcc7-supply = &lt;&amp;vcc3v3_sys&gt;;
+		vcc8-supply = &lt;&amp;vcc3v3_sys&gt;;
+		vcc9-supply = &lt;&amp;vcc3v3_sys&gt;;
+		wakeup-source;
+		#clock-cells = &lt;1&gt;;
+
+		regulators {
+			vdd_logic: DCDC_REG1 {
+				regulator-name = "vdd_logic";
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-initial-mode = &lt;0x2&gt;;
+				regulator-min-microvolt = &lt;500000&gt;;
+				regulator-max-microvolt = &lt;1350000&gt;;
+				regulator-ramp-delay = &lt;6001&gt;;
+
+				regulator-state-mem {
+					regulator-off-in-suspend;
+					regulator-suspend-microvolt = &lt;900000&gt;;
+				};
+			};
+
+			vdd_gpu: DCDC_REG2 {
+				regulator-name = "vdd_gpu";
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-initial-mode = &lt;0x2&gt;;
+				regulator-min-microvolt = &lt;500000&gt;;
+				regulator-max-microvolt = &lt;1350000&gt;;
+				regulator-ramp-delay = &lt;6001&gt;;
+
+				regulator-state-mem {
+					regulator-off-in-suspend;
+					regulator-suspend-microvolt = &lt;900000&gt;;
+				};
+			};
+
+			vcc_ddr: DCDC_REG3 {
+				regulator-name = "vcc_ddr";
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-initial-mode = &lt;0x2&gt;;
+
+				regulator-state-mem {
+					regulator-on-in-suspend;
+				};
+			};
+
+			vdd_npu: DCDC_REG4 {
+				regulator-name = "vdd_npu";
+				regulator-initial-mode = &lt;0x2&gt;;
+				regulator-min-microvolt = &lt;500000&gt;;
+				regulator-max-microvolt = &lt;1350000&gt;;
+				regulator-ramp-delay = &lt;6001&gt;;
+
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+
+			vcc_1v8: DCDC_REG5 {
+				regulator-name = "vcc_1v8";
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = &lt;1800000&gt;;
+				regulator-max-microvolt = &lt;1800000&gt;;
+
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+
+			vdda0v9_image: LDO_REG1 {
+				regulator-name = "vdda0v9_image";
+				regulator-min-microvolt = &lt;900000&gt;;
+				regulator-max-microvolt = &lt;900000&gt;;
+
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+
+			vdda_0v9: LDO_REG2 {
+				regulator-name = "vdda_0v9";
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = &lt;900000&gt;;
+				regulator-max-microvolt = &lt;900000&gt;;
+
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+
+			vdda0v9_pmu: LDO_REG3 {
+				regulator-name = "vdda0v9_pmu";
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = &lt;900000&gt;;
+				regulator-max-microvolt = &lt;900000&gt;;
+
+				regulator-state-mem {
+					regulator-on-in-suspend;
+					regulator-suspend-microvolt = &lt;900000&gt;;
+				};
+			};
+
+			vccio_acodec: LDO_REG4 {
+				regulator-name = "vccio_acodec";
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = &lt;3300000&gt;;
+				regulator-max-microvolt = &lt;3300000&gt;;
+
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+
+			vccio_sd: LDO_REG5 {
+				regulator-name = "vccio_sd";
+				regulator-min-microvolt = &lt;1800000&gt;;
+				regulator-max-microvolt = &lt;3300000&gt;;
+
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+
+			vcc3v3_pmu: LDO_REG6 {
+				regulator-name = "vcc3v3_pmu";
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = &lt;3300000&gt;;
+				regulator-max-microvolt = &lt;3300000&gt;;
+
+				regulator-state-mem {
+					regulator-on-in-suspend;
+					regulator-suspend-microvolt = &lt;3300000&gt;;
+				};
+			};
+
+			vcca_1v8: LDO_REG7 {
+				regulator-name = "vcca_1v8";
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = &lt;1800000&gt;;
+				regulator-max-microvolt = &lt;1800000&gt;;
+
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+
+			vcca1v8_pmu: LDO_REG8 {
+				regulator-name = "vcca1v8_pmu";
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = &lt;1800000&gt;;
+				regulator-max-microvolt = &lt;1800000&gt;;
+
+				regulator-state-mem {
+					regulator-on-in-suspend;
+					regulator-suspend-microvolt = &lt;1800000&gt;;
+				};
+			};
+
+			vcca1v8_image: LDO_REG9 {
+				regulator-name = "vcca1v8_image";
+				regulator-min-microvolt = &lt;1800000&gt;;
+				regulator-max-microvolt = &lt;1800000&gt;;
+
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+
+			vcc_3v3: SWITCH_REG1 {
+				regulator-name = "vcc_3v3";
+				regulator-always-on;
+				regulator-boot-on;
+
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+
+			vcc3v3_sd: SWITCH_REG2 {
+				regulator-name = "vcc3v3_sd";
+
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+		};
+	};
+
+	eeprom: eeprom@50 {
+		compatible = "belling,bl24c16a", "atmel,24c16";
+		reg = &lt;0x50&gt;;
+		pagesize = &lt;16&gt;;
+	};
+};
+
+&amp;i2s0_8ch {
+	status = "okay";
+};
+
+&amp;i2s1_8ch {
+	pinctrl-names = "default";
+	pinctrl-0 = &lt;&amp;i2s1m0_sclktx &amp;i2s1m0_lrcktx &amp;i2s1m0_sdi0 &amp;i2s1m0_sdo0&gt;;
+	rockchip,trcm-sync-tx-only;
+	status = "okay";
+};
+
+&amp;mdio1 {
+	rgmii_phy1: ethernet-phy@1 {
+		compatible = "ethernet-phy-ieee802.3-c22";
+		reg = &lt;0x1&gt;;
+		reset-assert-us = &lt;20000&gt;;
+		reset-deassert-us = &lt;100000&gt;;
+		reset-gpios = &lt;&amp;gpio3 RK_PC0 GPIO_ACTIVE_LOW&gt;;
+	};
+};
+
+&amp;pcie2x1 {
+	pinctrl-names = "default";
+	pinctrl-0 = &lt;&amp;pcie_reset_h&gt;;
+	reset-gpios = &lt;&amp;gpio1 RK_PB2 GPIO_ACTIVE_HIGH&gt;;
+	vpcie3v3-supply = &lt;&amp;vcc3v3_pcie&gt;;
+	status = "okay";
+};
+
+&amp;pinctrl {
+	bluetooth {
+		bt_reg_on_h: bt-reg-on-h {
+			rockchip,pins = &lt;0 RK_PC1 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;;
+		};
+
+		bt_wake_host_h: bt-wake-host-h {
+			rockchip,pins = &lt;0 RK_PB3 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;;
+		};
+
+		bt_host_wake_h: bt-host-wake-h {
+			rockchip,pins = &lt;0 RK_PB4 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;;
+		};
+	};
+
+	cam {
+		vcc_cam_en: vcc_cam_en {
+			rockchip,pins = &lt;0 RK_PC4 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;;
+		};
+	};
+
+	display {
+		vcc_mipi_en: vcc_mipi_en {
+			rockchip,pins = &lt;0 RK_PC7 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;;
+		};
+	};
+
+	leds {
+		user_led2: user-led2 {
+			rockchip,pins = &lt;0 RK_PA0 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;;
+		};
+	};
+
+	pcie {
+		pcie_pwr_en: pcie-pwr-en {
+			rockchip,pins = &lt;0 RK_PA6 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;;
+		};
+
+		pcie_reset_h: pcie-reset-h {
+			rockchip,pins = &lt;1 RK_PB2 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;;
+		};
+	};
+
+	pmic {
+		pmic_int_l: pmic-int-l {
+			rockchip,pins = &lt;0 RK_PA3 RK_FUNC_GPIO &amp;pcfg_pull_up&gt;;
+		};
+	};
+
+	usb {
+		vcc5v0_usb30_host_en: vcc5v0-usb30-host-en {
+			rockchip,pins = &lt;0 RK_PC5 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;;
+		};
+
+		vcc5v0_usb_otg_en: vcc5v0-usb-otg-en {
+			rockchip,pins = &lt;0 RK_PC6 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;;
+		};
+	};
+
+	wifi {
+		wifi_host_wake_h: wifi-host-wake-h {
+			rockchip,pins = &lt;0 RK_PB7 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;;
+		};
+
+		wifi_reg_on_h: wifi-reg-on-h {
+			rockchip,pins = &lt;0 RK_PC0 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;;
+		};
+	};
+};
+
+&amp;pmu_io_domains {
+	pmuio1-supply = &lt;&amp;vcc3v3_pmu&gt;;
+	pmuio2-supply = &lt;&amp;vcca1v8_pmu&gt;;
+	vccio1-supply = &lt;&amp;vccio_acodec&gt;;
+	vccio2-supply = &lt;&amp;vcc_1v8&gt;;
+	vccio3-supply = &lt;&amp;vccio_sd&gt;;
+	vccio4-supply = &lt;&amp;vcca1v8_pmu&gt;;
+	vccio5-supply = &lt;&amp;vcc_3v3&gt;;
+	vccio6-supply = &lt;&amp;vcc_3v3&gt;;
+	vccio7-supply = &lt;&amp;vcc_3v3&gt;;
+	status = "okay";
+};
+
+&amp;saradc {
+	vref-supply = &lt;&amp;vcca_1v8&gt;;
+	status = "okay";
+};
+
+&amp;sdhci {
+	bus-width = &lt;8&gt;;
+	max-frequency = &lt;200000000&gt;;
+	mmc-hs200-1_8v;
+	non-removable;
+	pinctrl-names = "default";
+	pinctrl-0 = &lt;&amp;emmc_bus8 &amp;emmc_clk &amp;emmc_cmd &amp;emmc_datastrobe&gt;;
+	vmmc-supply = &lt;&amp;vcc_3v3&gt;;
+	vqmmc-supply = &lt;&amp;vcc_1v8&gt;;
+	status = "okay";
+};
+
+&amp;sdmmc0 {
+	bus-width = &lt;4&gt;;
+	cap-sd-highspeed;
+	disable-wp;
+	pinctrl-names = "default";
+	pinctrl-0 = &lt;&amp;sdmmc0_bus4 &amp;sdmmc0_clk &amp;sdmmc0_cmd &amp;sdmmc0_det&gt;;
+	sd-uhs-sdr50;
+	vmmc-supply = &lt;&amp;vcc3v3_sys&gt;;
+	vqmmc-supply = &lt;&amp;vccio_sd&gt;;
+	status = "okay";
+};
+
+&amp;sdmmc1 {
+	bus-width = &lt;4&gt;;
+	cap-sd-highspeed;
+	cap-sdio-irq;
+	keep-power-in-suspend;
+	mmc-pwrseq = &lt;&amp;sdio_pwrseq&gt;;
+	non-removable;
+	pinctrl-names = "default";
+	pinctrl-0 = &lt;&amp;sdmmc1_bus4 &amp;sdmmc1_clk &amp;sdmmc1_cmd&gt;;
+	sd-uhs-sdr104;
+	vmmc-supply = &lt;&amp;vcc3v3_sys&gt;;
+	vqmmc-supply = &lt;&amp;vcca1v8_pmu&gt;;
+	status = "okay";
+};
+
+&amp;sfc {
+	#address-cells = &lt;1&gt;;
+	#size-cells = &lt;0&gt;;
+	status = "okay";
+
+	flash@0 {
+		compatible = "jedec,spi-nor";
+		reg = &lt;0x0&gt;;
+		spi-max-frequency = &lt;120000000&gt;;
+		spi-rx-bus-width = &lt;4&gt;;
+		spi-tx-bus-width = &lt;1&gt;;
+	};
+};
+
+&amp;tsadc {
+	rockchip,hw-tshut-mode = &lt;1&gt;;
+	rockchip,hw-tshut-polarity = &lt;0&gt;;
+	status = "okay";
+};
+
+&amp;uart1 {
+	pinctrl-names = "default";
+	pinctrl-0 = &lt;&amp;uart1m0_ctsn &amp;uart1m0_rtsn &amp;uart1m0_xfer&gt;;
+	status = "okay";
+};
+
+&amp;uart2 {
+	status = "okay";
+};
+
+&amp;usb_host0_ehci {
+	status = "okay";
+};
+
+&amp;usb_host0_ohci {
+	status = "okay";
+};
+
+&amp;usb_host0_xhci {
+	dr_mode = "host";
+	status = "okay";
+};
+
+&amp;usb_host1_ehci {
+	status = "okay";
+};
+
+&amp;usb_host1_ohci {
+	status = "okay";
+};
+
+&amp;usb_host1_xhci {
+	status = "okay";
+};
+
+&amp;usb2phy0 {
+	status = "okay";
+};
+
+&amp;usb2phy0_host {
+	phy-supply = &lt;&amp;vcc5v0_usb30_host&gt;;
+	status = "okay";
+};
+
+&amp;usb2phy0_otg {
+	phy-supply = &lt;&amp;vcc5v0_usb_otg&gt;;
+	status = "okay";
+};
+
+&amp;usb2phy1 {
+	status = "okay";
+};
+
+&amp;usb2phy1_host {
+	phy-supply = &lt;&amp;vcc5v0_usb30_host&gt;;
+	status = "okay";
+};
+
+&amp;usb2phy1_otg {
+	phy-supply = &lt;&amp;vcc5v0_usb30_host&gt;;
+	status = "okay";
+};
+
+&amp;vop {
+	assigned-clocks = &lt;&amp;cru DCLK_VOP0&gt;, &lt;&amp;cru DCLK_VOP1&gt;;
+	assigned-clock-parents = &lt;&amp;pmucru PLL_HPLL&gt;, &lt;&amp;cru PLL_VPLL&gt;;
+	status = "okay";
+};
+
+&amp;vop_mmu {
+	status = "okay";
+};
+
+&amp;vp0 {
+	vp0_out_hdmi: endpoint@ROCKCHIP_VOP2_EP_HDMI0 {
+		reg = &lt;ROCKCHIP_VOP2_EP_HDMI0&gt;;
+		remote-endpoint = &lt;&amp;hdmi_in_vp0&gt;;
+	};
+};</pre><hr><pre>commit c0c153e341d2a82241bf0a0b78117ceeb29be3eb
Author: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
Date:   Sun Apr 28 20:36:17 2024 +0800

    dt-bindings: arm: rockchip: add Radxa ROCK 3C
    
    The Radxa ROCK 3C is a similar board to the
    Radxa ROCK 3A with the Rockchip RK3566 SoC.
    Add devicetree binding documentation for it.
    
    Signed-off-by: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
    Acked-by: Krzysztof Kozlowski &lt;krzk@kernel.org&gt;
    Link: https://lore.kernel.org/r/20240428123618.72170-2-amadeus@jmu.edu.cn
    Signed-off-by: Heiko Stuebner &lt;heiko@sntech.de&gt;

diff --git a/Documentation/devicetree/bindings/arm/rockchip.yaml b/Documentation/devicetree/bindings/arm/rockchip.yaml
index 1bbbaf81134b..e04c213a0dee 100644
--- a/Documentation/devicetree/bindings/arm/rockchip.yaml
+++ b/Documentation/devicetree/bindings/arm/rockchip.yaml
@@ -799,6 +799,11 @@ properties:
           - const: radxa,rock3a
           - const: rockchip,rk3568
 
+      - description: Radxa ROCK 3C
+        items:
+          - const: radxa,rock-3c
+          - const: rockchip,rk3566
+
       - description: Radxa ROCK 5A
         items:
           - const: radxa,rock-5a</pre><hr><pre>commit 626a479873b6a680b3227c4852bde4a1f2c17fdf
Author: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
Date:   Fri Apr 19 18:30:19 2024 +0800

    arm64: dts: rockchip: correct the model name for Radxa ROCK 3A
    
    According to https://radxa.com/products/rock3/3a,
    the name of this board should be "Radxa ROCK 3A".
    
    Suggested-by: FUKAUMI Naoki &lt;naoki@radxa.com&gt;
    Signed-off-by: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
    Reviewed-by: Dragan Simic &lt;dsimic@manjaro.org&gt;
    Link: https://lore.kernel.org/r/20240419103019.992586-3-amadeus@jmu.edu.cn
    Signed-off-by: Heiko Stuebner &lt;heiko@sntech.de&gt;

diff --git a/arch/arm64/boot/dts/rockchip/rk3568-rock-3a.dts b/arch/arm64/boot/dts/rockchip/rk3568-rock-3a.dts
index a5e974ea659e..ccc4119ca43a 100644
--- a/arch/arm64/boot/dts/rockchip/rk3568-rock-3a.dts
+++ b/arch/arm64/boot/dts/rockchip/rk3568-rock-3a.dts
@@ -8,7 +8,7 @@
 #include "rk3568.dtsi"
 
 / {
-	model = "Radxa ROCK3 Model A";
+	model = "Radxa ROCK 3A";
 	compatible = "radxa,rock3a", "rockchip,rk3568";
 
 	aliases {</pre><hr><pre>commit fac5b3381639a504cd0e8c015242622331cc7a52
Author: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
Date:   Fri Apr 19 18:30:18 2024 +0800

    dt-bindings: arm: rockchip: correct the model name for Radxa ROCK 3A
    
    According to https://radxa.com/products/rock3/3a,
    the name of this board should be "Radxa ROCK 3A".
    
    Suggested-by: FUKAUMI Naoki &lt;naoki@radxa.com&gt;
    Signed-off-by: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
    Reviewed-by: Dragan Simic &lt;dsimic@manjaro.org&gt;
    Acked-by: Rob Herring (Arm) &lt;robh@kernel.org&gt;
    Link: https://lore.kernel.org/r/20240419103019.992586-2-amadeus@jmu.edu.cn
    Signed-off-by: Heiko Stuebner &lt;heiko@sntech.de&gt;

diff --git a/Documentation/devicetree/bindings/arm/rockchip.yaml b/Documentation/devicetree/bindings/arm/rockchip.yaml
index 2e284ba8732d..742c1a85de4b 100644
--- a/Documentation/devicetree/bindings/arm/rockchip.yaml
+++ b/Documentation/devicetree/bindings/arm/rockchip.yaml
@@ -789,7 +789,7 @@ properties:
           - const: radxa,rock2-square
           - const: rockchip,rk3288
 
-      - description: Radxa ROCK3 Model A
+      - description: Radxa ROCK 3A
         items:
           - const: radxa,rock3a
           - const: rockchip,rk3568</pre><hr><pre>commit 5c0dbe8b058436ad5daecb19c60869f832607ea3
Author: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
Date:   Mon Dec 18 23:08:05 2023 +0800

    arm64: dts: qcom: ipq6018: fix clock rates for GCC_USB0_MOCK_UTMI_CLK
    
    The downstream QSDK kernel [1] and GCC_USB1_MOCK_UTMI_CLK are both 24MHz.
    Adjust GCC_USB0_MOCK_UTMI_CLK to 24MHz to avoid the following error:
    
    clk: couldn't set gcc_usb0_mock_utmi_clk clk rate to 20000000 (-22), current rate: 24000000
    
    1. https://git.codelinaro.org/clo/qsdk/oss/kernel/linux-ipq-5.4/-/commit/486c8485f59
    
    Fixes: 5726079cd486 ("arm64: dts: ipq6018: Use reference clock to set dwc3 period")
    Signed-off-by: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
    Link: https://lore.kernel.org/r/20231218150805.1228160-1-amadeus@jmu.edu.cn
    Signed-off-by: Bjorn Andersson &lt;andersson@kernel.org&gt;

diff --git a/arch/arm64/boot/dts/qcom/ipq6018.dtsi b/arch/arm64/boot/dts/qcom/ipq6018.dtsi
index ff25bcb38bc9..5e1277fea725 100644
--- a/arch/arm64/boot/dts/qcom/ipq6018.dtsi
+++ b/arch/arm64/boot/dts/qcom/ipq6018.dtsi
@@ -628,7 +628,7 @@ usb3: usb@8af8800 {
 					  &lt;&amp;gcc GCC_USB0_MOCK_UTMI_CLK&gt;;
 			assigned-clock-rates = &lt;133330000&gt;,
 					       &lt;133330000&gt;,
-					       &lt;20000000&gt;;
+					       &lt;24000000&gt;;
 
 			resets = &lt;&amp;gcc GCC_USB0_BCR&gt;;
 			status = "disabled";</pre><hr><pre>commit 2e16f9dc9be07f08442d63d682cdf89d6321b408
Author: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
Date:   Sun Dec 3 23:40:03 2023 +0800

    arm64: dts: qcom: ipq6018: Add QUP5 SPI node
    
    Add node to support the QUP5 SPI controller inside of IPQ6018.
    Some routers use this bus to connect SPI TPM chips.
    
    Signed-off-by: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
    Link: https://lore.kernel.org/r/20231203154003.532765-1-amadeus@jmu.edu.cn
    Signed-off-by: Bjorn Andersson &lt;andersson@kernel.org&gt;

diff --git a/arch/arm64/boot/dts/qcom/ipq6018.dtsi b/arch/arm64/boot/dts/qcom/ipq6018.dtsi
index f7359de98d70..4fa1b4b649d5 100644
--- a/arch/arm64/boot/dts/qcom/ipq6018.dtsi
+++ b/arch/arm64/boot/dts/qcom/ipq6018.dtsi
@@ -534,6 +534,20 @@ blsp1_spi2: spi@78b6000 {
 			status = "disabled";
 		};
 
+		blsp1_spi5: spi@78b9000 {
+			compatible = "qcom,spi-qup-v2.2.1";
+			#address-cells = &lt;1&gt;;
+			#size-cells = &lt;0&gt;;
+			reg = &lt;0x0 0x078b9000 0x0 0x600&gt;;
+			interrupts = &lt;GIC_SPI 299 IRQ_TYPE_LEVEL_HIGH&gt;;
+			clocks = &lt;&amp;gcc GCC_BLSP1_QUP5_SPI_APPS_CLK&gt;,
+				 &lt;&amp;gcc GCC_BLSP1_AHB_CLK&gt;;
+			clock-names = "core", "iface";
+			dmas = &lt;&amp;blsp_dma 20&gt;, &lt;&amp;blsp_dma 21&gt;;
+			dma-names = "tx", "rx";
+			status = "disabled";
+		};
+
 		blsp1_i2c2: i2c@78b6000 {
 			compatible = "qcom,i2c-qup-v2.2.1";
 			#address-cells = &lt;1&gt;;</pre><hr><pre>commit e6c32770ef83f3e8cc057f3920b1c06aa9d1c9c2
Author: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
Date:   Sun Dec 3 23:39:14 2023 +0800

    arm64: dts: qcom: ipq6018: Add remaining QUP UART node
    
    Add node to support all the QUP UART node controller inside of IPQ6018.
    Some routers use these bus to connect Bluetooth chips.
    
    Signed-off-by: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
    Link: https://lore.kernel.org/r/20231203153914.532654-1-amadeus@jmu.edu.cn
    Signed-off-by: Bjorn Andersson &lt;andersson@kernel.org&gt;

diff --git a/arch/arm64/boot/dts/qcom/ipq6018.dtsi b/arch/arm64/boot/dts/qcom/ipq6018.dtsi
index 39cd6b76b4c1..f7359de98d70 100644
--- a/arch/arm64/boot/dts/qcom/ipq6018.dtsi
+++ b/arch/arm64/boot/dts/qcom/ipq6018.dtsi
@@ -446,6 +446,26 @@ blsp_dma: dma-controller@7884000 {
 			qcom,ee = &lt;0&gt;;
 		};
 
+		blsp1_uart1: serial@78af000 {
+			compatible = "qcom,msm-uartdm-v1.4", "qcom,msm-uartdm";
+			reg = &lt;0x0 0x78af000 0x0 0x200&gt;;
+			interrupts = &lt;GIC_SPI 107 IRQ_TYPE_LEVEL_HIGH&gt;;
+			clocks = &lt;&amp;gcc GCC_BLSP1_UART1_APPS_CLK&gt;,
+				 &lt;&amp;gcc GCC_BLSP1_AHB_CLK&gt;;
+			clock-names = "core", "iface";
+			status = "disabled";
+		};
+
+		blsp1_uart2: serial@78b0000 {
+			compatible = "qcom,msm-uartdm-v1.4", "qcom,msm-uartdm";
+			reg = &lt;0x0 0x78b0000 0x0 0x200&gt;;
+			interrupts = &lt;GIC_SPI 108 IRQ_TYPE_LEVEL_HIGH&gt;;
+			clocks = &lt;&amp;gcc GCC_BLSP1_UART2_APPS_CLK&gt;,
+				 &lt;&amp;gcc GCC_BLSP1_AHB_CLK&gt;;
+			clock-names = "core", "iface";
+			status = "disabled";
+		};
+
 		blsp1_uart3: serial@78b1000 {
 			compatible = "qcom,msm-uartdm-v1.4", "qcom,msm-uartdm";
 			reg = &lt;0x0 0x078b1000 0x0 0x200&gt;;
@@ -456,6 +476,36 @@ blsp1_uart3: serial@78b1000 {
 			status = "disabled";
 		};
 
+		blsp1_uart4: serial@78b2000 {
+			compatible = "qcom,msm-uartdm-v1.4", "qcom,msm-uartdm";
+			reg = &lt;0x0 0x078b2000 0x0 0x200&gt;;
+			interrupts = &lt;GIC_SPI 307 IRQ_TYPE_LEVEL_HIGH&gt;;
+			clocks = &lt;&amp;gcc GCC_BLSP1_UART4_APPS_CLK&gt;,
+				 &lt;&amp;gcc GCC_BLSP1_AHB_CLK&gt;;
+			clock-names = "core", "iface";
+			status = "disabled";
+		};
+
+		blsp1_uart5: serial@78b3000 {
+			compatible = "qcom,msm-uartdm-v1.4", "qcom,msm-uartdm";
+			reg = &lt;0x0 0x78b3000 0x0 0x200&gt;;
+			interrupts = &lt;GIC_SPI 308 IRQ_TYPE_LEVEL_HIGH&gt;;
+			clocks = &lt;&amp;gcc GCC_BLSP1_UART5_APPS_CLK&gt;,
+				 &lt;&amp;gcc GCC_BLSP1_AHB_CLK&gt;;
+			clock-names = "core", "iface";
+			status = "disabled";
+		};
+
+		blsp1_uart6: serial@78b4000 {
+			compatible = "qcom,msm-uartdm-v1.4", "qcom,msm-uartdm";
+			reg = &lt;0x0 0x078b4000 0x0 0x200&gt;;
+			interrupts = &lt;GIC_SPI 309 IRQ_TYPE_LEVEL_HIGH&gt;;
+			clocks = &lt;&amp;gcc GCC_BLSP1_UART6_APPS_CLK&gt;,
+				 &lt;&amp;gcc GCC_BLSP1_AHB_CLK&gt;;
+			clock-names = "core", "iface";
+			status = "disabled";
+		};
+
 		blsp1_spi1: spi@78b5000 {
 			compatible = "qcom,spi-qup-v2.2.1";
 			#address-cells = &lt;1&gt;;</pre><hr><pre>commit b9622937d95809ef89904583191571a9fa326402
Author: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
Date:   Sun Oct 29 15:40:09 2023 +0800

    arm64: dts: allwinner: h616: update emac for Orange Pi Zero 3
    
    The current emac setting is not suitable for Orange Pi Zero 3,
    move it back to Orange Pi Zero 2 DT. Also update phy mode and
    delay values for emac on Orange Pi Zero 3.
    With these changes, Ethernet now looks stable.
    
    Fixes: 322bf103204b ("arm64: dts: allwinner: h616: Split Orange Pi Zero 2 DT")
    Signed-off-by: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
    Reviewed-by: Jernej Skrabec &lt;jernej.skrabec@gmail.com&gt;
    Link: https://lore.kernel.org/r/20231029074009.7820-2-amadeus@jmu.edu.cn
    Signed-off-by: Jernej Skrabec &lt;jernej.skrabec@gmail.com&gt;

diff --git a/arch/arm64/boot/dts/allwinner/sun50i-h616-orangepi-zero.dtsi b/arch/arm64/boot/dts/allwinner/sun50i-h616-orangepi-zero.dtsi
index 15290e6892fc..fc7315b94406 100644
--- a/arch/arm64/boot/dts/allwinner/sun50i-h616-orangepi-zero.dtsi
+++ b/arch/arm64/boot/dts/allwinner/sun50i-h616-orangepi-zero.dtsi
@@ -68,10 +68,7 @@ &amp;ehci1 {
 &amp;emac0 {
 	pinctrl-names = "default";
 	pinctrl-0 = &lt;&amp;ext_rgmii_pins&gt;;
-	phy-mode = "rgmii";
 	phy-handle = &lt;&amp;ext_rgmii_phy&gt;;
-	allwinner,rx-delay-ps = &lt;3100&gt;;
-	allwinner,tx-delay-ps = &lt;700&gt;;
 	status = "okay";
 };
 
diff --git a/arch/arm64/boot/dts/allwinner/sun50i-h616-orangepi-zero2.dts b/arch/arm64/boot/dts/allwinner/sun50i-h616-orangepi-zero2.dts
index d83852e72f06..b5d713926a34 100644
--- a/arch/arm64/boot/dts/allwinner/sun50i-h616-orangepi-zero2.dts
+++ b/arch/arm64/boot/dts/allwinner/sun50i-h616-orangepi-zero2.dts
@@ -13,6 +13,9 @@ / {
 };
 
 &amp;emac0 {
+	allwinner,rx-delay-ps = &lt;3100&gt;;
+	allwinner,tx-delay-ps = &lt;700&gt;;
+	phy-mode = "rgmii";
 	phy-supply = &lt;&amp;reg_dcdce&gt;;
 };
 
diff --git a/arch/arm64/boot/dts/allwinner/sun50i-h618-orangepi-zero3.dts b/arch/arm64/boot/dts/allwinner/sun50i-h618-orangepi-zero3.dts
index 00fe28caac93..b3b1b8692125 100644
--- a/arch/arm64/boot/dts/allwinner/sun50i-h618-orangepi-zero3.dts
+++ b/arch/arm64/boot/dts/allwinner/sun50i-h618-orangepi-zero3.dts
@@ -13,6 +13,8 @@ / {
 };
 
 &amp;emac0 {
+	allwinner,tx-delay-ps = &lt;700&gt;;
+	phy-mode = "rgmii-rxid";
 	phy-supply = &lt;&amp;reg_dldo1&gt;;
 };
 </pre><hr><pre>commit 51712e1d014aaaa4c6e1e7e84932d58b5c0f59ed
Author: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
Date:   Sat Dec 3 15:41:49 2022 +0800

    arm64: dts: rockchip: rk3328: Add Orange Pi R1 Plus
    
    Orange Pi R1 Plus is a Rockchip RK3328 based SBC by Xunlong.
    
    This device is similar to the NanoPi R2S, and has a 16MB
    SPI NOR (mx25l12805d). The reset button is changed to
    directly reset the power supply, another detail is that
    both network ports have independent MAC addresses.
    
    Signed-off-by: Chukun Pan &lt;amadeus@jmu.edu.cn&gt;
    Link: https://lore.kernel.org/r/20221203074149.11543-3-amadeus@jmu.edu.cn
    Signed-off-by: Heiko Stuebner &lt;heiko@sntech.de&gt;

diff --git a/arch/arm64/boot/dts/rockchip/Makefile b/arch/arm64/boot/dts/rockchip/Makefile
index bb7f455164b3..b774ea3f71aa 100644
--- a/arch/arm64/boot/dts/rockchip/Makefile
+++ b/arch/arm64/boot/dts/rockchip/Makefile
@@ -15,6 +15,7 @@ dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3326-odroid-go3.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3328-a1.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3328-evb.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3328-nanopi-r2s.dtb
+dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3328-orangepi-r1-plus.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3328-rock64.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3328-rock-pi-e.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3328-roc-cc.dtb
diff --git a/arch/arm64/boot/dts/rockchip/rk3328-orangepi-r1-plus.dts b/arch/arm64/boot/dts/rockchip/rk3328-orangepi-r1-plus.dts
new file mode 100644
index 000000000000..dc83d74045a3
--- /dev/null
+++ b/arch/arm64/boot/dts/rockchip/rk3328-orangepi-r1-plus.dts
@@ -0,0 +1,373 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR MIT)
+/*
+ * Based on rk3328-nanopi-r2s.dts, which is:
+ *   Copyright (c) 2020 David Bauer &lt;mail@david-bauer.net&gt;
+ */
+
+/dts-v1/;
+
+#include &lt;dt-bindings/gpio/gpio.h&gt;
+#include &lt;dt-bindings/leds/common.h&gt;
+#include "rk3328.dtsi"
+
+/ {
+	model = "Xunlong Orange Pi R1 Plus";
+	compatible = "xunlong,orangepi-r1-plus", "rockchip,rk3328";
+
+	aliases {
+		ethernet1 = &amp;rtl8153;
+		mmc0 = &amp;sdmmc;
+	};
+
+	chosen {
+		stdout-path = "serial2:1500000n8";
+	};
+
+	gmac_clk: gmac-clock {
+		compatible = "fixed-clock";
+		clock-frequency = &lt;125000000&gt;;
+		clock-output-names = "gmac_clkin";
+		#clock-cells = &lt;0&gt;;
+	};
+
+	leds {
+		compatible = "gpio-leds";
+		pinctrl-0 = &lt;&amp;lan_led_pin&gt;, &lt;&amp;sys_led_pin&gt;, &lt;&amp;wan_led_pin&gt;;
+		pinctrl-names = "default";
+
+		led-0 {
+			function = LED_FUNCTION_LAN;
+			color = &lt;LED_COLOR_ID_GREEN&gt;;
+			gpios = &lt;&amp;gpio2 RK_PB7 GPIO_ACTIVE_HIGH&gt;;
+		};
+
+		led-1 {
+			function = LED_FUNCTION_STATUS;
+			color = &lt;LED_COLOR_ID_RED&gt;;
+			gpios = &lt;&amp;gpio3 RK_PC5 GPIO_ACTIVE_HIGH&gt;;
+			linux,default-trigger = "heartbeat";
+		};
+
+		led-2 {
+			function = LED_FUNCTION_WAN;
+			color = &lt;LED_COLOR_ID_GREEN&gt;;
+			gpios = &lt;&amp;gpio2 RK_PC2 GPIO_ACTIVE_HIGH&gt;;
+		};
+	};
+
+	vcc_sd: sdmmc-regulator {
+		compatible = "regulator-fixed";
+		gpio = &lt;&amp;gpio0 RK_PD6 GPIO_ACTIVE_LOW&gt;;
+		pinctrl-0 = &lt;&amp;sdmmc0m1_pin&gt;;
+		pinctrl-names = "default";
+		regulator-name = "vcc_sd";
+		regulator-boot-on;
+		vin-supply = &lt;&amp;vcc_io&gt;;
+	};
+
+	vcc_sys: vcc-sys-regulator {
+		compatible = "regulator-fixed";
+		regulator-name = "vcc_sys";
+		regulator-always-on;
+		regulator-boot-on;
+		regulator-min-microvolt = &lt;5000000&gt;;
+		regulator-max-microvolt = &lt;5000000&gt;;
+	};
+
+	vdd_5v_lan: vdd-5v-lan-regulator {
+		compatible = "regulator-fixed";
+		enable-active-high;
+		gpio = &lt;&amp;gpio2 RK_PC6 GPIO_ACTIVE_HIGH&gt;;
+		pinctrl-0 = &lt;&amp;lan_vdd_pin&gt;;
+		pinctrl-names = "default";
+		regulator-name = "vdd_5v_lan";
+		regulator-always-on;
+		regulator-boot-on;
+		vin-supply = &lt;&amp;vcc_sys&gt;;
+	};
+};
+
+&amp;cpu0 {
+	cpu-supply = &lt;&amp;vdd_arm&gt;;
+};
+
+&amp;cpu1 {
+	cpu-supply = &lt;&amp;vdd_arm&gt;;
+};
+
+&amp;cpu2 {
+	cpu-supply = &lt;&amp;vdd_arm&gt;;
+};
+
+&amp;cpu3 {
+	cpu-supply = &lt;&amp;vdd_arm&gt;;
+};
+
+&amp;display_subsystem {
+	status = "disabled";
+};
+
+&amp;gmac2io {
+	assigned-clocks = &lt;&amp;cru SCLK_MAC2IO&gt;, &lt;&amp;cru SCLK_MAC2IO_EXT&gt;;
+	assigned-clock-parents = &lt;&amp;gmac_clk&gt;, &lt;&amp;gmac_clk&gt;;
+	clock_in_out = "input";
+	phy-handle = &lt;&amp;rtl8211e&gt;;
+	phy-mode = "rgmii";
+	phy-supply = &lt;&amp;vcc_io&gt;;
+	pinctrl-0 = &lt;&amp;rgmiim1_pins&gt;;
+	pinctrl-names = "default";
+	snps,aal;
+	rx_delay = &lt;0x18&gt;;
+	tx_delay = &lt;0x24&gt;;
+	status = "okay";
+
+	mdio {
+		compatible = "snps,dwmac-mdio";
+		#address-cells = &lt;1&gt;;
+		#size-cells = &lt;0&gt;;
+
+		rtl8211e: ethernet-phy@1 {
+			reg = &lt;1&gt;;
+			pinctrl-0 = &lt;&amp;eth_phy_reset_pin&gt;;
+			pinctrl-names = "default";
+			reset-assert-us = &lt;10000&gt;;
+			reset-deassert-us = &lt;50000&gt;;
+			reset-gpios = &lt;&amp;gpio1 RK_PC2 GPIO_ACTIVE_LOW&gt;;
+		};
+	};
+};
+
+&amp;i2c1 {
+	status = "okay";
+
+	rk805: pmic@18 {
+		compatible = "rockchip,rk805";
+		reg = &lt;0x18&gt;;
+		interrupt-parent = &lt;&amp;gpio1&gt;;
+		interrupts = &lt;24 IRQ_TYPE_LEVEL_LOW&gt;;
+		#clock-cells = &lt;1&gt;;
+		clock-output-names = "xin32k", "rk805-clkout2";
+		gpio-controller;
+		#gpio-cells = &lt;2&gt;;
+		pinctrl-0 = &lt;&amp;pmic_int_l&gt;;
+		pinctrl-names = "default";
+		rockchip,system-power-controller;
+		wakeup-source;
+
+		vcc1-supply = &lt;&amp;vcc_sys&gt;;
+		vcc2-supply = &lt;&amp;vcc_sys&gt;;
+		vcc3-supply = &lt;&amp;vcc_sys&gt;;
+		vcc4-supply = &lt;&amp;vcc_sys&gt;;
+		vcc5-supply = &lt;&amp;vcc_io&gt;;
+		vcc6-supply = &lt;&amp;vcc_sys&gt;;
+
+		regulators {
+			vdd_log: DCDC_REG1 {
+				regulator-name = "vdd_log";
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = &lt;712500&gt;;
+				regulator-max-microvolt = &lt;1450000&gt;;
+				regulator-ramp-delay = &lt;12500&gt;;
+
+				regulator-state-mem {
+					regulator-on-in-suspend;
+					regulator-suspend-microvolt = &lt;1000000&gt;;
+				};
+			};
+
+			vdd_arm: DCDC_REG2 {
+				regulator-name = "vdd_arm";
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = &lt;712500&gt;;
+				regulator-max-microvolt = &lt;1450000&gt;;
+				regulator-ramp-delay = &lt;12500&gt;;
+
+				regulator-state-mem {
+					regulator-on-in-suspend;
+					regulator-suspend-microvolt = &lt;950000&gt;;
+				};
+			};
+
+			vcc_ddr: DCDC_REG3 {
+				regulator-name = "vcc_ddr";
+				regulator-always-on;
+				regulator-boot-on;
+
+				regulator-state-mem {
+					regulator-on-in-suspend;
+				};
+			};
+
+			vcc_io: DCDC_REG4 {
+				regulator-name = "vcc_io";
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = &lt;3300000&gt;;
+				regulator-max-microvolt = &lt;3300000&gt;;
+
+				regulator-state-mem {
+					regulator-on-in-suspend;
+					regulator-suspend-microvolt = &lt;3300000&gt;;
+				};
+			};
+
+			vcc_18: LDO_REG1 {
+				regulator-name = "vcc_18";
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = &lt;1800000&gt;;
+				regulator-max-microvolt = &lt;1800000&gt;;
+
+				regulator-state-mem {
+					regulator-on-in-suspend;
+					regulator-suspend-microvolt = &lt;1800000&gt;;
+				};
+			};
+
+			vcc18_emmc: LDO_REG2 {
+				regulator-name = "vcc18_emmc";
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = &lt;1800000&gt;;
+				regulator-max-microvolt = &lt;1800000&gt;;
+
+				regulator-state-mem {
+					regulator-on-in-suspend;
+					regulator-suspend-microvolt = &lt;1800000&gt;;
+				};
+			};
+
+			vdd_10: LDO_REG3 {
+				regulator-name = "vdd_10";
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = &lt;1000000&gt;;
+				regulator-max-microvolt = &lt;1000000&gt;;
+
+				regulator-state-mem {
+					regulator-on-in-suspend;
+					regulator-suspend-microvolt = &lt;1000000&gt;;
+				};
+			};
+		};
+	};
+};
+
+&amp;io_domains {
+	pmuio-supply = &lt;&amp;vcc_io&gt;;
+	vccio1-supply = &lt;&amp;vcc_io&gt;;
+	vccio2-supply = &lt;&amp;vcc18_emmc&gt;;
+	vccio3-supply = &lt;&amp;vcc_io&gt;;
+	vccio4-supply = &lt;&amp;vcc_io&gt;;
+	vccio5-supply = &lt;&amp;vcc_io&gt;;
+	vccio6-supply = &lt;&amp;vcc_io&gt;;
+	status = "okay";
+};
+
+&amp;pinctrl {
+	gmac2io {
+		eth_phy_reset_pin: eth-phy-reset-pin {
+			rockchip,pins = &lt;1 RK_PC2 RK_FUNC_GPIO &amp;pcfg_pull_down&gt;;
+		};
+	};
+
+	leds {
+		lan_led_pin: lan-led-pin {
+			rockchip,pins = &lt;2 RK_PB7 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;;
+		};
+
+		sys_led_pin: sys-led-pin {
+			rockchip,pins = &lt;3 RK_PC5 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;;
+		};
+
+		wan_led_pin: wan-led-pin {
+			rockchip,pins = &lt;2 RK_PC2 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;;
+		};
+	};
+
+	lan {
+		lan_vdd_pin: lan-vdd-pin {
+			rockchip,pins = &lt;2 RK_PC6 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;;
+		};
+	};
+
+	pmic {
+		pmic_int_l: pmic-int-l {
+			rockchip,pins = &lt;1 RK_PD0 RK_FUNC_GPIO &amp;pcfg_pull_up&gt;;
+		};
+	};
+};
+
+&amp;pwm2 {
+	status = "okay";
+};
+
+&amp;sdmmc {
+	bus-width = &lt;4&gt;;
+	cap-sd-highspeed;
+	disable-wp;
+	pinctrl-0 = &lt;&amp;sdmmc0_clk&gt;, &lt;&amp;sdmmc0_cmd&gt;, &lt;&amp;sdmmc0_dectn&gt;, &lt;&amp;sdmmc0_bus4&gt;;
+	pinctrl-names = "default";
+	vmmc-supply = &lt;&amp;vcc_sd&gt;;
+	status = "okay";
+};
+
+&amp;spi0 {
+	status = "okay";
+
+	flash@0 {
+		compatible = "jedec,spi-nor";
+		reg = &lt;0&gt;;
+		spi-max-frequency = &lt;50000000&gt;;
+	};
+};
+
+&amp;tsadc {
+	rockchip,hw-tshut-mode = &lt;0&gt;;
+	rockchip,hw-tshut-polarity = &lt;0&gt;;
+	status = "okay";
+};
+
+&amp;u2phy {
+	status = "okay";
+};
+
+&amp;u2phy_host {
+	status = "okay";
+};
+
+&amp;u2phy_otg {
+	status = "okay";
+};
+
+&amp;uart2 {
+	status = "okay";
+};
+
+&amp;usb20_otg {
+	dr_mode = "host";
+	status = "okay";
+};
+
+&amp;usbdrd3 {
+	dr_mode = "host";
+	status = "okay";
+	#address-cells = &lt;1&gt;;
+	#size-cells = &lt;0&gt;;
+
+	/* Second port is for USB 3.0 */
+	rtl8153: device@2 {
+		compatible = "usbbda,8153";
+		reg = &lt;2&gt;;
+	};
+};
+
+&amp;usb_host0_ehci {
+	status = "okay";
+};
+
+&amp;usb_host0_ohci {
+	status = "okay";
+};</pre>
    <div class="pagination">
        <span>[1]</span><a href='28_2.html'>2</a><a href='28_3.html'>3</a><a href='28_2.html'>Next&gt;&gt;</a>
    <div>
</body>
