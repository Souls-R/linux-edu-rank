<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patches contributed by University of Virginia, Charlottesville</title>
    <style>
    .pagination {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        overflow-wrap: break-word;
    }
    .pagination a, .pagination span {
        margin: 0 4px;
    }

    </style>
</head>
<body>
    <h1>Patches contributed by University of Virginia, Charlottesville</h1>
    <div class="pagination">
        <a href='3_62.html'>&lt;&lt;Prev</a><a href='3.html'>1</a><a href='3_2.html'>2</a><a href='3_3.html'>3</a><a href='3_4.html'>4</a><a href='3_5.html'>5</a><a href='3_6.html'>6</a><a href='3_7.html'>7</a><a href='3_8.html'>8</a><a href='3_9.html'>9</a><a href='3_10.html'>10</a><a href='3_11.html'>11</a><a href='3_12.html'>12</a><a href='3_13.html'>13</a><a href='3_14.html'>14</a><a href='3_15.html'>15</a><a href='3_16.html'>16</a><a href='3_17.html'>17</a><a href='3_18.html'>18</a><a href='3_19.html'>19</a><a href='3_20.html'>20</a><a href='3_21.html'>21</a><a href='3_22.html'>22</a><a href='3_23.html'>23</a><a href='3_24.html'>24</a><a href='3_25.html'>25</a><a href='3_26.html'>26</a><a href='3_27.html'>27</a><a href='3_28.html'>28</a><a href='3_29.html'>29</a><a href='3_30.html'>30</a><a href='3_31.html'>31</a><a href='3_32.html'>32</a><a href='3_33.html'>33</a><a href='3_34.html'>34</a><a href='3_35.html'>35</a><a href='3_36.html'>36</a><a href='3_37.html'>37</a><a href='3_38.html'>38</a><a href='3_39.html'>39</a><a href='3_40.html'>40</a><a href='3_41.html'>41</a><a href='3_42.html'>42</a><a href='3_43.html'>43</a><a href='3_44.html'>44</a><a href='3_45.html'>45</a><a href='3_46.html'>46</a><a href='3_47.html'>47</a><a href='3_48.html'>48</a><a href='3_49.html'>49</a><a href='3_50.html'>50</a><a href='3_51.html'>51</a><a href='3_52.html'>52</a><a href='3_53.html'>53</a><a href='3_54.html'>54</a><a href='3_55.html'>55</a><a href='3_56.html'>56</a><a href='3_57.html'>57</a><a href='3_58.html'>58</a><a href='3_59.html'>59</a><a href='3_60.html'>60</a><a href='3_61.html'>61</a><a href='3_62.html'>62</a><span>[63]</span><a href='3_64.html'>64</a><a href='3_65.html'>65</a><a href='3_66.html'>66</a><a href='3_67.html'>67</a><a href='3_68.html'>68</a><a href='3_69.html'>69</a><a href='3_70.html'>70</a><a href='3_71.html'>71</a><a href='3_72.html'>72</a><a href='3_73.html'>73</a><a href='3_74.html'>74</a><a href='3_75.html'>75</a><a href='3_76.html'>76</a><a href='3_77.html'>77</a><a href='3_78.html'>78</a><a href='3_79.html'>79</a><a href='3_80.html'>80</a><a href='3_81.html'>81</a><a href='3_82.html'>82</a><a href='3_83.html'>83</a><a href='3_64.html'>Next&gt;&gt;</a>
    </div>
    <hr>
    <pre>commit 251411cf05f3e7630f600a89f51fe9a82da967f8
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Thu Mar 19 17:58:57 2009 -0400

    Staging: comedi: Remove NI_660x_Register typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/ni_660x.c b/drivers/staging/comedi/drivers/ni_660x.c
index 2a3c1302d620..44036069a548 100644
--- a/drivers/staging/comedi/drivers/ni_660x.c
+++ b/drivers/staging/comedi/drivers/ni_660x.c
@@ -55,7 +55,7 @@ enum ni_660x_constants {
 #define MAX_DMA_CHANNEL 4
 
 /* See Register-Level Programmer Manual page 3.1 */
-typedef enum {
+enum NI_660x_Register {
 	G0InterruptAcknowledge,
 	G0StatusRegister,
 	G1InterruptAcknowledge,
@@ -155,7 +155,7 @@ typedef enum {
 	IOConfigReg36_37,
 	IOConfigReg38_39,
 	NumRegisters,
-} NI_660x_Register;
+};
 
 static inline unsigned IOConfigReg(unsigned pfi_channel)
 {
@@ -484,9 +484,9 @@ static inline unsigned ni_660x_num_counters(struct comedi_device * dev)
 	return board(dev)-&gt;n_chips * counters_per_chip;
 }
 
-static NI_660x_Register ni_gpct_to_660x_register(enum ni_gpct_register reg)
+static enum NI_660x_Register ni_gpct_to_660x_register(enum ni_gpct_register reg)
 {
-	NI_660x_Register ni_660x_register;
+	enum NI_660x_Register ni_660x_register;
 	switch (reg) {
 	case NITIO_G0_Autoincrement_Reg:
 		ni_660x_register = G0AutoincrementRegister;
@@ -703,7 +703,7 @@ static NI_660x_Register ni_gpct_to_660x_register(enum ni_gpct_register reg)
 }
 
 static inline void ni_660x_write_register(struct comedi_device * dev,
-	unsigned chip_index, unsigned bits, NI_660x_Register reg)
+	unsigned chip_index, unsigned bits, enum NI_660x_Register reg)
 {
 	void *const write_address =
 		private(dev)-&gt;mite-&gt;daq_io_addr + GPCT_OFFSET[chip_index] +
@@ -725,7 +725,7 @@ static inline void ni_660x_write_register(struct comedi_device * dev,
 }
 
 static inline unsigned ni_660x_read_register(struct comedi_device * dev,
-	unsigned chip_index, NI_660x_Register reg)
+	unsigned chip_index, enum NI_660x_Register reg)
 {
 	void *const read_address =
 		private(dev)-&gt;mite-&gt;daq_io_addr + GPCT_OFFSET[chip_index] +
@@ -751,7 +751,7 @@ static void ni_gpct_write_register(struct ni_gpct *counter, unsigned bits,
 	enum ni_gpct_register reg)
 {
 	struct comedi_device *dev = counter-&gt;counter_dev-&gt;dev;
-	NI_660x_Register ni_660x_register = ni_gpct_to_660x_register(reg);
+	enum NI_660x_Register ni_660x_register = ni_gpct_to_660x_register(reg);
 	ni_660x_write_register(dev, counter-&gt;chip_index, bits,
 		ni_660x_register);
 }
@@ -760,7 +760,7 @@ static unsigned ni_gpct_read_register(struct ni_gpct *counter,
 	enum ni_gpct_register reg)
 {
 	struct comedi_device *dev = counter-&gt;counter_dev-&gt;dev;
-	NI_660x_Register ni_660x_register = ni_gpct_to_660x_register(reg);
+	enum NI_660x_Register ni_660x_register = ni_gpct_to_660x_register(reg);
 	return ni_660x_read_register(dev, counter-&gt;chip_index,
 		ni_660x_register);
 }</pre><hr><pre>commit 6179e3e9bbec5df830ccca3970df80967347b410
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Thu Mar 19 17:58:51 2009 -0400

    Staging: comedi: Remove ni_65xx_subdevice_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/ni_65xx.c b/drivers/staging/comedi/drivers/ni_65xx.c
index 4f6e77879338..6e85da16a241 100644
--- a/drivers/staging/comedi/drivers/ni_65xx.c
+++ b/drivers/staging/comedi/drivers/ni_65xx.c
@@ -295,17 +295,18 @@ static inline struct ni_65xx_private *private(struct comedi_device * dev)
 	return dev-&gt;private;
 }
 
-typedef struct {
+struct ni_65xx_subdevice_private {
 	unsigned base_port;
-} ni_65xx_subdevice_private;
-static inline ni_65xx_subdevice_private *sprivate(struct comedi_subdevice * subdev)
+};
+
+static inline struct ni_65xx_subdevice_private *sprivate(struct comedi_subdevice * subdev)
 {
 	return subdev-&gt;private;
 }
-static ni_65xx_subdevice_private *ni_65xx_alloc_subdevice_private(void)
+static struct ni_65xx_subdevice_private *ni_65xx_alloc_subdevice_private(void)
 {
-	ni_65xx_subdevice_private *subdev_private =
-		kzalloc(sizeof(ni_65xx_subdevice_private), GFP_KERNEL);
+	struct ni_65xx_subdevice_private *subdev_private =
+		kzalloc(sizeof(struct ni_65xx_subdevice_private), GFP_KERNEL);
 	if (subdev_private == NULL)
 		return NULL;
 	return subdev_private;</pre><hr><pre>commit 47c30a2cc336d493d624d8437f41c19a270bb672
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Thu Mar 19 17:58:46 2009 -0400

    Staging: comedi: Remove ni_65xx_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/ni_65xx.c b/drivers/staging/comedi/drivers/ni_65xx.c
index c5fac96f25dd..4f6e77879338 100644
--- a/drivers/staging/comedi/drivers/ni_65xx.c
+++ b/drivers/staging/comedi/drivers/ni_65xx.c
@@ -282,14 +282,15 @@ static DEFINE_PCI_DEVICE_TABLE(ni_65xx_pci_table) = {
 
 MODULE_DEVICE_TABLE(pci, ni_65xx_pci_table);
 
-typedef struct {
+struct ni_65xx_private {
 	struct mite_struct *mite;
 	unsigned int filter_interval;
 	unsigned short filter_enable[NI_65XX_MAX_NUM_PORTS];
 	unsigned short output_bits[NI_65XX_MAX_NUM_PORTS];
 	unsigned short dio_direction[NI_65XX_MAX_NUM_PORTS];
-} ni_65xx_private;
-static inline ni_65xx_private *private(struct comedi_device * dev)
+};
+
+static inline struct ni_65xx_private *private(struct comedi_device * dev)
 {
 	return dev-&gt;private;
 }
@@ -625,7 +626,7 @@ static int ni_65xx_attach(struct comedi_device * dev, struct comedi_devconfig *
 
 	printk("comedi%d: ni_65xx:", dev-&gt;minor);
 
-	if ((ret = alloc_private(dev, sizeof(ni_65xx_private))) &lt; 0)
+	if ((ret = alloc_private(dev, sizeof(struct ni_65xx_private))) &lt; 0)
 		return ret;
 
 	ret = ni_65xx_find_device(dev, it-&gt;options[0], it-&gt;options[1]);</pre><hr><pre>commit f4c6b31958afecc08c8e83f3bc25161ce4442542
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Thu Mar 19 17:58:41 2009 -0400

    Staging: comedi: Remove ni6527_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/ni_6527.c b/drivers/staging/comedi/drivers/ni_6527.c
index 0d07c8514336..e01ecb6760f9 100644
--- a/drivers/staging/comedi/drivers/ni_6527.c
+++ b/drivers/staging/comedi/drivers/ni_6527.c
@@ -112,12 +112,13 @@ static DEFINE_PCI_DEVICE_TABLE(ni6527_pci_table) = {
 
 MODULE_DEVICE_TABLE(pci, ni6527_pci_table);
 
-typedef struct {
+struct ni6527_private {
 	struct mite_struct *mite;
 	unsigned int filter_interval;
 	unsigned int filter_enable;
-} ni6527_private;
-#define devpriv ((ni6527_private *)dev-&gt;private)
+};
+
+#define devpriv ((struct ni6527_private *)dev-&gt;private)
 
 static int ni6527_find_device(struct comedi_device * dev, int bus, int slot);
 
@@ -370,7 +371,7 @@ static int ni6527_attach(struct comedi_device * dev, struct comedi_devconfig * i
 
 	printk("comedi%d: ni6527:", dev-&gt;minor);
 
-	if ((ret = alloc_private(dev, sizeof(ni6527_private))) &lt; 0)
+	if ((ret = alloc_private(dev, sizeof(struct ni6527_private))) &lt; 0)
 		return ret;
 
 	ret = ni6527_find_device(dev, it-&gt;options[0], it-&gt;options[1]);</pre><hr><pre>commit 97070b32a886d53b7343bcb28ed38d906fa95f50
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Thu Mar 19 17:58:25 2009 -0400

    Staging: comedi: comedi: remove C99 comments in skel.c
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/skel.c b/drivers/staging/comedi/drivers/skel.c
index b2268aa49bc8..c7700d134cc1 100644
--- a/drivers/staging/comedi/drivers/skel.c
+++ b/drivers/staging/comedi/drivers/skel.c
@@ -215,7 +215,7 @@ static int skel_attach(struct comedi_device * dev, struct comedi_devconfig * it)
  * it is, this is the place to do it.  Otherwise, dev-&gt;board_ptr
  * should already be initialized.
  */
-	//dev-&gt;board_ptr = skel_probe(dev, it);
+	/* dev-&gt;board_ptr = skel_probe(dev, it); */
 
 /*
  * Initialize dev-&gt;board_name.  Note that we can use the "thisboard"
@@ -238,7 +238,7 @@ static int skel_attach(struct comedi_device * dev, struct comedi_devconfig * it)
 		return -ENOMEM;
 
 	s = dev-&gt;subdevices + 0;
-	//dev-&gt;read_subdev=s;
+	/* dev-&gt;read_subdev=s; */
 	/* analog input subdevice */
 	s-&gt;type = COMEDI_SUBD_AI;
 	/* we support single-ended (ground) and differential */
@@ -249,8 +249,10 @@ static int skel_attach(struct comedi_device * dev, struct comedi_devconfig * it)
 	s-&gt;len_chanlist = 16;	/* This is the maximum chanlist length that
 				   the board can handle */
 	s-&gt;insn_read = skel_ai_rinsn;
-//      s-&gt;subdev_flags |= SDF_CMD_READ;
-//      s-&gt;do_cmd = skel_ai_cmd;
+/*
+*       s-&gt;subdev_flags |= SDF_CMD_READ;
+*       s-&gt;do_cmd = skel_ai_cmd;
+*/
 	s-&gt;do_cmdtest = skel_ai_cmdtest;
 
 	s = dev-&gt;subdevices + 1;
@@ -311,20 +313,20 @@ static int skel_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s
 	/* a typical programming sequence */
 
 	/* write channel to multiplexer */
-	//outw(chan,dev-&gt;iobase + SKEL_MUX);
+	/* outw(chan,dev-&gt;iobase + SKEL_MUX); */
 
 	/* don't wait for mux to settle */
 
 	/* convert n samples */
 	for (n = 0; n &lt; insn-&gt;n; n++) {
 		/* trigger conversion */
-		//outw(0,dev-&gt;iobase + SKEL_CONVERT);
+		/* outw(0,dev-&gt;iobase + SKEL_CONVERT); */
 
 #define TIMEOUT 100
 		/* wait for conversion to end */
 		for (i = 0; i &lt; TIMEOUT; i++) {
 			status = 1;
-			//status = inb(dev-&gt;iobase + SKEL_STATUS);
+			/* status = inb(dev-&gt;iobase + SKEL_STATUS); */
 			if (status)
 				break;
 		}
@@ -336,7 +338,7 @@ static int skel_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s
 		}
 
 		/* read data */
-		//d = inw(dev-&gt;iobase + SKEL_AI_DATA);
+		/* d = inw(dev-&gt;iobase + SKEL_AI_DATA); */
 		d = 0;
 
 		/* mangle the data as necessary */
@@ -529,7 +531,7 @@ static int skel_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s
 	 * very useful, but that's how the interface is defined. */
 	for (i = 0; i &lt; insn-&gt;n; i++) {
 		/* a typical programming sequence */
-		//outw(data[i],dev-&gt;iobase + SKEL_DA0 + chan);
+		/* outw(data[i],dev-&gt;iobase + SKEL_DA0 + chan); */
 		devpriv-&gt;ao_readback[chan] = data[i];
 	}
 
@@ -568,15 +570,15 @@ static int skel_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevic
 		s-&gt;state &amp;= ~data[0];
 		s-&gt;state |= data[0] &amp; data[1];
 		/* Write out the new digital output lines */
-		//outw(s-&gt;state,dev-&gt;iobase + SKEL_DIO);
+		/* outw(s-&gt;state,dev-&gt;iobase + SKEL_DIO); */
 	}
 
 	/* on return, data[1] contains the value of the digital
 	 * input and output lines. */
-	//data[1]=inw(dev-&gt;iobase + SKEL_DIO);
+	/* data[1]=inw(dev-&gt;iobase + SKEL_DIO); */
 	/* or we could just return the software copy of the output values if
 	 * it was a purely digital output subdevice */
-	//data[1]=s-&gt;state;
+	/* data[1]=s-&gt;state; */
 
 	return 2;
 }
@@ -607,7 +609,7 @@ static int skel_dio_insn_config(struct comedi_device * dev, struct comedi_subdev
 		return -EINVAL;
 		break;
 	}
-	//outw(s-&gt;io_bits,dev-&gt;iobase + SKEL_DIO_CONFIG);
+	/* outw(s-&gt;io_bits,dev-&gt;iobase + SKEL_DIO_CONFIG); */
 
 	return insn-&gt;n;
 }
@@ -619,4 +621,4 @@ static int skel_dio_insn_config(struct comedi_device * dev, struct comedi_subdev
 COMEDI_INITCLEANUP(driver_skel);
 /* If you are writing a PCI driver you should use COMEDI_PCI_INITCLEANUP instead.
 */
-// COMEDI_PCI_INITCLEANUP(driver_skel, skel_pci_table)
+/* COMEDI_PCI_INITCLEANUP(driver_skel, skel_pci_table) */</pre><hr><pre>commit 450032a318ebfc95121fc548442217592803f4a7
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Thu Mar 19 17:57:22 2009 -0400

    Staging: comedi: Remove pcidas64_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/cb_pcidas64.c b/drivers/staging/comedi/drivers/cb_pcidas64.c
index 4c2e97302a35..1a580bd2247a 100644
--- a/drivers/staging/comedi/drivers/cb_pcidas64.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas64.c
@@ -1065,7 +1065,8 @@ struct ext_clock_info {
 };
 
 /* this structure is for data unique to this hardware driver. */
-typedef struct {
+struct pcidas64_private {
+
 	struct pci_dev *hw_dev;	// pointer to board's pci_dev struct
 	// base addresses (physical)
 	resource_size_t plx9080_phys_iobase;
@@ -1109,12 +1110,13 @@ typedef struct {
 	unsigned int ai_fifo_segment_length;
 	struct ext_clock_info ext_clock;
 	short ao_bounce_buffer[DAC_FIFO_SIZE];
-} pcidas64_private;
+};
+
 
 /* inline function that makes it easier to
  * access the private structure.
  */
-static inline pcidas64_private *priv(struct comedi_device * dev)
+static inline struct pcidas64_private *priv(struct comedi_device * dev)
 {
 	return dev-&gt;private;
 }
@@ -1685,7 +1687,7 @@ static int attach(struct comedi_device *dev, struct comedi_devconfig *it)
 /*
  * Allocate the private structure area.
  */
-	if (alloc_private(dev, sizeof(pcidas64_private)) &lt; 0)
+	if (alloc_private(dev, sizeof(struct pcidas64_private)) &lt; 0)
 		return -ENOMEM;
 
 /*</pre><hr><pre>commit 222ab1bc78dd8a48576e904da37fd6f71cb41a7e
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Thu Mar 19 17:57:11 2009 -0400

    Staging: comedi: Remove pcidas64_board typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/cb_pcidas64.c b/drivers/staging/comedi/drivers/cb_pcidas64.c
index 0e9eeefc93bd..4c2e97302a35 100644
--- a/drivers/staging/comedi/drivers/cb_pcidas64.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas64.c
@@ -541,7 +541,7 @@ struct hw_fifo_info {
 	uint16_t fifo_size_reg_mask;
 };
 
-typedef struct pcidas64_board_struct {
+struct pcidas64_board {
 	const char *name;
 	int device_id;		// pci device id
 	int ai_se_chans;	// number of ai inputs in single-ended mode
@@ -556,7 +556,7 @@ typedef struct pcidas64_board_struct {
 	const struct hw_fifo_info *const ai_fifo;
 	enum register_layout layout;	// different board families have slightly different registers
 	unsigned has_8255:1;
-} pcidas64_board;
+};
 
 static const struct hw_fifo_info ai_fifo_4020 = {
       num_segments:2,
@@ -584,7 +584,7 @@ static const struct hw_fifo_info ai_fifo_60xx = {
 #define MAX_AI_DMA_RING_COUNT (0x80000 / DMA_BUFFER_SIZE)
 #define MIN_AI_DMA_RING_COUNT (0x10000 / DMA_BUFFER_SIZE)
 #define AO_DMA_RING_COUNT (0x10000 / DMA_BUFFER_SIZE)
-static inline unsigned int ai_dma_ring_count(pcidas64_board * board)
+static inline unsigned int ai_dma_ring_count(struct pcidas64_board * board)
 {
 	if (board-&gt;layout == LAYOUT_4020)
 		return MAX_AI_DMA_RING_COUNT;
@@ -594,7 +594,7 @@ static inline unsigned int ai_dma_ring_count(pcidas64_board * board)
 
 static const int bytes_in_sample = 2;
 
-static const pcidas64_board pcidas64_boards[] = {
+static const struct pcidas64_board pcidas64_boards[] = {
 	{
 	      name:	"pci-das6402/16",
 	      device_id:0x1d,
@@ -1016,7 +1016,7 @@ static const pcidas64_board pcidas64_boards[] = {
 // Number of boards in cb_pcidas_boards
 static inline unsigned int num_boards(void)
 {
-	return sizeof(pcidas64_boards) / sizeof(pcidas64_board);
+	return sizeof(pcidas64_boards) / sizeof(struct pcidas64_board);
 }
 
 static DEFINE_PCI_DEVICE_TABLE(pcidas64_pci_table) = {
@@ -1044,9 +1044,9 @@ static DEFINE_PCI_DEVICE_TABLE(pcidas64_pci_table) = {
 
 MODULE_DEVICE_TABLE(pci, pcidas64_pci_table);
 
-static inline pcidas64_board *board(const struct comedi_device * dev)
+static inline struct pcidas64_board *board(const struct comedi_device * dev)
 {
-	return (pcidas64_board *) dev-&gt;board_ptr;
+	return (struct pcidas64_board *) dev-&gt;board_ptr;
 }
 
 static inline unsigned short se_diff_bit_6xxx(struct comedi_device * dev,
@@ -1267,7 +1267,7 @@ static void set_dac_range_bits(struct comedi_device * dev, volatile uint16_t * b
 	*bits |= code &lt;&lt; (2 * channel);
 };
 
-static inline int ao_cmd_is_supported(const pcidas64_board * board)
+static inline int ao_cmd_is_supported(const struct pcidas64_board * board)
 {
 	return board-&gt;ao_nchan &amp;&amp; board-&gt;layout != LAYOUT_4020;
 }</pre><hr><pre>commit 675935dd95cf24e81982e57021d03d5bf8bdac60
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Thu Mar 19 17:57:06 2009 -0400

    Staging: comedi: Remove hw_fifo_info_t typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/cb_pcidas64.c b/drivers/staging/comedi/drivers/cb_pcidas64.c
index 707e3ccc9d72..0e9eeefc93bd 100644
--- a/drivers/staging/comedi/drivers/cb_pcidas64.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas64.c
@@ -534,12 +534,12 @@ enum register_layout {
 	LAYOUT_4020,
 };
 
-typedef struct hw_fifo_info_struct {
+struct hw_fifo_info {
 	unsigned int num_segments;
 	unsigned int max_segment_length;
 	unsigned int sample_packing_ratio;
 	uint16_t fifo_size_reg_mask;
-} hw_fifo_info_t;
+};
 
 typedef struct pcidas64_board_struct {
 	const char *name;
@@ -553,26 +553,26 @@ typedef struct pcidas64_board_struct {
 	int ao_scan_speed;	// analog output speed (for a scan, not conversion)
 	const struct comedi_lrange *ao_range_table;
 	const int *ao_range_code;
-	const hw_fifo_info_t *const ai_fifo;
+	const struct hw_fifo_info *const ai_fifo;
 	enum register_layout layout;	// different board families have slightly different registers
 	unsigned has_8255:1;
 } pcidas64_board;
 
-static const hw_fifo_info_t ai_fifo_4020 = {
+static const struct hw_fifo_info ai_fifo_4020 = {
       num_segments:2,
       max_segment_length:0x8000,
       sample_packing_ratio:2,
       fifo_size_reg_mask:0x7f,
 };
 
-static const hw_fifo_info_t ai_fifo_64xx = {
+static const struct hw_fifo_info ai_fifo_64xx = {
       num_segments:4,
       max_segment_length:0x800,
       sample_packing_ratio:1,
       fifo_size_reg_mask:0x3f,
 };
 
-static const hw_fifo_info_t ai_fifo_60xx = {
+static const struct hw_fifo_info ai_fifo_60xx = {
       num_segments:4,
       max_segment_length:0x800,
       sample_packing_ratio:1,
@@ -2041,7 +2041,7 @@ static int ai_config_calibration_source(struct comedi_device * dev, unsigned int
 static int ai_config_block_size(struct comedi_device * dev, unsigned int * data)
 {
 	int fifo_size;
-	const hw_fifo_info_t *const fifo = board(dev)-&gt;ai_fifo;
+	const struct hw_fifo_info *const fifo = board(dev)-&gt;ai_fifo;
 	unsigned int block_size, requested_block_size;
 	int retval;
 
@@ -3929,7 +3929,7 @@ static int set_ai_fifo_size(struct comedi_device * dev, unsigned int num_samples
 {
 	unsigned int num_fifo_entries;
 	int retval;
-	const hw_fifo_info_t *const fifo = board(dev)-&gt;ai_fifo;
+	const struct hw_fifo_info *const fifo = board(dev)-&gt;ai_fifo;
 
 	num_fifo_entries = num_samples / fifo-&gt;sample_packing_ratio;
 
@@ -3957,7 +3957,7 @@ static int set_ai_fifo_segment_length(struct comedi_device * dev,
 	unsigned int num_entries)
 {
 	static const int increment_size = 0x100;
-	const hw_fifo_info_t *const fifo = board(dev)-&gt;ai_fifo;
+	const struct hw_fifo_info *const fifo = board(dev)-&gt;ai_fifo;
 	unsigned int num_increments;
 	uint16_t bits;
 </pre><hr><pre>commit 4a5a33b622ca46acd0a7c593a804964353d54a7b
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Thu Mar 19 14:22:44 2009 -0400

    Staging: comedi: Remove 2.4 irqreturn_t compatibility in comedi/interrupt.h
    
    This allows the comedi driver to build after commit bedd3..058bb
    is applied.
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Reported-by: Sachin Sant &lt;sachinp@in.ibm.com&gt;
    Reported-by: Randy Dunlap &lt;randy.dunlap@oracle.com&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/interrupt.h b/drivers/staging/comedi/interrupt.h
index 50cf823dbd04..d1f09892da2e 100644
--- a/drivers/staging/comedi/interrupt.h
+++ b/drivers/staging/comedi/interrupt.h
@@ -21,13 +21,6 @@
 
 #include &lt;linux/interrupt.h&gt;
 
-#ifndef IRQ_NONE
-typedef void irqreturn_t;
-#define IRQ_NONE
-#define IRQ_HANDLED
-#define IRQ_RETVAL(x) (void)(x)
-#endif
-
 #ifndef IRQF_DISABLED
 #define IRQF_DISABLED           SA_INTERRUPT
 #define IRQF_SAMPLE_RANDOM      SA_SAMPLE_RANDOM</pre><hr><pre>commit ab64f663412716193ccafefd7e6cc27dcf691ac8
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:19:53 2009 -0400

    Staging: comedi: quatech_daqp_cs: Remove local_info_t typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/quatech_daqp_cs.c b/drivers/staging/comedi/drivers/quatech_daqp_cs.c
index f405341c95f6..795c4522867f 100644
--- a/drivers/staging/comedi/drivers/quatech_daqp_cs.c
+++ b/drivers/staging/comedi/drivers/quatech_daqp_cs.c
@@ -75,7 +75,7 @@ static char *version = "quatech_daqp_cs.c 1.10 2003/04/21 (Brent Baccala)";
 /* Maximum number of separate DAQP devices we'll allow */
 #define MAX_DEV         4
 
-typedef struct local_info_t {
+struct local_info_t {
 	struct pcmcia_device *link;
 	dev_node_t node;
 	int stop;
@@ -89,11 +89,11 @@ typedef struct local_info_t {
 	struct comedi_device *dev;
 	struct comedi_subdevice *s;
 	int count;
-} local_info_t;
+};
 
 /* A list of "instances" of the device. */
 
-static local_info_t *dev_table[MAX_DEV] = { NULL, /* ... */  };
+static struct local_info_t *dev_table[MAX_DEV] = { NULL, /* ... */  };
 
 /* The DAQP communicates with the system through a 16 byte I/O window. */
 
@@ -236,7 +236,7 @@ static void hex_dump(char *str, void *ptr, int len)
 
 static int daqp_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
-	local_info_t *local = (local_info_t *) s-&gt;private;
+	struct local_info_t *local = (struct local_info_t *) s-&gt;private;
 
 	if (local-&gt;stop) {
 		return -EIO;
@@ -264,7 +264,7 @@ static int daqp_ai_cancel(struct comedi_device * dev, struct comedi_subdevice *
 
 static void daqp_interrupt(int irq, void *dev_id PT_REGS_ARG)
 {
-	local_info_t *local = (local_info_t *) dev_id;
+	struct local_info_t *local = (struct local_info_t *) dev_id;
 	struct comedi_device *dev;
 	struct comedi_subdevice *s;
 	int loop_limit = 10000;
@@ -295,7 +295,7 @@ static void daqp_interrupt(int irq, void *dev_id PT_REGS_ARG)
 		return;
 	}
 
-	if ((local_info_t *) s-&gt;private != local) {
+	if ((struct local_info_t *) s-&gt;private != local) {
 		printk(KERN_WARNING
 			"daqp_interrupt(): invalid comedi_subdevice.\n");
 		return;
@@ -364,7 +364,7 @@ static void daqp_interrupt(int irq, void *dev_id PT_REGS_ARG)
 static int daqp_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	struct comedi_insn * insn, unsigned int * data)
 {
-	local_info_t *local = (local_info_t *) s-&gt;private;
+	struct local_info_t *local = (struct local_info_t *) s-&gt;private;
 	int i;
 	int v;
 	int counter = 10000;
@@ -595,7 +595,7 @@ static int daqp_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice *
 
 static int daqp_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
-	local_info_t *local = (local_info_t *) s-&gt;private;
+	struct local_info_t *local = (struct local_info_t *) s-&gt;private;
 	struct comedi_cmd *cmd = &amp;s-&gt;async-&gt;cmd;
 	int counter = 100;
 	int scanlist_start_on_every_entry;
@@ -796,7 +796,7 @@ static int daqp_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 static int daqp_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	struct comedi_insn * insn, unsigned int * data)
 {
-	local_info_t *local = (local_info_t *) s-&gt;private;
+	struct local_info_t *local = (struct local_info_t *) s-&gt;private;
 	int d;
 	unsigned int chan;
 
@@ -823,7 +823,7 @@ static int daqp_ao_insn_write(struct comedi_device * dev, struct comedi_subdevic
 static int daqp_di_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	struct comedi_insn * insn, unsigned int * data)
 {
-	local_info_t *local = (local_info_t *) s-&gt;private;
+	struct local_info_t *local = (struct local_info_t *) s-&gt;private;
 
 	if (local-&gt;stop) {
 		return -EIO;
@@ -839,7 +839,7 @@ static int daqp_di_insn_read(struct comedi_device * dev, struct comedi_subdevice
 static int daqp_do_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	struct comedi_insn * insn, unsigned int * data)
 {
-	local_info_t *local = (local_info_t *) s-&gt;private;
+	struct local_info_t *local = (struct local_info_t *) s-&gt;private;
 
 	if (local-&gt;stop) {
 		return -EIO;
@@ -859,7 +859,7 @@ static int daqp_do_insn_write(struct comedi_device * dev, struct comedi_subdevic
 static int daqp_attach(struct comedi_device * dev, struct comedi_devconfig * it)
 {
 	int ret;
-	local_info_t *local = dev_table[it-&gt;options[0]];
+	struct local_info_t *local = dev_table[it-&gt;options[0]];
 	tuple_t tuple;
 	int i;
 	struct comedi_subdevice *s;
@@ -1051,7 +1051,7 @@ static const dev_info_t dev_info = "quatech_daqp_cs";
 
 static int daqp_cs_attach(struct pcmcia_device *link)
 {
-	local_info_t *local;
+	struct local_info_t *local;
 	int i;
 
 	DEBUG(0, "daqp_cs_attach()\n");
@@ -1065,7 +1065,7 @@ static int daqp_cs_attach(struct pcmcia_device *link)
 	}
 
 	/* Allocate space for private device-specific data */
-	local = kzalloc(sizeof(local_info_t), GFP_KERNEL);
+	local = kzalloc(sizeof(struct local_info_t), GFP_KERNEL);
 	if (!local)
 		return -ENOMEM;
 
@@ -1106,7 +1106,7 @@ static int daqp_cs_attach(struct pcmcia_device *link)
 
 static void daqp_cs_detach(struct pcmcia_device *link)
 {
-	local_info_t *dev = link-&gt;priv;
+	struct local_info_t *dev = link-&gt;priv;
 
 	DEBUG(0, "daqp_cs_detach(0x%p)\n", link);
 
@@ -1132,7 +1132,7 @@ static void daqp_cs_detach(struct pcmcia_device *link)
 
 static void daqp_cs_config(struct pcmcia_device *link)
 {
-	local_info_t *dev = link-&gt;priv;
+	struct local_info_t *dev = link-&gt;priv;
 	tuple_t tuple;
 	cisparse_t parse;
 	int last_ret;
@@ -1306,7 +1306,7 @@ static void daqp_cs_release(struct pcmcia_device *link)
 
 static int daqp_cs_suspend(struct pcmcia_device *link)
 {
-	local_info_t *local = link-&gt;priv;
+	struct local_info_t *local = link-&gt;priv;
 
 	/* Mark the device as stopped, to block IO until later */
 	local-&gt;stop = 1;
@@ -1315,7 +1315,7 @@ static int daqp_cs_suspend(struct pcmcia_device *link)
 
 static int daqp_cs_resume(struct pcmcia_device *link)
 {
-	local_info_t *local = link-&gt;priv;
+	struct local_info_t *local = link-&gt;priv;
 
 	local-&gt;stop = 0;
 </pre>
    <div class="pagination">
        <a href='3_62.html'>&lt;&lt;Prev</a><a href='3.html'>1</a><a href='3_2.html'>2</a><a href='3_3.html'>3</a><a href='3_4.html'>4</a><a href='3_5.html'>5</a><a href='3_6.html'>6</a><a href='3_7.html'>7</a><a href='3_8.html'>8</a><a href='3_9.html'>9</a><a href='3_10.html'>10</a><a href='3_11.html'>11</a><a href='3_12.html'>12</a><a href='3_13.html'>13</a><a href='3_14.html'>14</a><a href='3_15.html'>15</a><a href='3_16.html'>16</a><a href='3_17.html'>17</a><a href='3_18.html'>18</a><a href='3_19.html'>19</a><a href='3_20.html'>20</a><a href='3_21.html'>21</a><a href='3_22.html'>22</a><a href='3_23.html'>23</a><a href='3_24.html'>24</a><a href='3_25.html'>25</a><a href='3_26.html'>26</a><a href='3_27.html'>27</a><a href='3_28.html'>28</a><a href='3_29.html'>29</a><a href='3_30.html'>30</a><a href='3_31.html'>31</a><a href='3_32.html'>32</a><a href='3_33.html'>33</a><a href='3_34.html'>34</a><a href='3_35.html'>35</a><a href='3_36.html'>36</a><a href='3_37.html'>37</a><a href='3_38.html'>38</a><a href='3_39.html'>39</a><a href='3_40.html'>40</a><a href='3_41.html'>41</a><a href='3_42.html'>42</a><a href='3_43.html'>43</a><a href='3_44.html'>44</a><a href='3_45.html'>45</a><a href='3_46.html'>46</a><a href='3_47.html'>47</a><a href='3_48.html'>48</a><a href='3_49.html'>49</a><a href='3_50.html'>50</a><a href='3_51.html'>51</a><a href='3_52.html'>52</a><a href='3_53.html'>53</a><a href='3_54.html'>54</a><a href='3_55.html'>55</a><a href='3_56.html'>56</a><a href='3_57.html'>57</a><a href='3_58.html'>58</a><a href='3_59.html'>59</a><a href='3_60.html'>60</a><a href='3_61.html'>61</a><a href='3_62.html'>62</a><span>[63]</span><a href='3_64.html'>64</a><a href='3_65.html'>65</a><a href='3_66.html'>66</a><a href='3_67.html'>67</a><a href='3_68.html'>68</a><a href='3_69.html'>69</a><a href='3_70.html'>70</a><a href='3_71.html'>71</a><a href='3_72.html'>72</a><a href='3_73.html'>73</a><a href='3_74.html'>74</a><a href='3_75.html'>75</a><a href='3_76.html'>76</a><a href='3_77.html'>77</a><a href='3_78.html'>78</a><a href='3_79.html'>79</a><a href='3_80.html'>80</a><a href='3_81.html'>81</a><a href='3_82.html'>82</a><a href='3_83.html'>83</a><a href='3_64.html'>Next&gt;&gt;</a>
    <div>
</body>
