<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patches contributed by National Central University</title>
    <style>
    .pagination {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        overflow-wrap: break-word;
    }
    .pagination a, .pagination span {
        margin: 0 4px;
    }

    </style>
</head>
<body>
    <h1>Patches contributed by National Central University</h1>
    <div class="pagination">
        <span>[1]</span>
    </div>
    <hr>
    <pre>commit 1df4d1724baafa55e9803414ebcdf1ca702bc958
Author: Zheng Zhi Yuan &lt;kevinjone25@g.ncu.edu.tw&gt;
Date:   Sun Jun 26 22:29:58 2022 +0800

    drivers: fix typo in firmware/efi/memmap.c
    
    This patch fixes the spelling error in firmware/efi/memmap.c, changing
    it to the correct word.
    
    Signed-off-by: Zheng Zhi Yuan &lt;kevinjone25@g.ncu.edu.tw&gt;
    Signed-off-by: Ard Biesheuvel &lt;ardb@kernel.org&gt;

diff --git a/drivers/firmware/efi/memmap.c b/drivers/firmware/efi/memmap.c
index cf87dd7bbd25..6ec7970dbd40 100644
--- a/drivers/firmware/efi/memmap.c
+++ b/drivers/firmware/efi/memmap.c
@@ -244,7 +244,7 @@ int __init efi_memmap_install(struct efi_memory_map_data *data)
  * @range: Address range (start, end) to split around
  *
  * Returns the number of additional EFI memmap entries required to
- * accomodate @range.
+ * accommodate @range.
  */
 int __init efi_memmap_split_count(efi_memory_desc_t *md, struct range *range)
 {</pre><hr><pre>commit 5c7f2accdb818564a069cc61db8e3e1ba7ff4938
Author: Jian-Hong Pan &lt;starnight@g.ncu.edu.tw&gt;
Date:   Sat Nov 18 23:55:01 2017 +0800

    doc: linux-wpan: Fulfill the description of missed 802.15.4 APIs
    
    There are more functions and operations which must be used or implemented
    in each IEEE 802.15.4 device driver, but are not mentioned in the Device
    drivers API section of Documentation/networking/ieee802154.txt.  Therefore,
    I want to fulfill the missed part into the documentation with this patch.
    
    Signed-off-by: Jian-Hong Pan &lt;starnight@g.ncu.edu.tw&gt;
    Acked-by: Alexander Aring &lt;aring@mojatatu.com&gt;
    Signed-off-by: Stefan Schmidt &lt;stefan@osg.samsung.com&gt;

diff --git a/Documentation/networking/ieee802154.txt b/Documentation/networking/ieee802154.txt
index 057e9fdbfac9..e74d8e1da0e2 100644
--- a/Documentation/networking/ieee802154.txt
+++ b/Documentation/networking/ieee802154.txt
@@ -97,6 +97,46 @@ The include/net/mac802154.h defines following functions:
  - void ieee802154_unregister_hw(struct ieee802154_hw *hw):
    freeing registered PHY
 
+ - void ieee802154_rx_irqsafe(struct ieee802154_hw *hw, struct sk_buff *skb,
+                              u8 lqi):
+   telling 802.15.4 module there is a new received frame in the skb with
+   the RF Link Quality Indicator (LQI) from the hardware device
+
+ - void ieee802154_xmit_complete(struct ieee802154_hw *hw, struct sk_buff *skb,
+                                 bool ifs_handling):
+   telling 802.15.4 module the frame in the skb is or going to be
+   transmitted through the hardware device
+
+The device driver must implement the following callbacks in the IEEE 802.15.4
+operations structure at least:
+struct ieee802154_ops {
+	...
+	int	(*start)(struct ieee802154_hw *hw);
+	void	(*stop)(struct ieee802154_hw *hw);
+	...
+	int	(*xmit_async)(struct ieee802154_hw *hw, struct sk_buff *skb);
+	int	(*ed)(struct ieee802154_hw *hw, u8 *level);
+	int	(*set_channel)(struct ieee802154_hw *hw, u8 page, u8 channel);
+	...
+};
+
+ - int start(struct ieee802154_hw *hw):
+   handler that 802.15.4 module calls for the hardware device initialization.
+
+ - void stop(struct ieee802154_hw *hw):
+   handler that 802.15.4 module calls for the hardware device cleanup.
+
+ - int xmit_async(struct ieee802154_hw *hw, struct sk_buff *skb):
+   handler that 802.15.4 module calls for each frame in the skb going to be
+   transmitted through the hardware device.
+
+ - int ed(struct ieee802154_hw *hw, u8 *level):
+   handler that 802.15.4 module calls for Energy Detection from the hardware
+   device.
+
+ - int set_channel(struct ieee802154_hw *hw, u8 page, u8 channel):
+   set radio for listening on specific channel of the hardware device.
+
 Moreover IEEE 802.15.4 device operations structure should be filled.
 
 Fake drivers</pre><hr><pre>commit 8ac5ac1b0ef8709b78b9242903b070f1c3b2cedb
Author: Jian-Hong Pan &lt;starnight@g.ncu.edu.tw&gt;
Date:   Mon Aug 7 00:28:29 2017 +0800

    doc: linux-wpan: Change the old function names to the lastest function names
    
    The function declaration in the lastest include/net/mac802154.h has been
    changed since v3.19.
    
    ieee802154_alloc_device =&gt; ieee802154_alloc_hw
    ieee802154_free_device =&gt; ieee802154_free_hw
    ieee802154_register_device =&gt; ieee802154_register_hw
    ieee802154_unregister_device =&gt; ieee802154_unregister_hw
    
    However, the description in the Device drivers API section of
    Documentation/networking/ieee802154.txt is still in the state of
    v3.18.63.
    
    Signed-off-by: Jian-Hong Pan &lt;starnight@g.ncu.edu.tw&gt;
    Acked-by: Stefan Schmidt &lt;stefan@osg.samsung.com&gt;
    Signed-off-by: Jonathan Corbet &lt;corbet@lwn.net&gt;

diff --git a/Documentation/networking/ieee802154.txt b/Documentation/networking/ieee802154.txt
index c4114346f054..057e9fdbfac9 100644
--- a/Documentation/networking/ieee802154.txt
+++ b/Documentation/networking/ieee802154.txt
@@ -84,17 +84,17 @@ Device drivers API
 ==================
 
 The include/net/mac802154.h defines following functions:
- - struct ieee802154_dev *ieee802154_alloc_device
-   (size_t priv_size, struct ieee802154_ops *ops):
-   allocation of IEEE 802.15.4 compatible device
+ - struct ieee802154_hw *
+   ieee802154_alloc_hw(size_t priv_data_len, const struct ieee802154_ops *ops):
+   allocation of IEEE 802.15.4 compatible hardware device
 
- - void ieee802154_free_device(struct ieee802154_dev *dev):
-   freeing allocated device
+ - void ieee802154_free_hw(struct ieee802154_hw *hw):
+   freeing allocated hardware device
 
- - int ieee802154_register_device(struct ieee802154_dev *dev):
-   register PHY in the system
+ - int ieee802154_register_hw(struct ieee802154_hw *hw):
+   register PHY which is the allocated hardware device, in the system
 
- - void ieee802154_unregister_device(struct ieee802154_dev *dev):
+ - void ieee802154_unregister_hw(struct ieee802154_hw *hw):
    freeing registered PHY
 
 Moreover IEEE 802.15.4 device operations structure should be filled.</pre>
    <div class="pagination">
        <span>[1]</span>
    <div>
</body>
