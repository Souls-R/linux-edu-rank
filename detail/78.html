<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patches contributed by University of North Carolina at Chapel Hill</title>
    <style>
    .pagination {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        overflow-wrap: break-word;
    }
    .pagination a, .pagination span {
        margin: 0 4px;
    }

    </style>
</head>
<body>
    <h1>Patches contributed by University of North Carolina at Chapel Hill</h1>
    <div class="pagination">
        <span>[1]</span>
    </div>
    <hr>
    <pre>commit c882c6b1cb3105d378768aa168d2283f50b6e304
Author: Sagar Patel &lt;sagarmp@cs.unc.edu&gt;
Date:   Wed Mar 23 16:06:05 2022 -0700

    checkpatch: use python3 to find codespell dictionary
    
    Commit 0ee3e7b8893e ("checkpatch: get default codespell dictionary path
    from package location") introduced the ability to search for the
    codespell dictionary rather than hardcoding its path.
    
    codespell requires Python 3.6 or above, but on some systems, the python
    executable is a Python 2.7 interpreter.  In this case, searching for the
    dictionary fails, subsequently making codespell fail:
    
      No codespell typos will be found - file '/usr/share/codespell/dictionary.txt': No such file or directory
    
    So, use python3 to remove ambiguity.
    
    In addition, when searching for dictionary.txt, do not check if the
    codespell executable exists since,
    
     - checkpatch.pl only uses dictionary.txt, not the codespell
       executable.
    
     - codespell can be installed via a Python package manager, in which
       case the codespell executable may not be present in a typical $PATH,
       but a dictionary does exist.
    
    Link: https://lkml.kernel.org/r/20220309180048.147672-1-sagarmp@cs.unc.edu
    Signed-off-by: Sagar Patel &lt;sagarmp@cs.unc.edu&gt;
    Reviewed-by: Peter Ujfalusi &lt;peter.ujfalusi@linux.intel.com&gt;
    Cc: Joe Perches &lt;joe@perches.com&gt;
    Signed-off-by: Andrew Morton &lt;akpm@linux-foundation.org&gt;
    Signed-off-by: Linus Torvalds &lt;torvalds@linux-foundation.org&gt;

diff --git a/scripts/checkpatch.pl b/scripts/checkpatch.pl
index 2653177f52d9..577e02998701 100755
--- a/scripts/checkpatch.pl
+++ b/scripts/checkpatch.pl
@@ -334,7 +334,7 @@ if ($user_codespellfile) {
 } elsif (!(-f $codespellfile)) {
 	# If /usr/share/codespell/dictionary.txt is not present, try to find it
 	# under codespell's install directory: &lt;codespell_root&gt;/data/dictionary.txt
-	if (($codespell || $help) &amp;&amp; which("codespell") ne "" &amp;&amp; which("python") ne "") {
+	if (($codespell || $help) &amp;&amp; which("python3") ne "") {
 		my $python_codespell_dict = &lt;&lt; "EOF";
 
 import os.path as op
@@ -344,7 +344,7 @@ codespell_file = op.join(codespell_dir, 'data', 'dictionary.txt')
 print(codespell_file, end='')
 EOF
 
-		my $codespell_dict = `python -c "$python_codespell_dict" 2&gt; /dev/null`;
+		my $codespell_dict = `python3 -c "$python_codespell_dict" 2&gt; /dev/null`;
 		$codespellfile = $codespell_dict if (-f $codespell_dict);
 	}
 }</pre><hr><pre>commit ee94b5a061b121305cae8ff46b7fa8325aa84b12
Author: Sagar Patel &lt;sagarmp@cs.unc.edu&gt;
Date:   Mon Mar 7 17:24:13 2022 -0500

    arm64: drop unused includes of &lt;linux/personality.h&gt;
    
    Drop several includes of &lt;linux/personality.h&gt; which are not used.
    git-blame indicates they were used at some point, but they're not needed
    anymore.
    
    Signed-off-by: Sagar Patel &lt;sagarmp@cs.unc.edu&gt;
    Link: https://lore.kernel.org/r/20220307222412.146506-1-sagarmp@cs.unc.edu
    Signed-off-by: Will Deacon &lt;will@kernel.org&gt;

diff --git a/arch/arm64/kernel/signal.c b/arch/arm64/kernel/signal.c
index d8aaf4b6f432..fe83a42dac8f 100644
--- a/arch/arm64/kernel/signal.c
+++ b/arch/arm64/kernel/signal.c
@@ -11,7 +11,6 @@
 #include &lt;linux/errno.h&gt;
 #include &lt;linux/kernel.h&gt;
 #include &lt;linux/signal.h&gt;
-#include &lt;linux/personality.h&gt;
 #include &lt;linux/freezer.h&gt;
 #include &lt;linux/stddef.h&gt;
 #include &lt;linux/uaccess.h&gt;
diff --git a/arch/arm64/kernel/sys_compat.c b/arch/arm64/kernel/sys_compat.c
index db5159a3055f..12c6864e51e1 100644
--- a/arch/arm64/kernel/sys_compat.c
+++ b/arch/arm64/kernel/sys_compat.c
@@ -9,7 +9,6 @@
 
 #include &lt;linux/compat.h&gt;
 #include &lt;linux/cpufeature.h&gt;
-#include &lt;linux/personality.h&gt;
 #include &lt;linux/sched.h&gt;
 #include &lt;linux/sched/signal.h&gt;
 #include &lt;linux/slab.h&gt;
diff --git a/arch/arm64/kernel/traps.c b/arch/arm64/kernel/traps.c
index 70fc42470f13..bb878f52ca0a 100644
--- a/arch/arm64/kernel/traps.c
+++ b/arch/arm64/kernel/traps.c
@@ -9,7 +9,6 @@
 #include &lt;linux/bug.h&gt;
 #include &lt;linux/context_tracking.h&gt;
 #include &lt;linux/signal.h&gt;
-#include &lt;linux/personality.h&gt;
 #include &lt;linux/kallsyms.h&gt;
 #include &lt;linux/kprobes.h&gt;
 #include &lt;linux/spinlock.h&gt;</pre><hr><pre>commit 4944f7e5c917949451ba7f32aab5d297d8b03c7f
Author: Bjoern B. Brandenburg &lt;bbb@cs.unc.edu&gt;
Date:   Tue Sep 9 19:43:33 2008 -0700

    sparc: remove unused includes
    
    The spinlock code does not use NR_CPUS.
    Compile tested using allyesconfig and allnoconfig.
    
    Signed-off-by: Bjoern B. Brandenburg &lt;bbb@cs.unc.edu&gt;
    Signed-off-by: David S. Miller &lt;davem@davemloft.net&gt;

diff --git a/arch/sparc/include/asm/spinlock_32.h b/arch/sparc/include/asm/spinlock_32.h
index de2249b267c6..bf2d532593e3 100644
--- a/arch/sparc/include/asm/spinlock_32.h
+++ b/arch/sparc/include/asm/spinlock_32.h
@@ -6,8 +6,6 @@
 #ifndef __SPARC_SPINLOCK_H
 #define __SPARC_SPINLOCK_H
 
-#include &lt;linux/threads.h&gt;	/* For NR_CPUS */
-
 #ifndef __ASSEMBLY__
 
 #include &lt;asm/psr.h&gt;
diff --git a/arch/sparc/include/asm/spinlock_64.h b/arch/sparc/include/asm/spinlock_64.h
index 0006fe9f8c7a..120cfe4577c7 100644
--- a/arch/sparc/include/asm/spinlock_64.h
+++ b/arch/sparc/include/asm/spinlock_64.h
@@ -6,8 +6,6 @@
 #ifndef __SPARC64_SPINLOCK_H
 #define __SPARC64_SPINLOCK_H
 
-#include &lt;linux/threads.h&gt;	/* For NR_CPUS */
-
 #ifndef __ASSEMBLY__
 
 /* To get debugging spinlocks which detect and catch</pre>
    <div class="pagination">
        <span>[1]</span>
    <div>
</body>
