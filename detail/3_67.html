<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patches contributed by University of Virginia, Charlottesville</title>
    <style>
    .pagination {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        overflow-wrap: break-word;
    }
    .pagination a, .pagination span {
        margin: 0 4px;
    }

    </style>
</head>
<body>
    <h1>Patches contributed by University of Virginia, Charlottesville</h1>
    <div class="pagination">
        <a href='3_66.html'>&lt;&lt;Prev</a><a href='3.html'>1</a><a href='3_2.html'>2</a><a href='3_3.html'>3</a><a href='3_4.html'>4</a><a href='3_5.html'>5</a><a href='3_6.html'>6</a><a href='3_7.html'>7</a><a href='3_8.html'>8</a><a href='3_9.html'>9</a><a href='3_10.html'>10</a><a href='3_11.html'>11</a><a href='3_12.html'>12</a><a href='3_13.html'>13</a><a href='3_14.html'>14</a><a href='3_15.html'>15</a><a href='3_16.html'>16</a><a href='3_17.html'>17</a><a href='3_18.html'>18</a><a href='3_19.html'>19</a><a href='3_20.html'>20</a><a href='3_21.html'>21</a><a href='3_22.html'>22</a><a href='3_23.html'>23</a><a href='3_24.html'>24</a><a href='3_25.html'>25</a><a href='3_26.html'>26</a><a href='3_27.html'>27</a><a href='3_28.html'>28</a><a href='3_29.html'>29</a><a href='3_30.html'>30</a><a href='3_31.html'>31</a><a href='3_32.html'>32</a><a href='3_33.html'>33</a><a href='3_34.html'>34</a><a href='3_35.html'>35</a><a href='3_36.html'>36</a><a href='3_37.html'>37</a><a href='3_38.html'>38</a><a href='3_39.html'>39</a><a href='3_40.html'>40</a><a href='3_41.html'>41</a><a href='3_42.html'>42</a><a href='3_43.html'>43</a><a href='3_44.html'>44</a><a href='3_45.html'>45</a><a href='3_46.html'>46</a><a href='3_47.html'>47</a><a href='3_48.html'>48</a><a href='3_49.html'>49</a><a href='3_50.html'>50</a><a href='3_51.html'>51</a><a href='3_52.html'>52</a><a href='3_53.html'>53</a><a href='3_54.html'>54</a><a href='3_55.html'>55</a><a href='3_56.html'>56</a><a href='3_57.html'>57</a><a href='3_58.html'>58</a><a href='3_59.html'>59</a><a href='3_60.html'>60</a><a href='3_61.html'>61</a><a href='3_62.html'>62</a><a href='3_63.html'>63</a><a href='3_64.html'>64</a><a href='3_65.html'>65</a><a href='3_66.html'>66</a><span>[67]</span><a href='3_68.html'>68</a><a href='3_69.html'>69</a><a href='3_70.html'>70</a><a href='3_71.html'>71</a><a href='3_72.html'>72</a><a href='3_73.html'>73</a><a href='3_74.html'>74</a><a href='3_75.html'>75</a><a href='3_76.html'>76</a><a href='3_77.html'>77</a><a href='3_78.html'>78</a><a href='3_79.html'>79</a><a href='3_80.html'>80</a><a href='3_81.html'>81</a><a href='3_82.html'>82</a><a href='3_83.html'>83</a><a href='3_68.html'>Next&gt;&gt;</a>
    </div>
    <hr>
    <pre>commit 4467df9406bc40fdbc9cf64cfb2e95cba8f77e1e
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:19:37 2009 -0400

    Staging: comedi: Remove pcmmio_subdev_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/pcmmio.c b/drivers/staging/comedi/drivers/pcmmio.c
index 75db61055db3..2d4f9689dd84 100644
--- a/drivers/staging/comedi/drivers/pcmmio.c
+++ b/drivers/staging/comedi/drivers/pcmmio.c
@@ -200,7 +200,7 @@ static const struct pcmmio_board pcmmio_boards[] = {
 #define thisboard ((const struct pcmmio_board *)dev-&gt;board_ptr)
 
 /* this structure is for data unique to this subdevice.  */
-typedef struct {
+struct pcmmio_subdev_private {
 
 	union {
 		/* for DIO: mapping of halfwords (bytes) in port/chanarray to iobase */
@@ -233,7 +233,7 @@ typedef struct {
 			unsigned int shadow_samples[8];	/* the last unsigned int data written */
 		} ao;
 	};
-} pcmmio_subdev_private;
+};
 
 /* this structure is for data unique to this hardware driver.  If
    several hardware drivers keep similar information in this structure,
@@ -249,7 +249,7 @@ typedef struct {
 		unsigned int irq;
 		spinlock_t spinlock;
 	} asics[MAX_ASICS];
-	pcmmio_subdev_private *sprivs;
+	struct pcmmio_subdev_private *sprivs;
 } pcmmio_private;
 
 /*
@@ -257,7 +257,7 @@ typedef struct {
  * access the private structure.
  */
 #define devpriv ((pcmmio_private *)dev-&gt;private)
-#define subpriv ((pcmmio_subdev_private *)s-&gt;private)
+#define subpriv ((struct pcmmio_subdev_private *)s-&gt;private)
 /*
  * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
@@ -372,7 +372,7 @@ static int pcmmio_attach(struct comedi_device * dev, struct comedi_devconfig * i
 	n_dio_subdevs = CALC_N_DIO_SUBDEVS(chans_left);
 	n_subdevs = n_dio_subdevs + 2;
 	devpriv-&gt;sprivs =
-		kcalloc(n_subdevs, sizeof(pcmmio_subdev_private), GFP_KERNEL);
+		kcalloc(n_subdevs, sizeof(struct pcmmio_subdev_private), GFP_KERNEL);
 	if (!devpriv-&gt;sprivs) {
 		printk("cannot allocate subdevice private data structures\n");
 		return -ENOMEM;</pre><hr><pre>commit 97baaedfa440fb988d8725cc9a3b16bcc12ff611
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:19:31 2009 -0400

    Staging: comedi: Remove pci20xxx_subdev_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/ii_pci20kc.c b/drivers/staging/comedi/drivers/ii_pci20kc.c
index 624d44c3969f..80825ba25418 100644
--- a/drivers/staging/comedi/drivers/ii_pci20kc.c
+++ b/drivers/staging/comedi/drivers/ii_pci20kc.c
@@ -133,7 +133,7 @@ options for PCI-20341M:
 #define PCI20341_MUX			0x04	/* Enable on-board MUX */
 #define PCI20341_SCANLIST		0x80	/* Channel/Gain Scan List */
 
-typedef union {
+union pci20xxx_subdev_private {
 	void *iobase;
 	struct {
 		void *iobase;
@@ -146,12 +146,12 @@ typedef union {
 		int settling_time;
 		int ai_gain;
 	} pci20341;
-} pci20xxx_subdev_private;
+};
 
 struct pci20xxx_private {
 
 	void *ioaddr;
-	pci20xxx_subdev_private subdev_private[PCI20000_MODULES];
+	union pci20xxx_subdev_private subdev_private[PCI20000_MODULES];
 };
 
 
@@ -207,7 +207,7 @@ static int pci20xxx_attach(struct comedi_device * dev, struct comedi_devconfig *
 	int ret;
 	int id;
 	struct comedi_subdevice *s;
-	pci20xxx_subdev_private *sdp;
+	union pci20xxx_subdev_private *sdp;
 
 	if ((ret = alloc_subdevices(dev, 1 + PCI20000_MODULES)) &lt; 0)
 		return ret;
@@ -286,7 +286,7 @@ static const struct comedi_lrange *pci20006_range_list[] = {
 static int pci20006_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	int opt0, int opt1)
 {
-	pci20xxx_subdev_private *sdp = s-&gt;private;
+	union pci20xxx_subdev_private *sdp = s-&gt;private;
 
 	if (opt0 &lt; 0 || opt0 &gt; 2)
 		opt0 = 0;
@@ -311,7 +311,7 @@ static int pci20006_init(struct comedi_device * dev, struct comedi_subdevice * s
 static int pci20006_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	struct comedi_insn * insn, unsigned int * data)
 {
-	pci20xxx_subdev_private *sdp = s-&gt;private;
+	union pci20xxx_subdev_private *sdp = s-&gt;private;
 
 	data[0] = sdp-&gt;pci20006.last_data[CR_CHAN(insn-&gt;chanspec)];
 
@@ -321,7 +321,7 @@ static int pci20006_insn_read(struct comedi_device * dev, struct comedi_subdevic
 static int pci20006_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	struct comedi_insn * insn, unsigned int * data)
 {
-	pci20xxx_subdev_private *sdp = s-&gt;private;
+	union pci20xxx_subdev_private *sdp = s-&gt;private;
 	int hi, lo;
 	unsigned int boarddata;
 
@@ -371,7 +371,7 @@ static const struct comedi_lrange *const pci20341_ranges[] = {
 static int pci20341_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	int opt0, int opt1)
 {
-	pci20xxx_subdev_private *sdp = s-&gt;private;
+	union pci20xxx_subdev_private *sdp = s-&gt;private;
 	int option;
 
 	/* options handling */
@@ -402,7 +402,7 @@ static int pci20341_init(struct comedi_device * dev, struct comedi_subdevice * s
 static int pci20341_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	struct comedi_insn * insn, unsigned int * data)
 {
-	pci20xxx_subdev_private *sdp = s-&gt;private;
+        union pci20xxx_subdev_private *sdp = s-&gt;private;
 	unsigned int i = 0, j = 0;
 	int lo, hi;
 	unsigned char eoc;	/* end of conversion */</pre><hr><pre>commit e2b523aab1b04e7edc092588abbafa67f560deb4
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:19:26 2009 -0400

    Staging: comedi: Remove config_t typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/serial2002.c b/drivers/staging/comedi/drivers/serial2002.c
index 91fc281c1e9f..77c234533005 100644
--- a/drivers/staging/comedi/drivers/serial2002.c
+++ b/drivers/staging/comedi/drivers/serial2002.c
@@ -401,16 +401,18 @@ static void serial_2002_open(struct comedi_device * dev)
 		printk("serial_2002: file open error = %ld\n",
 			PTR_ERR(devpriv-&gt;tty));
 	} else {
-		typedef struct {
+		struct config_t {
+
 			int kind;
 			int bits;
 			int min;
 			int max;
-		} config_t;
-		config_t dig_in_config[32];
-		config_t dig_out_config[32];
-		config_t chan_in_config[32];
-		config_t chan_out_config[32];
+		};
+
+		struct config_t dig_in_config[32];
+		struct config_t dig_out_config[32];
+		struct config_t chan_in_config[32];
+		struct config_t chan_out_config[32];
 		int i;
 
 		for (i = 0; i &lt; 32; i++) {
@@ -443,7 +445,7 @@ static void serial_2002_open(struct comedi_device * dev)
 				break;
 			} else {
 				int command, channel, kind;
-				config_t *cur_config = 0;
+				struct config_t *cur_config = 0;
 
 				channel = data.value &amp; 0x1f;
 				kind = (data.value &gt;&gt; 5) &amp; 0x7;
@@ -554,7 +556,7 @@ static void serial_2002_open(struct comedi_device * dev)
 		}
 		for (i = 0; i &lt;= 4; i++) {
 			// Fill in subdev data
-			config_t *c;
+			struct config_t *c;
 			unsigned char *mapping = 0;
 			struct serial2002_range_table_t *range = 0;
 			int kind = 0;</pre><hr><pre>commit 201007e8bc7b3e94be823eda5a684199152410d1
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:19:20 2009 -0400

    Staging: comedi: Remove rti802_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/rti802.c b/drivers/staging/comedi/drivers/rti802.c
index 656742be898a..cc2c385db0b0 100644
--- a/drivers/staging/comedi/drivers/rti802.c
+++ b/drivers/staging/comedi/drivers/rti802.c
@@ -58,15 +58,15 @@ static struct comedi_driver driver_rti802 = {
 
 COMEDI_INITCLEANUP(driver_rti802);
 
-typedef struct {
+struct rti802_private {
 	enum {
 		dac_2comp, dac_straight
 	} dac_coding[8];
 	const struct comedi_lrange *range_type_list[8];
 	unsigned int ao_readback[8];
-} rti802_private;
+};
 
-#define devpriv ((rti802_private *)dev-&gt;private)
+#define devpriv ((struct rti802_private *)dev-&gt;private)
 
 static int rti802_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	struct comedi_insn * insn, unsigned int * data)
@@ -113,7 +113,7 @@ static int rti802_attach(struct comedi_device * dev, struct comedi_devconfig * i
 	dev-&gt;board_name = "rti802";
 
 	if (alloc_subdevices(dev, 1) &lt; 0
-		|| alloc_private(dev, sizeof(rti802_private))) {
+		|| alloc_private(dev, sizeof(struct rti802_private))) {
 		return -ENOMEM;
 	}
 </pre><hr><pre>commit 9335f2613b6beca0f3f3e20ce5a550d1ffe66aa2
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:19:15 2009 -0400

    Staging: comedi: Remove rti800_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/rti800.c b/drivers/staging/comedi/drivers/rti800.c
index bd579711a519..594c5e82211f 100644
--- a/drivers/staging/comedi/drivers/rti800.c
+++ b/drivers/staging/comedi/drivers/rti800.c
@@ -145,7 +145,7 @@ COMEDI_INITCLEANUP(driver_rti800);
 
 static irqreturn_t rti800_interrupt(int irq, void *dev PT_REGS_ARG);
 
-typedef struct {
+struct rti800_private {
 	enum {
 		adc_diff, adc_pseudodiff, adc_singleended
 	} adc_mux;
@@ -164,9 +164,9 @@ typedef struct {
 	const struct comedi_lrange *ao_range_type_list[2];
 	unsigned int ao_readback[2];
 	int muxgain_bits;
-} rti800_private;
+};
 
-#define devpriv ((rti800_private *)dev-&gt;private)
+#define devpriv ((struct rti800_private *)dev-&gt;private)
 
 #define RTI800_TIMEOUT 100
 
@@ -351,7 +351,7 @@ static int rti800_attach(struct comedi_device * dev, struct comedi_devconfig * i
 
 	if ((ret = alloc_subdevices(dev, 4)) &lt; 0)
 		return ret;
-	if ((ret = alloc_private(dev, sizeof(rti800_private))) &lt; 0)
+	if ((ret = alloc_private(dev, sizeof(struct rti800_private))) &lt; 0)
 		return ret;
 
 	devpriv-&gt;adc_mux = it-&gt;options[2];</pre><hr><pre>commit 70a6001aeffeaa12f2a1c21470e8f3bdfb6ef8e7
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:19:10 2009 -0400

    Staging: comedi: Remove pcmuio_board typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/pcmuio.c b/drivers/staging/comedi/drivers/pcmuio.c
index 97ae34955d67..b995107779b4 100644
--- a/drivers/staging/comedi/drivers/pcmuio.c
+++ b/drivers/staging/comedi/drivers/pcmuio.c
@@ -146,14 +146,14 @@ Configuration Options:
  * boards in this way is optional, and completely driver-dependent.
  * Some drivers use arrays such as this, other do not.
  */
-typedef struct pcmuio_board_struct {
+struct pcmuio_board {
 	const char *name;
 	const int num_asics;
 	const int num_channels_per_port;
 	const int num_ports;
-} pcmuio_board;
+};
 
-static const pcmuio_board pcmuio_boards[] = {
+static const struct pcmuio_board pcmuio_boards[] = {
 	{
 	      name:	"pcmuio48",
 	      num_asics:1,
@@ -169,7 +169,7 @@ static const pcmuio_board pcmuio_boards[] = {
 /*
  * Useful for shorthand access to the particular board structure
  */
-#define thisboard ((const pcmuio_board *)dev-&gt;board_ptr)
+#define thisboard ((const struct pcmuio_board *)dev-&gt;board_ptr)
 
 /* this structure is for data unique to this subdevice.  */
 typedef struct {
@@ -249,8 +249,8 @@ static struct comedi_driver driver = {
 	 * devices are such boards.
 	 */
       board_name:&amp;pcmuio_boards[0].name,
-      offset:sizeof(pcmuio_board),
-      num_names:sizeof(pcmuio_boards) / sizeof(pcmuio_board),
+      offset:sizeof(struct pcmuio_board),
+      num_names:sizeof(pcmuio_boards) / sizeof(struct pcmuio_board),
 };
 
 static int pcmuio_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,</pre><hr><pre>commit 657f81ec27758ddb859ea9c74929996bea607194
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:19:04 2009 -0400

    Staging: comedi: Remove pcmmio_board typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/pcmmio.c b/drivers/staging/comedi/drivers/pcmmio.c
index 85c205418703..75db61055db3 100644
--- a/drivers/staging/comedi/drivers/pcmmio.c
+++ b/drivers/staging/comedi/drivers/pcmmio.c
@@ -154,7 +154,7 @@ static int ao_winsn(struct comedi_device *, struct comedi_subdevice *, struct co
  * boards in this way is optional, and completely driver-dependent.
  * Some drivers use arrays such as this, other do not.
  */
-typedef struct pcmmio_board_struct {
+struct pcmmio_board {
 	const char *name;
 	const int dio_num_asics;
 	const int dio_num_ports;
@@ -165,7 +165,7 @@ typedef struct pcmmio_board_struct {
 	const int n_ao_chans;
 	const struct comedi_lrange *ai_range_table, *ao_range_table;
 	comedi_insn_fn_t ai_rinsn, ao_rinsn, ao_winsn;
-} pcmmio_board;
+};
 
 static const struct comedi_lrange ranges_ai =
 	{ 4, {RANGE(-5., 5.), RANGE(-10., 10.), RANGE(0., 5.), RANGE(0.,
@@ -177,7 +177,7 @@ static const struct comedi_lrange ranges_ao =
 	RANGE(-2.5, 2.5), RANGE(-2.5, 7.5)}
 };
 
-static const pcmmio_board pcmmio_boards[] = {
+static const struct pcmmio_board pcmmio_boards[] = {
 	{
 	      name:	"pcmmio",
 	      dio_num_asics:1,
@@ -197,7 +197,7 @@ static const pcmmio_board pcmmio_boards[] = {
 /*
  * Useful for shorthand access to the particular board structure
  */
-#define thisboard ((const pcmmio_board *)dev-&gt;board_ptr)
+#define thisboard ((const struct pcmmio_board *)dev-&gt;board_ptr)
 
 /* this structure is for data unique to this subdevice.  */
 typedef struct {
@@ -291,8 +291,8 @@ static struct comedi_driver driver = {
 	 * devices are such boards.
 	 */
       board_name:&amp;pcmmio_boards[0].name,
-      offset:sizeof(pcmmio_board),
-      num_names:sizeof(pcmmio_boards) / sizeof(pcmmio_board),
+      offset:sizeof(struct pcmmio_board),
+      num_names:sizeof(pcmmio_boards) / sizeof(struct pcmmio_board),
 };
 
 static int pcmmio_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,</pre><hr><pre>commit d89da61754236aee5ab8faf0cab7f5449a2fdd34
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:18:59 2009 -0400

    Staging: comedi: Remove dt2811_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/dt2811.c b/drivers/staging/comedi/drivers/dt2811.c
index 722e3f54e468..d5e529826ad9 100644
--- a/drivers/staging/comedi/drivers/dt2811.c
+++ b/drivers/staging/comedi/drivers/dt2811.c
@@ -238,7 +238,8 @@ static int dt2811_do_insn_bits(struct comedi_device * dev, struct comedi_subdevi
 	struct comedi_insn * insn, unsigned int * data);
 
 enum { card_2811_pgh, card_2811_pgl };
-typedef struct {
+
+struct dt2811_private {
 	int ntrig;
 	int curadchan;
 	enum {
@@ -249,9 +250,9 @@ typedef struct {
 	} dac_range[2];
 	const struct comedi_lrange *range_type_list[2];
 	unsigned int ao_readback[2];
-} dt2811_private;
+};
 
-#define devpriv ((dt2811_private *)dev-&gt;private)
+#define devpriv ((struct dt2811_private *)dev-&gt;private)
 
 static const struct comedi_lrange *dac_range_types[] = {
 	&amp;range_bipolar5,
@@ -377,7 +378,7 @@ static int dt2811_attach(struct comedi_device * dev, struct comedi_devconfig * i
 
 	if ((ret = alloc_subdevices(dev, 4)) &lt; 0)
 		return ret;
-	if ((ret = alloc_private(dev, sizeof(dt2811_private))) &lt; 0)
+	if ((ret = alloc_private(dev, sizeof(struct dt2811_private))) &lt; 0)
 		return ret;
 	switch (it-&gt;options[2]) {
 	case 0:</pre><hr><pre>commit 51091b5420c564093d721d2dad99a55bbb22d0d0
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:18:37 2009 -0400

    Staging: comedi: Remove pcl812_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/pcl812.c b/drivers/staging/comedi/drivers/pcl812.c
index 07a109839b42..424e8096624b 100644
--- a/drivers/staging/comedi/drivers/pcl812.c
+++ b/drivers/staging/comedi/drivers/pcl812.c
@@ -386,7 +386,8 @@ static struct comedi_driver driver_pcl812 = {
 
 COMEDI_INITCLEANUP(driver_pcl812);
 
-typedef struct {
+struct pcl812_private {
+
 	unsigned char valid;	// =1 device is OK
 	unsigned char dma;	// &gt;0 use dma ( usedDMA channel)
 	unsigned char use_diff;	// =1 diff inputs
@@ -418,9 +419,10 @@ typedef struct {
 	unsigned int last_dma_run;	// how many bytes to transfer on last DMA buffer
 	unsigned int max_812_ai_mode0_rangewait;	// setling time for gain
 	unsigned int ao_readback[2];	// data for AO readback
-} pcl812_private;
+};
+
 
-#define devpriv ((pcl812_private *)dev-&gt;private)
+#define devpriv ((struct pcl812_private *)dev-&gt;private)
 
 /*
 ==============================================================================
@@ -1282,7 +1284,7 @@ static int pcl812_attach(struct comedi_device * dev, struct comedi_devconfig * i
 	}
 	dev-&gt;iobase = iobase;
 
-	if ((ret = alloc_private(dev, sizeof(pcl812_private))) &lt; 0) {
+	if ((ret = alloc_private(dev, sizeof(struct pcl812_private))) &lt; 0) {
 		free_resources(dev);
 		return ret;	/* Can't alloc mem */
 	}</pre><hr><pre>commit bf7f0610c6c215fb8a8cd26b697902810ee5b9e9
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:18:32 2009 -0400

    Staging: comedi: Remove pcl726_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/pcl726.c b/drivers/staging/comedi/drivers/pcl726.c
index 8f0425f280ec..deda5de70579 100644
--- a/drivers/staging/comedi/drivers/pcl726.c
+++ b/drivers/staging/comedi/drivers/pcl726.c
@@ -161,12 +161,14 @@ static struct comedi_driver driver_pcl726 = {
 
 COMEDI_INITCLEANUP(driver_pcl726);
 
-typedef struct {
+struct pcl726_private {
+
 	int bipolar[12];
 	const struct comedi_lrange *rangelist[12];
 	unsigned int ao_readback[12];
-} pcl726_private;
-#define devpriv ((pcl726_private *)dev-&gt;private)
+};
+
+#define devpriv ((struct pcl726_private *)dev-&gt;private)
 
 static int pcl726_ao_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	struct comedi_insn * insn, unsigned int * data)
@@ -260,7 +262,7 @@ static int pcl726_attach(struct comedi_device * dev, struct comedi_devconfig * i
 
 	dev-&gt;board_name = this_board-&gt;name;
 
-	if ((ret = alloc_private(dev, sizeof(pcl726_private))) &lt; 0)
+	if ((ret = alloc_private(dev, sizeof(struct pcl726_private))) &lt; 0)
 		return -ENOMEM;
 
 	for (i = 0; i &lt; 12; i++) {</pre>
    <div class="pagination">
        <a href='3_66.html'>&lt;&lt;Prev</a><a href='3.html'>1</a><a href='3_2.html'>2</a><a href='3_3.html'>3</a><a href='3_4.html'>4</a><a href='3_5.html'>5</a><a href='3_6.html'>6</a><a href='3_7.html'>7</a><a href='3_8.html'>8</a><a href='3_9.html'>9</a><a href='3_10.html'>10</a><a href='3_11.html'>11</a><a href='3_12.html'>12</a><a href='3_13.html'>13</a><a href='3_14.html'>14</a><a href='3_15.html'>15</a><a href='3_16.html'>16</a><a href='3_17.html'>17</a><a href='3_18.html'>18</a><a href='3_19.html'>19</a><a href='3_20.html'>20</a><a href='3_21.html'>21</a><a href='3_22.html'>22</a><a href='3_23.html'>23</a><a href='3_24.html'>24</a><a href='3_25.html'>25</a><a href='3_26.html'>26</a><a href='3_27.html'>27</a><a href='3_28.html'>28</a><a href='3_29.html'>29</a><a href='3_30.html'>30</a><a href='3_31.html'>31</a><a href='3_32.html'>32</a><a href='3_33.html'>33</a><a href='3_34.html'>34</a><a href='3_35.html'>35</a><a href='3_36.html'>36</a><a href='3_37.html'>37</a><a href='3_38.html'>38</a><a href='3_39.html'>39</a><a href='3_40.html'>40</a><a href='3_41.html'>41</a><a href='3_42.html'>42</a><a href='3_43.html'>43</a><a href='3_44.html'>44</a><a href='3_45.html'>45</a><a href='3_46.html'>46</a><a href='3_47.html'>47</a><a href='3_48.html'>48</a><a href='3_49.html'>49</a><a href='3_50.html'>50</a><a href='3_51.html'>51</a><a href='3_52.html'>52</a><a href='3_53.html'>53</a><a href='3_54.html'>54</a><a href='3_55.html'>55</a><a href='3_56.html'>56</a><a href='3_57.html'>57</a><a href='3_58.html'>58</a><a href='3_59.html'>59</a><a href='3_60.html'>60</a><a href='3_61.html'>61</a><a href='3_62.html'>62</a><a href='3_63.html'>63</a><a href='3_64.html'>64</a><a href='3_65.html'>65</a><a href='3_66.html'>66</a><span>[67]</span><a href='3_68.html'>68</a><a href='3_69.html'>69</a><a href='3_70.html'>70</a><a href='3_71.html'>71</a><a href='3_72.html'>72</a><a href='3_73.html'>73</a><a href='3_74.html'>74</a><a href='3_75.html'>75</a><a href='3_76.html'>76</a><a href='3_77.html'>77</a><a href='3_78.html'>78</a><a href='3_79.html'>79</a><a href='3_80.html'>80</a><a href='3_81.html'>81</a><a href='3_82.html'>82</a><a href='3_83.html'>83</a><a href='3_68.html'>Next&gt;&gt;</a>
    <div>
</body>
