<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patches contributed by University of Utah</title>
    <style>
    .pagination {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        overflow-wrap: break-word;
    }
    .pagination a, .pagination span {
        margin: 0 4px;
    }

    </style>
</head>
<body>
    <h1>Patches contributed by University of Utah</h1>
    <div class="pagination">
        <span>[1]</span>
    </div>
    <hr>
    <pre>commit 2c2a8dc32cebb71e42cfc2ed1bd433cbec792207
Author: Shaobo He &lt;shaobo@cs.utah.edu&gt;
Date:   Thu Feb 28 17:54:06 2019 -0500

    media: platform/sh_veu.c: remove redundant NULL pointer checks
    
    Function `sh_veu_find_fmt` returns an address that is an addition of a
    base pointer `sh_veu_fmt` and an offset. The base pointer refers to a
    global variable of which address cannot be NULL. Therefore, this commit
    removes the NULL pointer checks on the return values of function
    `sh_veu_find_fmt`.
    
    Signed-off-by: Shaobo He &lt;shaobo@cs.utah.edu&gt;
    Signed-off-by: Hans Verkuil &lt;hverkuil-cisco@xs4all.nl&gt;
    Signed-off-by: Mauro Carvalho Chehab &lt;mchehab+samsung@kernel.org&gt;

diff --git a/drivers/media/platform/sh_veu.c b/drivers/media/platform/sh_veu.c
index d277cc674349..5a9ba05c996e 100644
--- a/drivers/media/platform/sh_veu.c
+++ b/drivers/media/platform/sh_veu.c
@@ -493,9 +493,6 @@ static int sh_veu_try_fmt_vid_cap(struct file *file, void *priv,
 	const struct sh_veu_format *fmt;
 
 	fmt = sh_veu_find_fmt(f);
-	if (!fmt)
-		/* wrong buffer type */
-		return -EINVAL;
 
 	return sh_veu_try_fmt(f, fmt);
 }
@@ -506,9 +503,6 @@ static int sh_veu_try_fmt_vid_out(struct file *file, void *priv,
 	const struct sh_veu_format *fmt;
 
 	fmt = sh_veu_find_fmt(f);
-	if (!fmt)
-		/* wrong buffer type */
-		return -EINVAL;
 
 	return sh_veu_try_fmt(f, fmt);
 }</pre><hr><pre>commit 952a3cc9c06a6143147ccdd108c5ef8ac9a6454c
Author: Shaobo He &lt;shaobo@cs.utah.edu&gt;
Date:   Thu Feb 28 15:38:38 2019 -0700

    cxgb4: kfree mhp after the debug print
    
    In function `c4iw_dealloc_mw`, variable mhp's value is printed after
    freed, it is clearer to have the print before the kfree.
    
    Otherwise racing threads could allocate another mhp with the same pointer
    value and create confusing tracing.
    
    Signed-off-by: Shaobo He &lt;shaobo@cs.utah.edu&gt;
    Signed-off-by: Jason Gunthorpe &lt;jgg@mellanox.com&gt;

diff --git a/drivers/infiniband/hw/cxgb4/mem.c b/drivers/infiniband/hw/cxgb4/mem.c
index 8d1ab8273c2b..5baa31ab6366 100644
--- a/drivers/infiniband/hw/cxgb4/mem.c
+++ b/drivers/infiniband/hw/cxgb4/mem.c
@@ -678,8 +678,8 @@ int c4iw_dealloc_mw(struct ib_mw *mw)
 			  mhp-&gt;wr_waitp);
 	kfree_skb(mhp-&gt;dereg_skb);
 	c4iw_put_wr_wait(mhp-&gt;wr_waitp);
-	kfree(mhp);
 	pr_debug("ib_mw %p mmid 0x%x ptr %p\n", mw, mmid, mhp);
+	kfree(mhp);
 	return 0;
 }
 </pre><hr><pre>commit 0baae41ea8365a7b5a34c6474a77d7eb1126f6b2
Author: Scotty Bauer &lt;sbauer@eng.utah.edu&gt;
Date:   Thu Oct 9 15:30:26 2014 -0700

    kernel/sys.c: compat sysinfo syscall: fix undefined behavior
    
    Fix undefined behavior and compiler warning by replacing right shift 32
    with upper_32_bits macro
    
    Signed-off-by: Scotty Bauer &lt;sbauer@eng.utah.edu&gt;
    Cc: Clemens Ladisch &lt;clemens@ladisch.de&gt;
    Signed-off-by: Andrew Morton &lt;akpm@linux-foundation.org&gt;
    Signed-off-by: Linus Torvalds &lt;torvalds@linux-foundation.org&gt;

diff --git a/kernel/sys.c b/kernel/sys.c
index 037fd76bdc76..dfce4debd138 100644
--- a/kernel/sys.c
+++ b/kernel/sys.c
@@ -2330,7 +2330,7 @@ COMPAT_SYSCALL_DEFINE1(sysinfo, struct compat_sysinfo __user *, info)
 	/* Check to see if any memory value is too large for 32-bit and scale
 	 *  down if needed
 	 */
-	if ((s.totalram &gt;&gt; 32) || (s.totalswap &gt;&gt; 32)) {
+	if (upper_32_bits(s.totalram) || upper_32_bits(s.totalswap)) {
 		int bitcount = 0;
 
 		while (s.mem_unit &lt; PAGE_SIZE) {</pre>
    <div class="pagination">
        <span>[1]</span>
    <div>
</body>
