<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patches contributed by Virginia Tech</title>
    <style>
    .pagination {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        overflow-wrap: break-word;
    }
    .pagination a, .pagination span {
        margin: 0 4px;
    }

    </style>
</head>
<body>
    <h1>Patches contributed by Virginia Tech</h1>
    <div class="pagination">
        <a href='10_6.html'>&lt;&lt;Prev</a><a href='10.html'>1</a><a href='10_2.html'>2</a><a href='10_3.html'>3</a><a href='10_4.html'>4</a><a href='10_5.html'>5</a><a href='10_6.html'>6</a><span>[7]</span><a href='10_8.html'>8</a><a href='10_9.html'>9</a><a href='10_10.html'>10</a><a href='10_11.html'>11</a><a href='10_12.html'>12</a><a href='10_8.html'>Next&gt;&gt;</a>
    </div>
    <hr>
    <pre>commit aee450cbe482a8c2f6fa5b05b178ef8b8ff107ca
Author: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
Date:   Thu Jun 6 22:39:27 2019 -0400

    bpf: silence warning messages in core
    
    Compiling kernel/bpf/core.c with W=1 causes a flood of warnings:
    
    kernel/bpf/core.c:1198:65: warning: initialized field overwritten [-Woverride-init]
     1198 | #define BPF_INSN_3_TBL(x, y, z) [BPF_##x | BPF_##y | BPF_##z] = true
          |                                                                 ^~~~
    kernel/bpf/core.c:1087:2: note: in expansion of macro 'BPF_INSN_3_TBL'
     1087 |  INSN_3(ALU, ADD,  X),   \
          |  ^~~~~~
    kernel/bpf/core.c:1202:3: note: in expansion of macro 'BPF_INSN_MAP'
     1202 |   BPF_INSN_MAP(BPF_INSN_2_TBL, BPF_INSN_3_TBL),
          |   ^~~~~~~~~~~~
    kernel/bpf/core.c:1198:65: note: (near initialization for 'public_insntable[12]')
     1198 | #define BPF_INSN_3_TBL(x, y, z) [BPF_##x | BPF_##y | BPF_##z] = true
          |                                                                 ^~~~
    kernel/bpf/core.c:1087:2: note: in expansion of macro 'BPF_INSN_3_TBL'
     1087 |  INSN_3(ALU, ADD,  X),   \
          |  ^~~~~~
    kernel/bpf/core.c:1202:3: note: in expansion of macro 'BPF_INSN_MAP'
     1202 |   BPF_INSN_MAP(BPF_INSN_2_TBL, BPF_INSN_3_TBL),
          |   ^~~~~~~~~~~~
    
    98 copies of the above.
    
    The attached patch silences the warnings, because we *know* we're overwriting
    the default initializer. That leaves bpf/core.c with only 6 other warnings,
    which become more visible in comparison.
    
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    Acked-by: Andrii Nakryiko &lt;andriin@fb.com&gt;
    Signed-off-by: Daniel Borkmann &lt;daniel@iogearbox.net&gt;

diff --git a/kernel/bpf/Makefile b/kernel/bpf/Makefile
index 4c2fa3ac56f6..29d781061cd5 100644
--- a/kernel/bpf/Makefile
+++ b/kernel/bpf/Makefile
@@ -1,5 +1,6 @@
 # SPDX-License-Identifier: GPL-2.0
 obj-y := core.o
+CFLAGS_core.o += $(call cc-disable-warning, override-init)
 
 obj-$(CONFIG_BPF_SYSCALL) += syscall.o verifier.o inode.o helpers.o tnum.o
 obj-$(CONFIG_BPF_SYSCALL) += hashtab.o arraymap.o percpu_freelist.o bpf_lru_list.o lpm_trie.o map_in_map.o</pre><hr><pre>commit e28f296ea155da36f710eb1f1173d8780fbac49d
Author: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
Date:   Tue Mar 12 07:26:06 2019 -0400

    platform/x86: dell-rbtn: Add missing #include
    
    Building with W=1 complains:
      CC [M]  drivers/platform/x86/dell-rbtn.o
    drivers/platform/x86/dell-rbtn.c:345:5: warning: no previous prototype for 'dell_rbtn_notifier_register' [-Wmissing-prototypes]
      345 | int dell_rbtn_notifier_register(struct notifier_block *nb)
          |     ^~~~~~~~~~~~~~~~~~~~~~~~~~~
    drivers/platform/x86/dell-rbtn.c:371:5: warning: no previous prototype for 'dell_rbtn_notifier_unregister' [-Wmissing-prototypes]
      371 | int dell_rbtn_notifier_unregister(struct notifier_block *nb)
          |     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    
    The real problem is a missing include. Add it to keep dell-rbtn.c and .h in sync.
    
    Fixes: b05ffc95f9ed ("dell-rbtn: Export notifier for other kernel modules")
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    [andy: massaged commit message, added Fixes tag]
    Signed-off-by: Andy Shevchenko &lt;andriy.shevchenko@linux.intel.com&gt;

diff --git a/drivers/platform/x86/dell-rbtn.c b/drivers/platform/x86/dell-rbtn.c
index f3afe778001e..56535d7222dd 100644
--- a/drivers/platform/x86/dell-rbtn.c
+++ b/drivers/platform/x86/dell-rbtn.c
@@ -18,6 +18,8 @@
 #include &lt;linux/rfkill.h&gt;
 #include &lt;linux/input.h&gt;
 
+#include "dell-rbtn.h"
+
 enum rbtn_type {
 	RBTN_UNKNOWN,
 	RBTN_TOGGLE,</pre><hr><pre>commit db8b4aefd17b1ccf108d81a4fbb181c8e50abf0e
Author: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
Date:   Tue Mar 12 06:42:31 2019 -0400

    extcon: Fix build warning for extcon_unregister_notifier comment
    
    Give the line the asterisk it wanted to fix the build warning.
    
    [Build warning message]
    Building with W=1 reports:
    
      CC      drivers/extcon/devres.o
    drivers/extcon/devres.c:208: warning: bad line:
            - Resource-managed extcon_unregister_notifier()
    
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    [cw00.choi: Edit the patch subject and description]
    Signed-off-by: Chanwoo Choi &lt;cw00.choi@samsung.com&gt;

diff --git a/drivers/extcon/devres.c b/drivers/extcon/devres.c
index f599aeddf8e5..f487d877ab5d 100644
--- a/drivers/extcon/devres.c
+++ b/drivers/extcon/devres.c
@@ -205,7 +205,7 @@ EXPORT_SYMBOL(devm_extcon_register_notifier);
 
 /**
  * devm_extcon_unregister_notifier()
-			- Resource-managed extcon_unregister_notifier()
+ *			- Resource-managed extcon_unregister_notifier()
  * @dev:	the device owning the extcon device being created
  * @edev:	the extcon device
  * @id:		the unique id among the extcon enumeration</pre><hr><pre>commit d18bf4229b1772e91c0c36772737c01cf9726720
Author: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
Date:   Tue Mar 12 04:06:37 2019 -0400

    perf/core: Make perf_swevent_init_cpu() static
    
    'make W=1' causes GCC to complain:
    
      kernel/events/core.c:11877:6: warning: no previous prototype for 'perf_swevent_init_cpu' [-Wmissing-prototypes]
    
    It's not referenced anywhere else, make it static.
    
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    Signed-off-by: Peter Zijlstra (Intel) &lt;peterz@infradead.org&gt;
    Cc: Linus Torvalds &lt;torvalds@linux-foundation.org&gt;
    Cc: Peter Zijlstra &lt;peterz@infradead.org&gt;
    Cc: Thomas Gleixner &lt;tglx@linutronix.de&gt;
    Link: https://lkml.kernel.org/r/28974.1552377997@turing-police
    Signed-off-by: Ingo Molnar &lt;mingo@kernel.org&gt;

diff --git a/kernel/events/core.c b/kernel/events/core.c
index 72d06e302e99..dfc4bab0b02b 100644
--- a/kernel/events/core.c
+++ b/kernel/events/core.c
@@ -11878,7 +11878,7 @@ static void __init perf_event_init_all_cpus(void)
 	}
 }
 
-void perf_swevent_init_cpu(unsigned int cpu)
+static void perf_swevent_init_cpu(unsigned int cpu)
 {
 	struct swevent_htable *swhash = &amp;per_cpu(swevent_htable, cpu);
 </pre><hr><pre>commit 3adf2aa8af2d5122917b78988de9cdeb828cdd9d
Author: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
Date:   Tue Mar 12 07:49:03 2019 -0400

    drivers/tty/tty_jobctrl.c - fix non-kerneldoc comment
    
    Building with W=1 reports (among other things):
      CC      drivers/tty/tty_jobctrl.o
    drivers/tty/tty_jobctrl.c:317: warning: Cannot understand  *
     on line 317 - I thought it was a doc line
    
    Fix up the non-kerneldoc comment. (other warnings to be cleaned up in separate patch)
    
    Signed-off-by Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@linuxfoundation.org&gt;

diff --git a/drivers/tty/tty_jobctrl.c b/drivers/tty/tty_jobctrl.c
index c4ecd66fafef..1393f71bb170 100644
--- a/drivers/tty/tty_jobctrl.c
+++ b/drivers/tty/tty_jobctrl.c
@@ -313,7 +313,7 @@ void disassociate_ctty(int on_exit)
 	read_unlock(&amp;tasklist_lock);
 }
 
-/**
+/*
  *
  *	no_tty	- Ensure the current process does not have a controlling tty
  */</pre><hr><pre>commit 48084abf212052ca1d39fae064c581b1ce5b1fdf
Author: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
Date:   Tue Mar 12 05:33:48 2019 -0400

    watchdog/core: Make variables static
    
    sparse complains:
      CHECK   kernel/watchdog.c
    kernel/watchdog.c:45:19: warning: symbol 'nmi_watchdog_available'
                                      was not declared. Should it be static?
    kernel/watchdog.c:47:16: warning: symbol 'watchdog_allowed_mask'
                                      was not declared. Should it be static?
    
    They're not referenced by name from anyplace else, make them static.
    
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    Signed-off-by: Thomas Gleixner &lt;tglx@linutronix.de&gt;
    Link: https://lkml.kernel.org/r/7855.1552383228@turing-police

diff --git a/kernel/watchdog.c b/kernel/watchdog.c
index 8fbfda94a67b..403c9bd90413 100644
--- a/kernel/watchdog.c
+++ b/kernel/watchdog.c
@@ -42,9 +42,9 @@ int __read_mostly watchdog_user_enabled = 1;
 int __read_mostly nmi_watchdog_user_enabled = NMI_WATCHDOG_DEFAULT;
 int __read_mostly soft_watchdog_user_enabled = 1;
 int __read_mostly watchdog_thresh = 10;
-int __read_mostly nmi_watchdog_available;
+static int __read_mostly nmi_watchdog_available;
 
-struct cpumask watchdog_allowed_mask __read_mostly;
+static struct cpumask watchdog_allowed_mask __read_mostly;
 
 struct cpumask watchdog_cpumask __read_mostly;
 unsigned long *watchdog_cpumask_bits = cpumask_bits(&amp;watchdog_cpumask);</pre><hr><pre>commit e8750053d64a3317cbc15f8341f0f11ca751bfeb
Author: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
Date:   Tue Mar 12 04:38:35 2019 -0400

    time/jiffies: Make refined_jiffies static
    
    sparse complains:
    
      CHECK   kernel/time/jiffies.c
    kernel/time/jiffies.c:92:20: warning: symbol 'refined_jiffies' was not
                                          declared. Should it be static?
    
    Its only used in file scope. Make it static.
    
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    Signed-off-by: Thomas Gleixner &lt;tglx@linutronix.de&gt;
    Link: https://lkml.kernel.org/r/32342.1552379915@turing-police

diff --git a/kernel/time/jiffies.c b/kernel/time/jiffies.c
index dc1b6f1929f9..ac9c03dd6c7d 100644
--- a/kernel/time/jiffies.c
+++ b/kernel/time/jiffies.c
@@ -89,7 +89,7 @@ struct clocksource * __init __weak clocksource_default_clock(void)
 	return &amp;clocksource_jiffies;
 }
 
-struct clocksource refined_jiffies;
+static struct clocksource refined_jiffies;
 
 int register_refined_jiffies(long cycles_per_second)
 {</pre><hr><pre>commit bb2e320565f997273fe04035bb6c17f643da6f8a
Author: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
Date:   Tue Mar 12 04:17:56 2019 -0400

    genirq/devres: Remove excess parameter from kernel doc
    
    Building with 'make W=1' complains:
    
      CC      kernel/irq/devres.o
    kernel/irq/devres.c:104: warning: Excess function parameter 'thread_fn'
                             description in 'devm_request_any_context_irq'
    
    Remove it.
    
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    Signed-off-by: Thomas Gleixner &lt;tglx@linutronix.de&gt;
    Link: https://lkml.kernel.org/r/31207.1552378676@turing-police

diff --git a/kernel/irq/devres.c b/kernel/irq/devres.c
index 5d5378ea0afe..f808c6a97dcc 100644
--- a/kernel/irq/devres.c
+++ b/kernel/irq/devres.c
@@ -84,8 +84,6 @@ EXPORT_SYMBOL(devm_request_threaded_irq);
  *	@dev: device to request interrupt for
  *	@irq: Interrupt line to allocate
  *	@handler: Function to be called when the IRQ occurs
- *	@thread_fn: function to be called in a threaded interrupt context. NULL
- *		    for devices which handle everything in @handler
  *	@irqflags: Interrupt type flags
  *	@devname: An ascii name for the claiming device, dev_name(dev) if NULL
  *	@dev_id: A cookie passed back to the handler function</pre><hr><pre>commit 4fe64a62e04cfb2dc1daab0d8f05d212aa014161
Author: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
Date:   Tue Mar 12 03:47:53 2019 -0400

    x86/mm/pti: Make local symbols static
    
    With 'make C=2 W=1', sparse and gcc both complain:
    
      CHECK   arch/x86/mm/pti.c
    arch/x86/mm/pti.c:84:3: warning: symbol 'pti_mode' was not declared. Should it be static?
    arch/x86/mm/pti.c:605:6: warning: symbol 'pti_set_kernel_image_nonglobal' was not declared. Should it be static?
      CC      arch/x86/mm/pti.o
    arch/x86/mm/pti.c:605:6: warning: no previous prototype for 'pti_set_kernel_image_nonglobal' [-Wmissing-prototypes]
      605 | void pti_set_kernel_image_nonglobal(void)
          |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    
    pti_set_kernel_image_nonglobal() is only used locally. 'pti_mode' exists in
    drivers/hwtracing/intel_th/pti.c as well, but it's a completely unrelated
    local (static) symbol.
    
    Make both static.
    
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    Signed-off-by: Thomas Gleixner &lt;tglx@linutronix.de&gt;
    Cc: Dave Hansen &lt;dave.hansen@linux.intel.com&gt;
    Cc: Andy Lutomirski &lt;luto@kernel.org&gt;
    Cc: Peter Zijlstra &lt;peterz@infradead.org&gt;
    Link: https://lkml.kernel.org/r/27680.1552376873@turing-police

diff --git a/arch/x86/mm/pti.c b/arch/x86/mm/pti.c
index 4fee5c3003ed..139b28a01ce4 100644
--- a/arch/x86/mm/pti.c
+++ b/arch/x86/mm/pti.c
@@ -77,7 +77,7 @@ static void __init pti_print_if_secure(const char *reason)
 		pr_info("%s\n", reason);
 }
 
-enum pti_mode {
+static enum pti_mode {
 	PTI_AUTO = 0,
 	PTI_FORCE_OFF,
 	PTI_FORCE_ON
@@ -602,7 +602,7 @@ static void pti_clone_kernel_text(void)
 	set_memory_global(start, (end_global - start) &gt;&gt; PAGE_SHIFT);
 }
 
-void pti_set_kernel_image_nonglobal(void)
+static void pti_set_kernel_image_nonglobal(void)
 {
 	/*
 	 * The identity map is created with PMDs, regardless of the</pre><hr><pre>commit 50505e578f5395a4405008997814ae7f41ff5300
Author: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
Date:   Tue Mar 12 08:09:20 2019 -0400

    staging: rtl8712 - fix up non-kerneldoc comments
    
    Building with W=1 reports (among other things)
    
      CC [M]  drivers/staging/rtl8712/rtl871x_ioctl_linux.o
    drivers/staging/rtl8712/rtl871x_ioctl_linux.c:1106: warning: Cannot understand  *
     on line 1106 - I thought it was a doc line
    
      CC [M]  drivers/staging/rtl8712/os_intfs.o
    drivers/staging/rtl8712/os_intfs.c:366: warning: Cannot understand  *
     on line 366 - I thought it was a doc line
    drivers/staging/rtl8712/os_intfs.c:434: warning: Cannot understand  *
     on line 434 - I thought it was a doc line
    
    Fix up the non-kerneldoc comments
    
    Signed-off-by: Valdis Kletnieks &lt;valdis.kletnieks@vt.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@linuxfoundation.org&gt;

diff --git a/drivers/staging/rtl8712/os_intfs.c b/drivers/staging/rtl8712/os_intfs.c
index 41ba1eeea2f2..c962696c9822 100644
--- a/drivers/staging/rtl8712/os_intfs.c
+++ b/drivers/staging/rtl8712/os_intfs.c
@@ -362,7 +362,7 @@ static void enable_video_mode(struct _adapter *padapter, int cbw40_value)
 	r8712_fw_cmd(padapter, intcmd);
 }
 
-/**
+/*
  *
  * This function intends to handle the activation of an interface
  * i.e. when it is brought Up/Active from a Down state.
@@ -430,7 +430,7 @@ static int netdev_open(struct net_device *pnetdev)
 	return -1;
 }
 
-/**
+/*
  *
  * This function intends to handle the shutdown of an interface
  * i.e. when it is brought Down from an Up/Active state.
diff --git a/drivers/staging/rtl8712/rtl871x_ioctl_linux.c b/drivers/staging/rtl8712/rtl871x_ioctl_linux.c
index ad9b2f76d04a..a7230c0c7b23 100644
--- a/drivers/staging/rtl8712/rtl871x_ioctl_linux.c
+++ b/drivers/staging/rtl8712/rtl871x_ioctl_linux.c
@@ -1102,7 +1102,7 @@ static int r871x_wx_set_mlme(struct net_device *dev,
 	return ret;
 }
 
-/**
+/*
  *
  * This function intends to handle the Set Scan command.
  * Currently, the request comes via Wireless Extensions' SIOCSIWSCAN ioctl.</pre>
    <div class="pagination">
        <a href='10_6.html'>&lt;&lt;Prev</a><a href='10.html'>1</a><a href='10_2.html'>2</a><a href='10_3.html'>3</a><a href='10_4.html'>4</a><a href='10_5.html'>5</a><a href='10_6.html'>6</a><span>[7]</span><a href='10_8.html'>8</a><a href='10_9.html'>9</a><a href='10_10.html'>10</a><a href='10_11.html'>11</a><a href='10_12.html'>12</a><a href='10_8.html'>Next&gt;&gt;</a>
    <div>
</body>
