<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patches contributed by Concordia University Wisconsin</title>
    <style>
    .pagination {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        overflow-wrap: break-word;
    }
    .pagination a, .pagination span {
        margin: 0 4px;
    }

    </style>
</head>
<body>
    <h1>Patches contributed by Concordia University Wisconsin</h1>
    <div class="pagination">
        <a href='20_3.html'>&lt;&lt;Prev</a><a href='20.html'>1</a><a href='20_2.html'>2</a><a href='20_3.html'>3</a><span>[4]</span><a href='20_5.html'>5</a><a href='20_5.html'>Next&gt;&gt;</a>
    </div>
    <hr>
    <pre>commit 96bf8bd1c953c3b9d89eac9f13dfdbf5e580060f
Author: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
Date:   Mon Jun 13 09:40:38 2011 -0500

    savage: remove unnecessary if statement
    
    the code always returns ret regardless, so if(ret) check is unnecessary.
    
    v2: fixed up the spelling.
    
    Signed-off-by: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
    Reviewed-by: Nicolas Kaiser &lt;nikai@nikai.net&gt;
    Signed-off-by: Dave Airlie &lt;airlied@redhat.com&gt;

diff --git a/drivers/gpu/drm/savage/savage_bci.c b/drivers/gpu/drm/savage/savage_bci.c
index bf5f83ea14fe..cb1ee4e0050a 100644
--- a/drivers/gpu/drm/savage/savage_bci.c
+++ b/drivers/gpu/drm/savage/savage_bci.c
@@ -647,9 +647,6 @@ int savage_driver_firstopen(struct drm_device *dev)
 	ret = drm_addmap(dev, aperture_base, SAVAGE_APERTURE_SIZE,
 			 _DRM_FRAME_BUFFER, _DRM_WRITE_COMBINING,
 			 &amp;dev_priv-&gt;aperture);
-	if (ret)
-		return ret;
-
 	return ret;
 }
 </pre><hr><pre>commit 485868266150022a139b74ba4daf0da9ad86c1c0
Author: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
Date:   Sun Jun 5 19:30:11 2011 -0500

    iwlwifi: remove unecessary if statement
    
    the code always returns ret regardless, so if(ret) check is unecessary.
    
    Signed-off-by: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
    Signed-off-by: John W. Linville &lt;linville@tuxdriver.com&gt;

diff --git a/drivers/net/wireless/iwlwifi/iwl-agn-rxon.c b/drivers/net/wireless/iwlwifi/iwl-agn-rxon.c
index c8f6da83179b..a7c66c4e5f2a 100644
--- a/drivers/net/wireless/iwlwifi/iwl-agn-rxon.c
+++ b/drivers/net/wireless/iwlwifi/iwl-agn-rxon.c
@@ -178,9 +178,6 @@ static int iwlagn_send_rxon_assoc(struct iwl_priv *priv,
 
 	ret = iwl_send_cmd_pdu_async(priv, ctx-&gt;rxon_assoc_cmd,
 				     sizeof(rxon_assoc), &amp;rxon_assoc, NULL);
-	if (ret)
-		return ret;
-
 	return ret;
 }
 </pre><hr><pre>commit bca6b39979dfe0b2d14a3ca35e2930f5d9c8e3f5
Author: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
Date:   Mon Jun 6 15:53:01 2011 -0500

    ASoC: wm8940: remove unnecessary if statements
    
    removing unnecessary if(ret) checks
    
    This updated patch corrects a minor spelling problem in the commit message
    and resolves two other (similar) issues found in wm8940.c by Jonathan Cameron.
    
    Signed-off-by: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
    Acked-by: Jonathan Cameron &lt;jic23@cam.ac.uk&gt;
    Acked-by: Liam Girdwood &lt;lrg@ti.com&gt;
    Signed-off-by: Mark Brown &lt;broonie@opensource.wolfsonmicro.com&gt;

diff --git a/sound/soc/codecs/wm8940.c b/sound/soc/codecs/wm8940.c
index 25580e3ee7c4..056daa0010f9 100644
--- a/sound/soc/codecs/wm8940.c
+++ b/sound/soc/codecs/wm8940.c
@@ -297,8 +297,6 @@ static int wm8940_add_widgets(struct snd_soc_codec *codec)
 	if (ret)
 		goto error_ret;
 	ret = snd_soc_dapm_add_routes(dapm, audio_map, ARRAY_SIZE(audio_map));
-	if (ret)
-		goto error_ret;
 
 error_ret:
 	return ret;
@@ -683,8 +681,6 @@ static int wm8940_resume(struct snd_soc_codec *codec)
 		}
 	}
 	ret = wm8940_set_bias_level(codec, SND_SOC_BIAS_STANDBY);
-	if (ret)
-		goto error_ret;
 
 error_ret:
 	return ret;
@@ -730,9 +726,6 @@ static int wm8940_probe(struct snd_soc_codec *codec)
 	if (ret)
 		return ret;
 	ret = wm8940_add_widgets(codec);
-	if (ret)
-		return ret;
-
 	return ret;
 }
 </pre><hr><pre>commit 324dd96d2b022595b9fc8f24305b3ab770cc63b9
Author: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
Date:   Sun Jun 5 14:44:13 2011 +0000

    qlge: remove unecessary if statement
    
    the code always returns 'status' regardless, so if(status) check is unecessary.
    
    Signed-off-by: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
    Signed-off-by: David S. Miller &lt;davem@davemloft.net&gt;

diff --git a/drivers/net/qlge/qlge_ethtool.c b/drivers/net/qlge/qlge_ethtool.c
index 19b00fa0eaf0..9b67bfea035f 100644
--- a/drivers/net/qlge/qlge_ethtool.c
+++ b/drivers/net/qlge/qlge_ethtool.c
@@ -650,8 +650,6 @@ static int ql_set_pauseparam(struct net_device *netdev,
 		return -EINVAL;
 
 	status = ql_mb_set_port_cfg(qdev);
-	if (status)
-		return status;
 	return status;
 }
 </pre><hr><pre>commit 0c34861e7c66435ab0986509ec20055c402f29d8
Author: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
Date:   Thu Jun 2 22:24:06 2011 -0500

    iwlegacy: add missing null check
    
    lq_sta has other null checks in this function.
    assuming they are correct, this additional null check
    should be added too.
    
    Incorporating suggestion from Gustavo Padovan.
    
    Signed-off-by: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
    Signed-off-by: John W. Linville &lt;linville@tuxdriver.com&gt;

diff --git a/drivers/net/wireless/iwlegacy/iwl-4965-rs.c b/drivers/net/wireless/iwlegacy/iwl-4965-rs.c
index 24d149909ba3..9b65153bdd01 100644
--- a/drivers/net/wireless/iwlegacy/iwl-4965-rs.c
+++ b/drivers/net/wireless/iwlegacy/iwl-4965-rs.c
@@ -2275,6 +2275,9 @@ iwl4965_rs_get_rate(void *priv_r, struct ieee80211_sta *sta, void *priv_sta,
 	if (rate_control_send_low(sta, priv_sta, txrc))
 		return;
 
+	if (!lq_sta)
+		return;
+
 	rate_idx  = lq_sta-&gt;last_txrate_idx;
 
 	if (lq_sta-&gt;last_rate_n_flags &amp; RATE_MCS_HT_MSK) {</pre><hr><pre>commit 5c30c76ee616fffb47cbd9810bfd0a99ce4ddb38
Author: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
Date:   Thu Jun 2 21:06:09 2011 -0500

    iwlegacy: propagate error return value
    
    propogate the return value from iwl4965_get_tx_atten_grp instead
    of implicitly returning -EINVAL in the error case.
    
    Signed-off-by: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
    Signed-off-by: John W. Linville &lt;linville@tuxdriver.com&gt;

diff --git a/drivers/net/wireless/iwlegacy/iwl-4965.c b/drivers/net/wireless/iwlegacy/iwl-4965.c
index 06dcee5c51aa..79e7ce643f71 100644
--- a/drivers/net/wireless/iwlegacy/iwl-4965.c
+++ b/drivers/net/wireless/iwlegacy/iwl-4965.c
@@ -915,7 +915,7 @@ static int iwl4965_fill_txpower_tbl(struct iwl_priv *priv, u8 band, u16 channel,
 	if (txatten_grp &lt; 0) {
 		IWL_ERR(priv, "Can't find txatten group for channel %d.\n",
 			  channel);
-		return -EINVAL;
+		return txatten_grp;
 	}
 
 	IWL_DEBUG_TXPOWER(priv, "channel %d belongs to txatten group %d\n",</pre><hr><pre>commit 8e638188b2b84ef9bb9ccbb87b92dda9d0a77bcb
Author: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
Date:   Thu Jun 2 21:06:08 2011 -0500

    iwlegacy: return -EINVAL instead of -1
    
    Cleanup the code to return -EINVAL instead of -1
    Signed-off-by: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
    Signed-off-by: John W. Linville &lt;linville@tuxdriver.com&gt;

diff --git a/drivers/net/wireless/iwlegacy/iwl-4965.c b/drivers/net/wireless/iwlegacy/iwl-4965.c
index ffda05ca20fd..06dcee5c51aa 100644
--- a/drivers/net/wireless/iwlegacy/iwl-4965.c
+++ b/drivers/net/wireless/iwlegacy/iwl-4965.c
@@ -496,7 +496,7 @@ static s32 iwl4965_get_tx_atten_grp(u16 channel)
 	    channel &lt;= CALIB_IWL_TX_ATTEN_GR4_LCH)
 		return CALIB_CH_GROUP_4;
 
-	return -1;
+	return -EINVAL;
 }
 
 static u32 iwl4965_get_sub_band(const struct iwl_priv *priv, u32 channel)</pre><hr><pre>commit 04975f3fc390974059ad06ac4162db7a6668a18d
Author: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
Date:   Thu Jun 2 21:06:07 2011 -0500

    iwlegacy: remove unecessary if statement
    
    the code always returns ret regardless, so if(ret) check is unecessary.
    Signed-off-by: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
    Signed-off-by: John W. Linville &lt;linville@tuxdriver.com&gt;

diff --git a/drivers/net/wireless/iwlegacy/iwl-4965.c b/drivers/net/wireless/iwlegacy/iwl-4965.c
index f5433c74b845..ffda05ca20fd 100644
--- a/drivers/net/wireless/iwlegacy/iwl-4965.c
+++ b/drivers/net/wireless/iwlegacy/iwl-4965.c
@@ -1185,8 +1185,6 @@ static int iwl4965_send_rxon_assoc(struct iwl_priv *priv,
 
 	ret = iwl_legacy_send_cmd_pdu_async(priv, REPLY_RXON_ASSOC,
 				     sizeof(rxon_assoc), &amp;rxon_assoc, NULL);
-	if (ret)
-		return ret;
 
 	return ret;
 }</pre><hr><pre>commit e5a042ea30c1772df9ed3dbe1538520e091ad25f
Author: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
Date:   Thu Jun 2 21:06:06 2011 -0500

    iwlegacy: remove unreachable code
    
    return; at the end of the function is unecessary.
    
    Signed-off-by: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
    Signed-off-by: John W. Linville &lt;linville@tuxdriver.com&gt;

diff --git a/drivers/net/wireless/iwlegacy/iwl-eeprom.c b/drivers/net/wireless/iwlegacy/iwl-eeprom.c
index cb346d1a9ffa..5bf3f49b74ab 100644
--- a/drivers/net/wireless/iwlegacy/iwl-eeprom.c
+++ b/drivers/net/wireless/iwlegacy/iwl-eeprom.c
@@ -316,7 +316,6 @@ static void iwl_legacy_init_band_reference(const struct iwl_priv *priv,
 		break;
 	default:
 		BUG();
-		return;
 	}
 }
 </pre><hr><pre>commit 304b0b572c66bcd89df13e856db16503609c1a24
Author: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
Date:   Sun May 8 22:51:43 2011 -0500

    usb: fix warning in usbtest module v2
    
    On amd64 unsigned is not as wide as pointer and this causes a compiler
    warning. Switching to unsigned long corrects the problem.
    
    Signed-off-by: Greg Dietsche &lt;Gregory.Dietsche@cuw.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/usb/misc/usbtest.c b/drivers/usb/misc/usbtest.c
index 7e0bb2af8e63..c5676202d74a 100644
--- a/drivers/usb/misc/usbtest.c
+++ b/drivers/usb/misc/usbtest.c
@@ -268,9 +268,9 @@ static inline void simple_fill_buf(struct urb *urb)
 	}
 }
 
-static inline unsigned buffer_offset(void *buf)
+static inline unsigned long buffer_offset(void *buf)
 {
-	return (unsigned)buf &amp; (ARCH_KMALLOC_MINALIGN - 1);
+	return (unsigned long)buf &amp; (ARCH_KMALLOC_MINALIGN - 1);
 }
 
 static int check_guard_bytes(struct usbtest_dev *tdev, struct urb *urb)
@@ -329,7 +329,7 @@ static int simple_check_buf(struct usbtest_dev *tdev, struct urb *urb)
 
 static void simple_free_urb(struct urb *urb)
 {
-	unsigned offset = buffer_offset(urb-&gt;transfer_buffer);
+	unsigned long offset = buffer_offset(urb-&gt;transfer_buffer);
 
 	if (urb-&gt;transfer_flags &amp; URB_NO_TRANSFER_DMA_MAP)
 		usb_free_coherent(</pre>
    <div class="pagination">
        <a href='20_3.html'>&lt;&lt;Prev</a><a href='20.html'>1</a><a href='20_2.html'>2</a><a href='20_3.html'>3</a><span>[4]</span><a href='20_5.html'>5</a><a href='20_5.html'>Next&gt;&gt;</a>
    <div>
</body>
