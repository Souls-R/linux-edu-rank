<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patches contributed by University of Virginia, Charlottesville</title>
    <style>
    .pagination {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        overflow-wrap: break-word;
    }
    .pagination a, .pagination span {
        margin: 0 4px;
    }

    </style>
</head>
<body>
    <h1>Patches contributed by University of Virginia, Charlottesville</h1>
    <div class="pagination">
        <a href='3_78.html'>&lt;&lt;Prev</a><a href='3.html'>1</a><a href='3_2.html'>2</a><a href='3_3.html'>3</a><a href='3_4.html'>4</a><a href='3_5.html'>5</a><a href='3_6.html'>6</a><a href='3_7.html'>7</a><a href='3_8.html'>8</a><a href='3_9.html'>9</a><a href='3_10.html'>10</a><a href='3_11.html'>11</a><a href='3_12.html'>12</a><a href='3_13.html'>13</a><a href='3_14.html'>14</a><a href='3_15.html'>15</a><a href='3_16.html'>16</a><a href='3_17.html'>17</a><a href='3_18.html'>18</a><a href='3_19.html'>19</a><a href='3_20.html'>20</a><a href='3_21.html'>21</a><a href='3_22.html'>22</a><a href='3_23.html'>23</a><a href='3_24.html'>24</a><a href='3_25.html'>25</a><a href='3_26.html'>26</a><a href='3_27.html'>27</a><a href='3_28.html'>28</a><a href='3_29.html'>29</a><a href='3_30.html'>30</a><a href='3_31.html'>31</a><a href='3_32.html'>32</a><a href='3_33.html'>33</a><a href='3_34.html'>34</a><a href='3_35.html'>35</a><a href='3_36.html'>36</a><a href='3_37.html'>37</a><a href='3_38.html'>38</a><a href='3_39.html'>39</a><a href='3_40.html'>40</a><a href='3_41.html'>41</a><a href='3_42.html'>42</a><a href='3_43.html'>43</a><a href='3_44.html'>44</a><a href='3_45.html'>45</a><a href='3_46.html'>46</a><a href='3_47.html'>47</a><a href='3_48.html'>48</a><a href='3_49.html'>49</a><a href='3_50.html'>50</a><a href='3_51.html'>51</a><a href='3_52.html'>52</a><a href='3_53.html'>53</a><a href='3_54.html'>54</a><a href='3_55.html'>55</a><a href='3_56.html'>56</a><a href='3_57.html'>57</a><a href='3_58.html'>58</a><a href='3_59.html'>59</a><a href='3_60.html'>60</a><a href='3_61.html'>61</a><a href='3_62.html'>62</a><a href='3_63.html'>63</a><a href='3_64.html'>64</a><a href='3_65.html'>65</a><a href='3_66.html'>66</a><a href='3_67.html'>67</a><a href='3_68.html'>68</a><a href='3_69.html'>69</a><a href='3_70.html'>70</a><a href='3_71.html'>71</a><a href='3_72.html'>72</a><a href='3_73.html'>73</a><a href='3_74.html'>74</a><a href='3_75.html'>75</a><a href='3_76.html'>76</a><a href='3_77.html'>77</a><a href='3_78.html'>78</a><span>[79]</span><a href='3_80.html'>80</a><a href='3_81.html'>81</a><a href='3_82.html'>82</a><a href='3_83.html'>83</a><a href='3_80.html'>Next&gt;&gt;</a>
    </div>
    <hr>
    <pre>commit c350fa1944f4ec1fe392ce0f3fc879f3899bb15d
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:07:30 2009 -0400

    Staging: comedi: Remove pci9111_private_data typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/adl_pci9111.c b/drivers/staging/comedi/drivers/adl_pci9111.c
index babb777c9701..601676139538 100644
--- a/drivers/staging/comedi/drivers/adl_pci9111.c
+++ b/drivers/staging/comedi/drivers/adl_pci9111.c
@@ -339,7 +339,7 @@ COMEDI_PCI_INITCLEANUP(pci9111_driver, pci9111_pci_table);
 // Private data structure
 //
 
-typedef struct {
+struct pci9111_private_data {
 	struct pci_dev *pci_device;
 	unsigned long io_range;	// PCI6503 io range
 
@@ -362,9 +362,9 @@ typedef struct {
 	int is_valid;		// Is device valid
 
 	short ai_bounce_buffer[2 * PCI9111_FIFO_HALF_SIZE];
-} pci9111_private_data_struct;
+};
 
-#define dev_private 	((pci9111_private_data_struct *)dev-&gt;private)
+#define dev_private 	((struct pci9111_private_data *)dev-&gt;private)
 
 // ------------------------------------------------------------------
 //
@@ -1254,7 +1254,7 @@ static int pci9111_attach(struct comedi_device * dev, struct comedi_devconfig *
 	int error, i;
 	const struct pci9111_board *board;
 
-	if (alloc_private(dev, sizeof(pci9111_private_data_struct)) &lt; 0) {
+	if (alloc_private(dev, sizeof(struct pci9111_private_data)) &lt; 0) {
 		return -ENOMEM;
 	}
 	//</pre><hr><pre>commit 940579fbae1a3a8967fe619562c8e78080dd873d
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:07:25 2009 -0400

    Staging: comedi: Remove pci9111_board_struct typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/adl_pci9111.c b/drivers/staging/comedi/drivers/adl_pci9111.c
index cce2c8303137..babb777c9701 100644
--- a/drivers/staging/comedi/drivers/adl_pci9111.c
+++ b/drivers/staging/comedi/drivers/adl_pci9111.c
@@ -294,7 +294,7 @@ MODULE_DEVICE_TABLE(pci, pci9111_pci_table);
 // Board specification structure
 //
 
-typedef struct {
+struct pci9111_board {
 	const char *name;	// driver name
 	int device_id;
 	int ai_channel_nbr;	// num of A/D chans
@@ -306,9 +306,9 @@ typedef struct {
 	const struct comedi_lrange *ai_range_list;	// rangelist for A/D
 	const struct comedi_lrange *ao_range_list;	// rangelist for D/A
 	unsigned int ai_acquisition_period_min_ns;
-} pci9111_board_struct;
+};
 
-static const pci9111_board_struct pci9111_boards[] = {
+static const struct pci9111_board pci9111_boards[] = {
 	{
 	      name:	"pci9111_hr",
 	      device_id:PCI9111_HR_DEVICE_ID,
@@ -324,7 +324,7 @@ static const pci9111_board_struct pci9111_boards[] = {
 };
 
 #define pci9111_board_nbr \
-  (sizeof(pci9111_boards)/sizeof(pci9111_board_struct))
+  (sizeof(pci9111_boards)/sizeof(struct pci9111_board))
 
 static struct comedi_driver pci9111_driver = {
       driver_name:PCI9111_DRIVER_NAME,
@@ -564,7 +564,7 @@ pci9111_ai_do_cmd_test(struct comedi_device * dev,
 	int error = 0;
 	int range, reference;
 	int i;
-	pci9111_board_struct *board = (pci9111_board_struct *) dev-&gt;board_ptr;
+	struct pci9111_board *board = (struct pci9111_board *) dev-&gt;board_ptr;
 
 	// Step 1 : check if trigger are trivialy valid
 
@@ -887,7 +887,7 @@ static void pci9111_ai_munge(struct comedi_device * dev, struct comedi_subdevice
 	unsigned int i, num_samples = num_bytes / sizeof(short);
 	short *array = data;
 	int resolution =
-		((pci9111_board_struct *) dev-&gt;board_ptr)-&gt;ai_resolution;
+		((struct pci9111_board *) dev-&gt;board_ptr)-&gt;ai_resolution;
 
 	for (i = 0; i &lt; num_samples; i++) {
 		if (resolution == PCI9111_HR_AI_RESOLUTION)
@@ -1075,7 +1075,7 @@ static int pci9111_ai_insn_read(struct comedi_device * dev,
 	struct comedi_subdevice * subdevice, struct comedi_insn * insn, unsigned int * data)
 {
 	int resolution =
-		((pci9111_board_struct *) dev-&gt;board_ptr)-&gt;ai_resolution;
+		((struct pci9111_board *) dev-&gt;board_ptr)-&gt;ai_resolution;
 
 	int timeout, i;
 
@@ -1252,7 +1252,7 @@ static int pci9111_attach(struct comedi_device * dev, struct comedi_devconfig *
 	unsigned long io_base, io_range, lcr_io_base, lcr_io_range;
 	struct pci_dev *pci_device;
 	int error, i;
-	const pci9111_board_struct *board;
+	const struct pci9111_board *board;
 
 	if (alloc_private(dev, sizeof(pci9111_private_data_struct)) &lt; 0) {
 		return -ENOMEM;
@@ -1285,7 +1285,7 @@ static int pci9111_attach(struct comedi_device * dev, struct comedi_devconfig *
 					}
 
 					dev-&gt;board_ptr = pci9111_boards + i;
-					board = (pci9111_board_struct *) dev-&gt;
+					board = (struct pci9111_board *) dev-&gt;
 						board_ptr;
 					dev_private-&gt;pci_device = pci_device;
 					goto found;</pre><hr><pre>commit 07b666b72b122958ec125715bd4b07557c6cb889
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:07:19 2009 -0400

    Staging: comedi: Remove adl_pci8164_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/adl_pci8164.c b/drivers/staging/comedi/drivers/adl_pci8164.c
index c401e110770c..adf90be79983 100644
--- a/drivers/staging/comedi/drivers/adl_pci8164.c
+++ b/drivers/staging/comedi/drivers/adl_pci8164.c
@@ -63,12 +63,12 @@ static DEFINE_PCI_DEVICE_TABLE(adl_pci8164_pci_table) = {
 
 MODULE_DEVICE_TABLE(pci, adl_pci8164_pci_table);
 
-typedef struct {
+struct adl_pci8164_private {
 	int data;
 	struct pci_dev *pci_dev;
-} adl_pci8164_private;
+};
 
-#define devpriv ((adl_pci8164_private *)dev-&gt;private)
+#define devpriv ((struct adl_pci8164_private *)dev-&gt;private)
 
 static int adl_pci8164_attach(struct comedi_device * dev, struct comedi_devconfig * it);
 static int adl_pci8164_detach(struct comedi_device * dev);
@@ -116,7 +116,7 @@ static int adl_pci8164_attach(struct comedi_device * dev, struct comedi_devconfi
 	bus = it-&gt;options[0];
 	slot = it-&gt;options[1];
 
-	if (alloc_private(dev, sizeof(adl_pci8164_private)) &lt; 0)
+	if (alloc_private(dev, sizeof(struct adl_pci8164_private)) &lt; 0)
 		return -ENOMEM;
 
 	if (alloc_subdevices(dev, 4) &lt; 0)</pre><hr><pre>commit ddc3dbf4dfd38b309c4c26b2fa91e3784457a0f8
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:07:14 2009 -0400

    Staging: comedi: Remove adl_pci7432_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/adl_pci7432.c b/drivers/staging/comedi/drivers/adl_pci7432.c
index 8fdea81b59fc..a8f1715608d1 100644
--- a/drivers/staging/comedi/drivers/adl_pci7432.c
+++ b/drivers/staging/comedi/drivers/adl_pci7432.c
@@ -51,12 +51,12 @@ static DEFINE_PCI_DEVICE_TABLE(adl_pci7432_pci_table) = {
 
 MODULE_DEVICE_TABLE(pci, adl_pci7432_pci_table);
 
-typedef struct {
+struct adl_pci7432_private {
 	int data;
 	struct pci_dev *pci_dev;
-} adl_pci7432_private;
+};
 
-#define devpriv ((adl_pci7432_private *)dev-&gt;private)
+#define devpriv ((struct adl_pci7432_private *)dev-&gt;private)
 
 static int adl_pci7432_attach(struct comedi_device * dev, struct comedi_devconfig * it);
 static int adl_pci7432_detach(struct comedi_device * dev);
@@ -90,7 +90,7 @@ static int adl_pci7432_attach(struct comedi_device * dev, struct comedi_devconfi
 	bus = it-&gt;options[0];
 	slot = it-&gt;options[1];
 
-	if (alloc_private(dev, sizeof(adl_pci7432_private)) &lt; 0)
+	if (alloc_private(dev, sizeof(struct adl_pci7432_private)) &lt; 0)
 		return -ENOMEM;
 
 	if (alloc_subdevices(dev, 2) &lt; 0)</pre><hr><pre>commit 8dca707e148ed7c25a5d9fc37a831e5fc56776fa
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:07:09 2009 -0400

    Staging: comedi: Remove adl_pci7296_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/adl_pci7296.c b/drivers/staging/comedi/drivers/adl_pci7296.c
index 7fe4ce14fcf3..bd0f9ab226ef 100644
--- a/drivers/staging/comedi/drivers/adl_pci7296.c
+++ b/drivers/staging/comedi/drivers/adl_pci7296.c
@@ -56,12 +56,13 @@ static DEFINE_PCI_DEVICE_TABLE(adl_pci7296_pci_table) = {
 
 MODULE_DEVICE_TABLE(pci, adl_pci7296_pci_table);
 
-typedef struct {
+struct adl_pci7296_private {
 	int data;
 	struct pci_dev *pci_dev;
-} adl_pci7296_private;
+};
+
 
-#define devpriv ((adl_pci7296_private *)dev-&gt;private)
+#define devpriv ((struct adl_pci7296_private *)dev-&gt;private)
 
 static int adl_pci7296_attach(struct comedi_device * dev, struct comedi_devconfig * it);
 static int adl_pci7296_detach(struct comedi_device * dev);
@@ -86,7 +87,7 @@ static int adl_pci7296_attach(struct comedi_device * dev, struct comedi_devconfi
 	bus = it-&gt;options[0];
 	slot = it-&gt;options[1];
 
-	if (alloc_private(dev, sizeof(adl_pci7296_private)) &lt; 0)
+	if (alloc_private(dev, sizeof(struct adl_pci7296_private)) &lt; 0)
 		return -ENOMEM;
 
 	if (alloc_subdevices(dev, 4) &lt; 0)</pre><hr><pre>commit 3d393c865b745a37a53081203b49278476a47a56
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:07:03 2009 -0400

    Staging: comedi: Remove pci6208_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/adl_pci6208.c b/drivers/staging/comedi/drivers/adl_pci6208.c
index 449cf87c477c..f710f551820d 100644
--- a/drivers/staging/comedi/drivers/adl_pci6208.c
+++ b/drivers/staging/comedi/drivers/adl_pci6208.c
@@ -99,13 +99,13 @@ MODULE_DEVICE_TABLE(pci, pci6208_pci_table);
 /* Will be initialized in pci6208_find device(). */
 #define thisboard ((const struct pci6208_board *)dev-&gt;board_ptr)
 
-typedef struct {
+struct pci6208_private {
 	int data;
 	struct pci_dev *pci_dev;	/* for a PCI device */
 	unsigned int ao_readback[2];	/* Used for AO readback */
-} pci6208_private;
+};
 
-#define devpriv ((pci6208_private *)dev-&gt;private)
+#define devpriv ((struct pci6208_private *)dev-&gt;private)
 
 static int pci6208_attach(struct comedi_device * dev, struct comedi_devconfig * it);
 static int pci6208_detach(struct comedi_device * dev);
@@ -151,7 +151,7 @@ static int pci6208_attach(struct comedi_device * dev, struct comedi_devconfig *
 
 	printk("comedi%d: pci6208: ", dev-&gt;minor);
 
-	retval = alloc_private(dev, sizeof(pci6208_private));
+	retval = alloc_private(dev, sizeof(struct pci6208_private));
 	if (retval &lt; 0)
 		return retval;
 </pre><hr><pre>commit c1b31c44a38e2b5153193680e4bee4856b3307e1
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:06:58 2009 -0400

    Staging: comedi: Remove pci6208_board typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/adl_pci6208.c b/drivers/staging/comedi/drivers/adl_pci6208.c
index fa290ba4690f..449cf87c477c 100644
--- a/drivers/staging/comedi/drivers/adl_pci6208.c
+++ b/drivers/staging/comedi/drivers/adl_pci6208.c
@@ -57,13 +57,14 @@ Configuration Options:
 #define PCI6208_DRIVER_NAME 	"adl_pci6208"
 
 /* Board descriptions */
-typedef struct {
+struct pci6208_board {
 	const char *name;
 	unsigned short dev_id;	/* `lspci` will show you this */
 	int ao_chans;
 	//int ao_bits;
-} pci6208_board;
-static const pci6208_board pci6208_boards[] = {
+};
+
+static const struct pci6208_board pci6208_boards[] = {
 	/*{
 	   name :  "pci6208v",
 	   dev_id       :  0x6208,      //not sure
@@ -96,7 +97,7 @@ static DEFINE_PCI_DEVICE_TABLE(pci6208_pci_table) = {
 MODULE_DEVICE_TABLE(pci, pci6208_pci_table);
 
 /* Will be initialized in pci6208_find device(). */
-#define thisboard ((const pci6208_board *)dev-&gt;board_ptr)
+#define thisboard ((const struct pci6208_board *)dev-&gt;board_ptr)
 
 typedef struct {
 	int data;
@@ -110,7 +111,7 @@ static int pci6208_attach(struct comedi_device * dev, struct comedi_devconfig *
 static int pci6208_detach(struct comedi_device * dev);
 
 #define pci6208_board_nbr \
-	(sizeof(pci6208_boards) / sizeof(pci6208_board))
+	(sizeof(pci6208_boards) / sizeof(struct pci6208_board))
 
 static struct comedi_driver driver_pci6208 = {
       driver_name:PCI6208_DRIVER_NAME,</pre><hr><pre>commit 4753d235e76b14c9f4585d569795a4ccb51485f8
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:06:47 2009 -0400

    Staging: comedi: Remove DMABUF typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/s626.c b/drivers/staging/comedi/drivers/s626.c
index 3e6f1f0d99e5..30dec9dab19b 100644
--- a/drivers/staging/comedi/drivers/s626.c
+++ b/drivers/staging/comedi/drivers/s626.c
@@ -144,8 +144,8 @@ struct s626_private {
 	uint16_t CounterIntEnabs;
 	/* Counter interrupt enable  mask for MISC2 register. */
 	uint8_t AdcItems;	/* Number of items in ADC poll  list. */
-	DMABUF RPSBuf;		/* DMA buffer used to hold ADC (RPS1) program. */
-	DMABUF ANABuf;
+	struct bufferDMA RPSBuf;		/* DMA buffer used to hold ADC (RPS1) program. */
+	struct bufferDMA ANABuf;
 	/* DMA buffer used to receive ADC data and hold DAC data. */
 	uint32_t *pDacWBuf;
 	/* Pointer to logical adrs of DMA buffer used to hold DAC  data. */
@@ -275,7 +275,7 @@ static uint16_t DEBIread(struct comedi_device *dev, uint16_t addr);
 static void DEBIwrite(struct comedi_device *dev, uint16_t addr, uint16_t wdata);
 static void DEBIreplace(struct comedi_device *dev, uint16_t addr, uint16_t mask,
 	uint16_t wdata);
-static void CloseDMAB(struct comedi_device *dev, DMABUF *pdma, size_t bsize);
+static void CloseDMAB(struct comedi_device *dev, struct bufferDMA *pdma, size_t bsize);
 
 /*  COUNTER OBJECT ------------------------------------------------ */
 struct enc_private {
@@ -2733,7 +2733,7 @@ static void DEBIreplace(struct comedi_device *dev, uint16_t addr, uint16_t mask,
 	DEBItransfer(dev);	/*  Execute the DEBI Write transfer. */
 }
 
-static void CloseDMAB(struct comedi_device *dev, DMABUF *pdma, size_t bsize)
+static void CloseDMAB(struct comedi_device *dev, struct bufferDMA *pdma, size_t bsize)
 {
 	void *vbptr;
 	dma_addr_t vpptr;
diff --git a/drivers/staging/comedi/drivers/s626.h b/drivers/staging/comedi/drivers/s626.h
index c48957be2e1c..891126f25099 100644
--- a/drivers/staging/comedi/drivers/s626.h
+++ b/drivers/staging/comedi/drivers/s626.h
@@ -739,8 +739,8 @@
 /*   unsigned int enc; */
 /* }CallCounter; */
 
-typedef struct bufferDMA {
+struct bufferDMA {
 	dma_addr_t PhysicalBase;
 	void *LogicalBase;
 	uint32_t DMAHandle;
-} DMABUF;
+};</pre><hr><pre>commit 9aa5339ac1eba5268df69bbcdf1abb9fae5afeca
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:06:42 2009 -0400

    Staging: comedi: Remove comedi_bufinfo typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/comedi.h b/drivers/staging/comedi/comedi.h
index 17c014922b7f..e6b5f16edb02 100644
--- a/drivers/staging/comedi/comedi.h
+++ b/drivers/staging/comedi/comedi.h
@@ -305,13 +305,11 @@ enum comedi_support_level {
 #define COMEDI_INSNLIST _IOR(CIO, 11, struct comedi_insnlist)
 #define COMEDI_INSN _IOR(CIO, 12, struct comedi_insn)
 #define COMEDI_BUFCONFIG _IOR(CIO, 13, struct comedi_bufconfig)
-#define COMEDI_BUFINFO _IOWR(CIO, 14, comedi_bufinfo)
+#define COMEDI_BUFINFO _IOWR(CIO, 14, struct comedi_bufinfo)
 #define COMEDI_POLL _IO(CIO, 15)
 
 /* structures */
 
-typedef struct comedi_bufinfo_struct comedi_bufinfo;
-
 struct comedi_trig {
 	unsigned int subdev;	/* subdevice */
 	unsigned int mode;	/* mode */
@@ -426,7 +424,7 @@ struct comedi_bufconfig {
 	unsigned int unused[4];
 };
 
-struct comedi_bufinfo_struct {
+struct comedi_bufinfo {
 	unsigned int subdevice;
 	unsigned int bytes_read;
 
diff --git a/drivers/staging/comedi/comedi_fops.c b/drivers/staging/comedi/comedi_fops.c
index 5cb6031656bb..19dce2ebfc19 100644
--- a/drivers/staging/comedi/comedi_fops.c
+++ b/drivers/staging/comedi/comedi_fops.c
@@ -556,11 +556,11 @@ static int do_chaninfo_ioctl(struct comedi_device *dev, struct comedi_chaninfo *
   */
 static int do_bufinfo_ioctl(struct comedi_device *dev, void *arg)
 {
-	comedi_bufinfo bi;
+	struct comedi_bufinfo bi;
 	struct comedi_subdevice *s;
 	struct comedi_async *async;
 
-	if (copy_from_user(&amp;bi, arg, sizeof(comedi_bufinfo)))
+	if (copy_from_user(&amp;bi, arg, sizeof(struct comedi_bufinfo)))
 		return -EFAULT;
 
 	if (bi.subdevice &gt;= dev-&gt;n_subdevices || bi.subdevice &lt; 0)
@@ -601,7 +601,7 @@ static int do_bufinfo_ioctl(struct comedi_device *dev, void *arg)
 	bi.buf_read_ptr = async-&gt;buf_read_ptr;
 
 copyback:
-	if (copy_to_user(arg, &amp;bi, sizeof(comedi_bufinfo)))
+	if (copy_to_user(arg, &amp;bi, sizeof(struct comedi_bufinfo)))
 		return -EFAULT;
 
 	return 0;</pre><hr><pre>commit be6aba4a423629126f318d351b2d0eb00abb9dd5
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:06:37 2009 -0400

    Staging: comedi: Remove comedi_bufconfig typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/comedi.h b/drivers/staging/comedi/comedi.h
index 079cb6e80c7e..17c014922b7f 100644
--- a/drivers/staging/comedi/comedi.h
+++ b/drivers/staging/comedi/comedi.h
@@ -304,13 +304,12 @@ enum comedi_support_level {
 #define COMEDI_CMDTEST _IOR(CIO, 10, struct comedi_cmd)
 #define COMEDI_INSNLIST _IOR(CIO, 11, struct comedi_insnlist)
 #define COMEDI_INSN _IOR(CIO, 12, struct comedi_insn)
-#define COMEDI_BUFCONFIG _IOR(CIO, 13, comedi_bufconfig)
+#define COMEDI_BUFCONFIG _IOR(CIO, 13, struct comedi_bufconfig)
 #define COMEDI_BUFINFO _IOWR(CIO, 14, comedi_bufinfo)
 #define COMEDI_POLL _IO(CIO, 15)
 
 /* structures */
 
-typedef struct comedi_bufconfig_struct comedi_bufconfig;
 typedef struct comedi_bufinfo_struct comedi_bufinfo;
 
 struct comedi_trig {
@@ -417,7 +416,7 @@ struct comedi_devconfig {
 	int options[COMEDI_NDEVCONFOPTS];
 };
 
-struct comedi_bufconfig_struct {
+struct comedi_bufconfig {
 	unsigned int subdevice;
 	unsigned int flags;
 
diff --git a/drivers/staging/comedi/comedi_fops.c b/drivers/staging/comedi/comedi_fops.c
index 0e9ad62c6ec9..5cb6031656bb 100644
--- a/drivers/staging/comedi/comedi_fops.c
+++ b/drivers/staging/comedi/comedi_fops.c
@@ -274,12 +274,12 @@ static int do_devconfig_ioctl(struct comedi_device *dev, struct comedi_devconfig
 */
 static int do_bufconfig_ioctl(struct comedi_device *dev, void *arg)
 {
-	comedi_bufconfig bc;
+	struct comedi_bufconfig bc;
 	struct comedi_async *async;
 	struct comedi_subdevice *s;
 	int ret = 0;
 
-	if (copy_from_user(&amp;bc, arg, sizeof(comedi_bufconfig)))
+	if (copy_from_user(&amp;bc, arg, sizeof(struct comedi_bufconfig)))
 		return -EFAULT;
 
 	if (bc.subdevice &gt;= dev-&gt;n_subdevices || bc.subdevice &lt; 0)
@@ -340,7 +340,7 @@ static int do_bufconfig_ioctl(struct comedi_device *dev, void *arg)
 	bc.maximum_size = async-&gt;max_bufsize;
 
 copyback:
-	if (copy_to_user(arg, &amp;bc, sizeof(comedi_bufconfig)))
+	if (copy_to_user(arg, &amp;bc, sizeof(struct comedi_bufconfig)))
 		return -EFAULT;
 
 	return 0;</pre>
    <div class="pagination">
        <a href='3_78.html'>&lt;&lt;Prev</a><a href='3.html'>1</a><a href='3_2.html'>2</a><a href='3_3.html'>3</a><a href='3_4.html'>4</a><a href='3_5.html'>5</a><a href='3_6.html'>6</a><a href='3_7.html'>7</a><a href='3_8.html'>8</a><a href='3_9.html'>9</a><a href='3_10.html'>10</a><a href='3_11.html'>11</a><a href='3_12.html'>12</a><a href='3_13.html'>13</a><a href='3_14.html'>14</a><a href='3_15.html'>15</a><a href='3_16.html'>16</a><a href='3_17.html'>17</a><a href='3_18.html'>18</a><a href='3_19.html'>19</a><a href='3_20.html'>20</a><a href='3_21.html'>21</a><a href='3_22.html'>22</a><a href='3_23.html'>23</a><a href='3_24.html'>24</a><a href='3_25.html'>25</a><a href='3_26.html'>26</a><a href='3_27.html'>27</a><a href='3_28.html'>28</a><a href='3_29.html'>29</a><a href='3_30.html'>30</a><a href='3_31.html'>31</a><a href='3_32.html'>32</a><a href='3_33.html'>33</a><a href='3_34.html'>34</a><a href='3_35.html'>35</a><a href='3_36.html'>36</a><a href='3_37.html'>37</a><a href='3_38.html'>38</a><a href='3_39.html'>39</a><a href='3_40.html'>40</a><a href='3_41.html'>41</a><a href='3_42.html'>42</a><a href='3_43.html'>43</a><a href='3_44.html'>44</a><a href='3_45.html'>45</a><a href='3_46.html'>46</a><a href='3_47.html'>47</a><a href='3_48.html'>48</a><a href='3_49.html'>49</a><a href='3_50.html'>50</a><a href='3_51.html'>51</a><a href='3_52.html'>52</a><a href='3_53.html'>53</a><a href='3_54.html'>54</a><a href='3_55.html'>55</a><a href='3_56.html'>56</a><a href='3_57.html'>57</a><a href='3_58.html'>58</a><a href='3_59.html'>59</a><a href='3_60.html'>60</a><a href='3_61.html'>61</a><a href='3_62.html'>62</a><a href='3_63.html'>63</a><a href='3_64.html'>64</a><a href='3_65.html'>65</a><a href='3_66.html'>66</a><a href='3_67.html'>67</a><a href='3_68.html'>68</a><a href='3_69.html'>69</a><a href='3_70.html'>70</a><a href='3_71.html'>71</a><a href='3_72.html'>72</a><a href='3_73.html'>73</a><a href='3_74.html'>74</a><a href='3_75.html'>75</a><a href='3_76.html'>76</a><a href='3_77.html'>77</a><a href='3_78.html'>78</a><span>[79]</span><a href='3_80.html'>80</a><a href='3_81.html'>81</a><a href='3_82.html'>82</a><a href='3_83.html'>83</a><a href='3_80.html'>Next&gt;&gt;</a>
    <div>
</body>
