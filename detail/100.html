<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patches contributed by University of California, Los Angeles</title>
    <style>
    .pagination {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        overflow-wrap: break-word;
    }
    .pagination a, .pagination span {
        margin: 0 4px;
    }

    </style>
</head>
<body>
    <h1>Patches contributed by University of California, Los Angeles</h1>
    <div class="pagination">
        <span>[1]</span>
    </div>
    <hr>
    <pre>commit ab1796ebdad3017965754d86db64d3cba5c416b9
Author: Andy Spencer &lt;andy753421@ucla.edu&gt;
Date:   Fri May 2 06:48:13 2014 +0000

    RTL8192CU: Increase max APFM_ONMAC polling count
    
    With certain hardware combinations the poll interval is exceeded before
    initialization completes.
    
    Tested on a MacBookPro10,1 using a Sabrent USB-A11N USB adapter.
    
    Signed-off-by: Andy Spencer &lt;andy753421@ucla.edu&gt;
    Acked-by: Larry Finger &lt;Larry.Finger@lwfinger.net&gt;
    Signed-off-by: John W. Linville &lt;linville@tuxdriver.com&gt;

diff --git a/drivers/net/wireless/rtlwifi/rtl8192cu/hw.c b/drivers/net/wireless/rtlwifi/rtl8192cu/hw.c
index 68b5c7e92cfb..31b79e78c63c 100644
--- a/drivers/net/wireless/rtlwifi/rtl8192cu/hw.c
+++ b/drivers/net/wireless/rtlwifi/rtl8192cu/hw.c
@@ -511,7 +511,7 @@ static int _rtl92cu_init_power_on(struct ieee80211_hw *hw)
 			pr_info("MAC auto ON okay!\n");
 			break;
 		}
-		if (pollingCount++ &gt; 100) {
+		if (pollingCount++ &gt; 1000) {
 			RT_TRACE(rtlpriv, COMP_INIT, DBG_EMERG,
 				 "Failed to polling REG_APS_FSMCO[APFM_ONMAC] done!\n");
 			return -ENODEV;</pre><hr><pre>commit 549812799c8495451e71ebd9f6a862b33120a35a
Author: Rafael Laufer &lt;rlaufer@cs.ucla.edu&gt;
Date:   Mon Aug 10 10:08:27 2009 +0200

    netfilter: nf_conntrack: add SCTP support for SO_ORIGINAL_DST
    
    Signed-off-by: Patrick McHardy &lt;kaber@trash.net&gt;

diff --git a/net/ipv4/netfilter/nf_conntrack_l3proto_ipv4.c b/net/ipv4/netfilter/nf_conntrack_l3proto_ipv4.c
index 7d2ead7228ac..05a9bc8df536 100644
--- a/net/ipv4/netfilter/nf_conntrack_l3proto_ipv4.c
+++ b/net/ipv4/netfilter/nf_conntrack_l3proto_ipv4.c
@@ -256,11 +256,11 @@ getorigdst(struct sock *sk, int optval, void __user *user, int *len)
 	tuple.dst.u3.ip = inet-&gt;daddr;
 	tuple.dst.u.tcp.port = inet-&gt;dport;
 	tuple.src.l3num = PF_INET;
-	tuple.dst.protonum = IPPROTO_TCP;
+	tuple.dst.protonum = sk-&gt;sk_protocol;
 
-	/* We only do TCP at the moment: is there a better way? */
-	if (strcmp(sk-&gt;sk_prot-&gt;name, "TCP")) {
-		pr_debug("SO_ORIGINAL_DST: Not a TCP socket\n");
+	/* We only do TCP and SCTP at the moment: is there a better way? */
+	if (sk-&gt;sk_protocol != IPPROTO_TCP &amp;&amp; sk-&gt;sk_protocol != IPPROTO_SCTP) {
+		pr_debug("SO_ORIGINAL_DST: Not a TCP/SCTP socket\n");
 		return -ENOPROTOOPT;
 	}
 </pre>
    <div class="pagination">
        <span>[1]</span>
    <div>
</body>
