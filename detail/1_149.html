<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patches contributed by Massachusetts Institute of Technology</title>
    <style>
    .pagination {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        overflow-wrap: break-word;
    }
    .pagination a, .pagination span {
        margin: 0 4px;
    }

    </style>
</head>
<body>
    <h1>Patches contributed by Massachusetts Institute of Technology</h1>
    <div class="pagination">
        <a href='1_148.html'>&lt;&lt;Prev</a><a href='1.html'>1</a><a href='1_2.html'>2</a><a href='1_3.html'>3</a><a href='1_4.html'>4</a><a href='1_5.html'>5</a><a href='1_6.html'>6</a><a href='1_7.html'>7</a><a href='1_8.html'>8</a><a href='1_9.html'>9</a><a href='1_10.html'>10</a><a href='1_11.html'>11</a><a href='1_12.html'>12</a><a href='1_13.html'>13</a><a href='1_14.html'>14</a><a href='1_15.html'>15</a><a href='1_16.html'>16</a><a href='1_17.html'>17</a><a href='1_18.html'>18</a><a href='1_19.html'>19</a><a href='1_20.html'>20</a><a href='1_21.html'>21</a><a href='1_22.html'>22</a><a href='1_23.html'>23</a><a href='1_24.html'>24</a><a href='1_25.html'>25</a><a href='1_26.html'>26</a><a href='1_27.html'>27</a><a href='1_28.html'>28</a><a href='1_29.html'>29</a><a href='1_30.html'>30</a><a href='1_31.html'>31</a><a href='1_32.html'>32</a><a href='1_33.html'>33</a><a href='1_34.html'>34</a><a href='1_35.html'>35</a><a href='1_36.html'>36</a><a href='1_37.html'>37</a><a href='1_38.html'>38</a><a href='1_39.html'>39</a><a href='1_40.html'>40</a><a href='1_41.html'>41</a><a href='1_42.html'>42</a><a href='1_43.html'>43</a><a href='1_44.html'>44</a><a href='1_45.html'>45</a><a href='1_46.html'>46</a><a href='1_47.html'>47</a><a href='1_48.html'>48</a><a href='1_49.html'>49</a><a href='1_50.html'>50</a><a href='1_51.html'>51</a><a href='1_52.html'>52</a><a href='1_53.html'>53</a><a href='1_54.html'>54</a><a href='1_55.html'>55</a><a href='1_56.html'>56</a><a href='1_57.html'>57</a><a href='1_58.html'>58</a><a href='1_59.html'>59</a><a href='1_60.html'>60</a><a href='1_61.html'>61</a><a href='1_62.html'>62</a><a href='1_63.html'>63</a><a href='1_64.html'>64</a><a href='1_65.html'>65</a><a href='1_66.html'>66</a><a href='1_67.html'>67</a><a href='1_68.html'>68</a><a href='1_69.html'>69</a><a href='1_70.html'>70</a><a href='1_71.html'>71</a><a href='1_72.html'>72</a><a href='1_73.html'>73</a><a href='1_74.html'>74</a><a href='1_75.html'>75</a><a href='1_76.html'>76</a><a href='1_77.html'>77</a><a href='1_78.html'>78</a><a href='1_79.html'>79</a><a href='1_80.html'>80</a><a href='1_81.html'>81</a><a href='1_82.html'>82</a><a href='1_83.html'>83</a><a href='1_84.html'>84</a><a href='1_85.html'>85</a><a href='1_86.html'>86</a><a href='1_87.html'>87</a><a href='1_88.html'>88</a><a href='1_89.html'>89</a><a href='1_90.html'>90</a><a href='1_91.html'>91</a><a href='1_92.html'>92</a><a href='1_93.html'>93</a><a href='1_94.html'>94</a><a href='1_95.html'>95</a><a href='1_96.html'>96</a><a href='1_97.html'>97</a><a href='1_98.html'>98</a><a href='1_99.html'>99</a><a href='1_100.html'>100</a><a href='1_101.html'>101</a><a href='1_102.html'>102</a><a href='1_103.html'>103</a><a href='1_104.html'>104</a><a href='1_105.html'>105</a><a href='1_106.html'>106</a><a href='1_107.html'>107</a><a href='1_108.html'>108</a><a href='1_109.html'>109</a><a href='1_110.html'>110</a><a href='1_111.html'>111</a><a href='1_112.html'>112</a><a href='1_113.html'>113</a><a href='1_114.html'>114</a><a href='1_115.html'>115</a><a href='1_116.html'>116</a><a href='1_117.html'>117</a><a href='1_118.html'>118</a><a href='1_119.html'>119</a><a href='1_120.html'>120</a><a href='1_121.html'>121</a><a href='1_122.html'>122</a><a href='1_123.html'>123</a><a href='1_124.html'>124</a><a href='1_125.html'>125</a><a href='1_126.html'>126</a><a href='1_127.html'>127</a><a href='1_128.html'>128</a><a href='1_129.html'>129</a><a href='1_130.html'>130</a><a href='1_131.html'>131</a><a href='1_132.html'>132</a><a href='1_133.html'>133</a><a href='1_134.html'>134</a><a href='1_135.html'>135</a><a href='1_136.html'>136</a><a href='1_137.html'>137</a><a href='1_138.html'>138</a><a href='1_139.html'>139</a><a href='1_140.html'>140</a><a href='1_141.html'>141</a><a href='1_142.html'>142</a><a href='1_143.html'>143</a><a href='1_144.html'>144</a><a href='1_145.html'>145</a><a href='1_146.html'>146</a><a href='1_147.html'>147</a><a href='1_148.html'>148</a><span>[149]</span><a href='1_150.html'>150</a><a href='1_151.html'>151</a><a href='1_152.html'>152</a><a href='1_153.html'>153</a><a href='1_154.html'>154</a><a href='1_150.html'>Next&gt;&gt;</a>
    </div>
    <hr>
    <pre>commit ef055f10000c5013d269cac9fc92c200bf314e40
Author: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
Date:   Sun Mar 13 00:29:09 2011 -0500

    staging: serqt_usb2: Remove NULL check before kfree
    
    This patch was generated by the following semantic patch:
    // &lt;smpl&gt;
    @@ expression E; @@
    - if (E != NULL) { kfree(E); }
    + kfree(E);
    
    @@ expression E; @@
    - if (E != NULL) { kfree(E); E = NULL; }
    + kfree(E);
    + E = NULL;
    // &lt;/smpl&gt;
    
    Signed-off-by: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/serqt_usb2/serqt_usb2.c b/drivers/staging/serqt_usb2/serqt_usb2.c
index 27841ef6a568..2be2d889d443 100644
--- a/drivers/staging/serqt_usb2/serqt_usb2.c
+++ b/drivers/staging/serqt_usb2/serqt_usb2.c
@@ -1098,8 +1098,7 @@ static void qt_close(struct usb_serial_port *port)
 
 	if (qt_port-&gt;write_urb) {
 		/* if this urb had a transfer buffer already (old tx) free it */
-		if (qt_port-&gt;write_urb-&gt;transfer_buffer != NULL)
-			kfree(qt_port-&gt;write_urb-&gt;transfer_buffer);
+		kfree(qt_port-&gt;write_urb-&gt;transfer_buffer);
 		usb_free_urb(qt_port-&gt;write_urb);
 	}
 </pre><hr><pre>commit b7977fa250c1732d1fc1b5832f257655fd7471a4
Author: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
Date:   Sun Mar 13 00:29:08 2011 -0500

    staging: rtl8712: Remove NULL check before kfree
    
    This patch was generated by the following semantic patch:
    // &lt;smpl&gt;
    @@ expression E; @@
    - if (E != NULL) { kfree(E); }
    + kfree(E);
    
    @@ expression E; @@
    - if (E != NULL) { kfree(E); E = NULL; }
    + kfree(E);
    + E = NULL;
    // &lt;/smpl&gt;
    
    Signed-off-by: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/rtl8712/rtl871x_ioctl_linux.c b/drivers/staging/rtl8712/rtl871x_ioctl_linux.c
index 8ebfdd620ba4..bd315c77610a 100644
--- a/drivers/staging/rtl8712/rtl871x_ioctl_linux.c
+++ b/drivers/staging/rtl8712/rtl871x_ioctl_linux.c
@@ -1873,8 +1873,7 @@ static int r871x_mp_ioctl_hdl(struct net_device *dev,
 		goto _r871x_mp_ioctl_hdl_exit;
 	}
 _r871x_mp_ioctl_hdl_exit:
-	if (pparmbuf != NULL)
-		kfree(pparmbuf);
+	kfree(pparmbuf);
 	return ret;
 }
 </pre><hr><pre>commit e72714fb20b2bac88e6bc06401a124243791ca08
Author: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
Date:   Sun Mar 13 00:29:07 2011 -0500

    staging: rtl8192u: Remove NULL check before kfree
    
    This patch was generated by the following semantic patch:
    // &lt;smpl&gt;
    @@ expression E; @@
    - if (E != NULL) { kfree(E); }
    + kfree(E);
    
    @@ expression E; @@
    - if (E != NULL) { kfree(E); E = NULL; }
    + kfree(E);
    + E = NULL;
    // &lt;/smpl&gt;
    
    Signed-off-by: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/rtl8192u/ieee80211/cipher.c b/drivers/staging/rtl8192u/ieee80211/cipher.c
index 0b9e8a4ae7b5..69dcc3176ebc 100644
--- a/drivers/staging/rtl8192u/ieee80211/cipher.c
+++ b/drivers/staging/rtl8192u/ieee80211/cipher.c
@@ -294,6 +294,5 @@ int crypto_init_cipher_ops(struct crypto_tfm *tfm)
 
 void crypto_exit_cipher_ops(struct crypto_tfm *tfm)
 {
-	if (tfm-&gt;crt_cipher.cit_iv)
-		kfree(tfm-&gt;crt_cipher.cit_iv);
+	kfree(tfm-&gt;crt_cipher.cit_iv);
 }
diff --git a/drivers/staging/rtl8192u/ieee80211/ieee80211_module.c b/drivers/staging/rtl8192u/ieee80211/ieee80211_module.c
index 7455264aa543..fe978f359f91 100644
--- a/drivers/staging/rtl8192u/ieee80211/ieee80211_module.c
+++ b/drivers/staging/rtl8192u/ieee80211/ieee80211_module.c
@@ -198,11 +198,8 @@ void free_ieee80211(struct net_device *dev)
 	int i;
 	//struct list_head *p, *q;
 //	del_timer_sync(&amp;ieee-&gt;SwBwTimer);
-	if (ieee-&gt;pHTInfo != NULL)
-	{
-		kfree(ieee-&gt;pHTInfo);
-		ieee-&gt;pHTInfo = NULL;
-	}
+	kfree(ieee-&gt;pHTInfo);
+	ieee-&gt;pHTInfo = NULL;
 	RemoveAllTS(ieee);
 	ieee80211_softmac_free(ieee);
 	del_timer_sync(&amp;ieee-&gt;crypt_deinit_timer);
diff --git a/drivers/staging/rtl8192u/ieee80211/ieee80211_rx.c b/drivers/staging/rtl8192u/ieee80211/ieee80211_rx.c
index 1ea8da3655ec..498b520efcf4 100644
--- a/drivers/staging/rtl8192u/ieee80211/ieee80211_rx.c
+++ b/drivers/staging/rtl8192u/ieee80211/ieee80211_rx.c
@@ -1384,11 +1384,8 @@ int ieee80211_rx(struct ieee80211_device *ieee, struct sk_buff *skb,
 	return 1;
 
  rx_dropped:
-	if (rxb != NULL)
-	{
-		kfree(rxb);
-		rxb = NULL;
-	}
+	kfree(rxb);
+	rxb = NULL;
 	stats-&gt;rx_dropped++;
 
 	/* Returning 0 indicates to caller that we have not handled the SKB--
diff --git a/drivers/staging/rtl8192u/ieee80211/ieee80211_softmac.c b/drivers/staging/rtl8192u/ieee80211/ieee80211_softmac.c
index 20f8c347cae4..4992d630f984 100644
--- a/drivers/staging/rtl8192u/ieee80211/ieee80211_softmac.c
+++ b/drivers/staging/rtl8192u/ieee80211/ieee80211_softmac.c
@@ -2755,11 +2755,8 @@ void ieee80211_softmac_init(struct ieee80211_device *ieee)
 void ieee80211_softmac_free(struct ieee80211_device *ieee)
 {
 	down(&amp;ieee-&gt;wx_sem);
-	if(NULL != ieee-&gt;pDot11dInfo)
-	{
-		kfree(ieee-&gt;pDot11dInfo);
-		ieee-&gt;pDot11dInfo = NULL;
-	}
+	kfree(ieee-&gt;pDot11dInfo);
+	ieee-&gt;pDot11dInfo = NULL;
 	del_timer_sync(&amp;ieee-&gt;associate_timer);
 
 	cancel_delayed_work(&amp;ieee-&gt;associate_retry_wq);
diff --git a/drivers/staging/rtl8192u/ieee80211/ieee80211_wx.c b/drivers/staging/rtl8192u/ieee80211/ieee80211_wx.c
index d6f55c290dbe..f0ba7f467493 100644
--- a/drivers/staging/rtl8192u/ieee80211/ieee80211_wx.c
+++ b/drivers/staging/rtl8192u/ieee80211/ieee80211_wx.c
@@ -855,7 +855,6 @@ int ieee80211_wx_set_gen_ie(struct ieee80211_device *ieee, u8 *ie, size_t len)
 		ieee-&gt;wpa_ie_len = len;
 	}
 	else{
-		if (ieee-&gt;wpa_ie)
 		kfree(ieee-&gt;wpa_ie);
 		ieee-&gt;wpa_ie = NULL;
 		ieee-&gt;wpa_ie_len = 0;
diff --git a/drivers/staging/rtl8192u/r8192U_core.c b/drivers/staging/rtl8192u/r8192U_core.c
index ae4f2b9d9e8f..da612e6d994e 100644
--- a/drivers/staging/rtl8192u/r8192U_core.c
+++ b/drivers/staging/rtl8192u/r8192U_core.c
@@ -2242,12 +2242,8 @@ short rtl8192_usb_initendpoints(struct net_device *dev)
 
 
 destroy:
-	if (priv-&gt;pp_rxskb) {
-		kfree(priv-&gt;pp_rxskb);
-	}
-	if (priv-&gt;rx_urb) {
-		kfree(priv-&gt;rx_urb);
-	}
+	kfree(priv-&gt;pp_rxskb);
+	kfree(priv-&gt;rx_urb);
 
 	priv-&gt;pp_rxskb = NULL;
 	priv-&gt;rx_urb = NULL;
@@ -2276,10 +2272,8 @@ void rtl8192_usb_deleteendpoints(struct net_device *dev)
 		kfree(priv-&gt;rx_urb);
 		priv-&gt;rx_urb = NULL;
 	}
-	if(priv-&gt;oldaddr){
-		kfree(priv-&gt;oldaddr);
-		priv-&gt;oldaddr = NULL;
-	}
+	kfree(priv-&gt;oldaddr);
+	priv-&gt;oldaddr = NULL;
 	if (priv-&gt;pp_rxskb) {
 		kfree(priv-&gt;pp_rxskb);
 		priv-&gt;pp_rxskb = 0;
@@ -2304,14 +2298,10 @@ void rtl8192_usb_deleteendpoints(struct net_device *dev)
 
 	}
 #else
-	if(priv-&gt;rx_urb){
-		kfree(priv-&gt;rx_urb);
-		priv-&gt;rx_urb = NULL;
-	}
-	if(priv-&gt;oldaddr){
-		kfree(priv-&gt;oldaddr);
-		priv-&gt;oldaddr = NULL;
-	}
+	kfree(priv-&gt;rx_urb);
+	priv-&gt;rx_urb = NULL;
+	kfree(priv-&gt;oldaddr);
+	priv-&gt;oldaddr = NULL;
 	if (priv-&gt;pp_rxskb) {
 		kfree(priv-&gt;pp_rxskb);
 		priv-&gt;pp_rxskb = 0;
@@ -5828,10 +5818,8 @@ static int __devinit rtl8192_usb_probe(struct usb_interface *intf,
 
 fail2:
 	rtl8192_down(dev);
-	if (priv-&gt;pFirmware) {
-		kfree(priv-&gt;pFirmware);
-		priv-&gt;pFirmware = NULL;
-	}
+	kfree(priv-&gt;pFirmware);
+	priv-&gt;pFirmware = NULL;
 	rtl8192_usb_deleteendpoints(dev);
 	destroy_workqueue(priv-&gt;priv_wq);
 	mdelay(10);
@@ -5869,11 +5857,8 @@ static void __devexit rtl8192_usb_disconnect(struct usb_interface *intf)
 		rtl8192_proc_remove_one(dev);
 
 			rtl8192_down(dev);
-		if (priv-&gt;pFirmware)
-		{
-			kfree(priv-&gt;pFirmware);
-			priv-&gt;pFirmware = NULL;
-		}
+		kfree(priv-&gt;pFirmware);
+		priv-&gt;pFirmware = NULL;
 	//	priv-&gt;rf_close(dev);
 //		rtl8192_SetRFPowerState(dev, eRfOff);
 		rtl8192_usb_deleteendpoints(dev);</pre><hr><pre>commit 7e901dcd73d73230ad0e66e35fb6f1da244e41f7
Author: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
Date:   Sun Mar 13 00:29:06 2011 -0500

    staging: rtl8192e: Remove NULL check before kfree
    
    This patch was generated by the following semantic patch:
    // &lt;smpl&gt;
    @@ expression E; @@
    - if (E != NULL) { kfree(E); }
    + kfree(E);
    
    @@ expression E; @@
    - if (E != NULL) { kfree(E); E = NULL; }
    + kfree(E);
    + E = NULL;
    // &lt;/smpl&gt;
    
    Signed-off-by: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/rtl8192e/ieee80211/ieee80211_module.c b/drivers/staging/rtl8192e/ieee80211/ieee80211_module.c
index 67bcd41e66b1..663b0b8e1095 100644
--- a/drivers/staging/rtl8192e/ieee80211/ieee80211_module.c
+++ b/drivers/staging/rtl8192e/ieee80211/ieee80211_module.c
@@ -195,11 +195,8 @@ void free_ieee80211(struct net_device *dev)
 {
 	struct ieee80211_device *ieee = netdev_priv(dev);
 	int i;
-	if (ieee-&gt;pHTInfo != NULL)
-	{
-		kfree(ieee-&gt;pHTInfo);
-		ieee-&gt;pHTInfo = NULL;
-	}
+	kfree(ieee-&gt;pHTInfo);
+	ieee-&gt;pHTInfo = NULL;
 	RemoveAllTS(ieee);
 	ieee80211_softmac_free(ieee);
 	del_timer_sync(&amp;ieee-&gt;crypt_deinit_timer);
diff --git a/drivers/staging/rtl8192e/ieee80211/ieee80211_rx.c b/drivers/staging/rtl8192e/ieee80211/ieee80211_rx.c
index e2eac7cadf4f..57acb3f21adf 100644
--- a/drivers/staging/rtl8192e/ieee80211/ieee80211_rx.c
+++ b/drivers/staging/rtl8192e/ieee80211/ieee80211_rx.c
@@ -1411,11 +1411,8 @@ int ieee80211_rtl_rx(struct ieee80211_device *ieee, struct sk_buff *skb,
 	return 1;
 
  rx_dropped:
-	if (rxb != NULL)
-	{
-		kfree(rxb);
-		rxb = NULL;
-	}
+	kfree(rxb);
+	rxb = NULL;
 	stats-&gt;rx_dropped++;
 
 	/* Returning 0 indicates to caller that we have not handled the SKB--
diff --git a/drivers/staging/rtl8192e/ieee80211/ieee80211_softmac.c b/drivers/staging/rtl8192e/ieee80211/ieee80211_softmac.c
index fc96676bb9ce..8d73a7313766 100644
--- a/drivers/staging/rtl8192e/ieee80211/ieee80211_softmac.c
+++ b/drivers/staging/rtl8192e/ieee80211/ieee80211_softmac.c
@@ -2818,11 +2818,8 @@ void ieee80211_softmac_free(struct ieee80211_device *ieee)
 {
 	down(&amp;ieee-&gt;wx_sem);
 #ifdef ENABLE_DOT11D
-	if(NULL != ieee-&gt;pDot11dInfo)
-	{
-		kfree(ieee-&gt;pDot11dInfo);
-		ieee-&gt;pDot11dInfo = NULL;
-	}
+	kfree(ieee-&gt;pDot11dInfo);
+	ieee-&gt;pDot11dInfo = NULL;
 #endif
 	del_timer_sync(&amp;ieee-&gt;associate_timer);
 
diff --git a/drivers/staging/rtl8192e/ieee80211/ieee80211_wx.c b/drivers/staging/rtl8192e/ieee80211/ieee80211_wx.c
index cac340e5238a..bb0ff26bd843 100644
--- a/drivers/staging/rtl8192e/ieee80211/ieee80211_wx.c
+++ b/drivers/staging/rtl8192e/ieee80211/ieee80211_wx.c
@@ -862,7 +862,6 @@ int ieee80211_wx_set_gen_ie(struct ieee80211_device *ieee, u8 *ie, size_t len)
 		ieee-&gt;wpa_ie_len = len;
 	}
 	else{
-		if (ieee-&gt;wpa_ie)
 		kfree(ieee-&gt;wpa_ie);
 		ieee-&gt;wpa_ie = NULL;
 		ieee-&gt;wpa_ie_len = 0;</pre><hr><pre>commit 76be349c0045073bbed4f669f87e36b1d8fda256
Author: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
Date:   Sun Mar 13 00:29:05 2011 -0500

    staging: rtl8187se: Remove NULL check before kfree
    
    This patch was generated by the following semantic patch:
    // &lt;smpl&gt;
    @@ expression E; @@
    - if (E != NULL) { kfree(E); }
    + kfree(E);
    
    @@ expression E; @@
    - if (E != NULL) { kfree(E); E = NULL; }
    + kfree(E);
    + E = NULL;
    // &lt;/smpl&gt;
    
    Signed-off-by: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/rtl8187se/ieee80211/ieee80211_softmac.c b/drivers/staging/rtl8187se/ieee80211/ieee80211_softmac.c
index 74a3b4c211ad..771e0196842e 100644
--- a/drivers/staging/rtl8187se/ieee80211/ieee80211_softmac.c
+++ b/drivers/staging/rtl8187se/ieee80211/ieee80211_softmac.c
@@ -2605,8 +2605,7 @@ void ieee80211_softmac_free(struct ieee80211_device *ieee)
 	cancel_delayed_work(&amp;ieee-&gt;GPIOChangeRFWorkItem);
 
 	destroy_workqueue(ieee-&gt;wq);
-	if(NULL != ieee-&gt;pDot11dInfo)
-		kfree(ieee-&gt;pDot11dInfo);
+	kfree(ieee-&gt;pDot11dInfo);
 	up(&amp;ieee-&gt;wx_sem);
 }
 
diff --git a/drivers/staging/rtl8187se/ieee80211/ieee80211_wx.c b/drivers/staging/rtl8187se/ieee80211/ieee80211_wx.c
index 07d8dbcdca28..ca414a915a4e 100644
--- a/drivers/staging/rtl8187se/ieee80211/ieee80211_wx.c
+++ b/drivers/staging/rtl8187se/ieee80211/ieee80211_wx.c
@@ -735,7 +735,6 @@ int ieee80211_wx_set_gen_ie(struct ieee80211_device *ieee, u8 *ie, size_t len)
 		ieee-&gt;wpa_ie_len = len;
 	}
 	else{
-		if (ieee-&gt;wpa_ie)
 		kfree(ieee-&gt;wpa_ie);
 		ieee-&gt;wpa_ie = NULL;
 		ieee-&gt;wpa_ie_len = 0;</pre><hr><pre>commit aea9d72f97218d45e993836bcb6c6e6fd49e0b90
Author: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
Date:   Sun Mar 13 00:29:04 2011 -0500

    staging: rt2860: Remove NULL check before kfree
    
    This patch was generated by the following semantic patch:
    // &lt;smpl&gt;
    @@ expression E; @@
    - if (E != NULL) { kfree(E); }
    + kfree(E);
    
    @@ expression E; @@
    - if (E != NULL) { kfree(E); E = NULL; }
    + kfree(E);
    + E = NULL;
    // &lt;/smpl&gt;
    
    Signed-off-by: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/rt2860/common/spectrum.c b/drivers/staging/rt2860/common/spectrum.c
index 1dfb802aab9a..c0d2f428069c 100644
--- a/drivers/staging/rt2860/common/spectrum.c
+++ b/drivers/staging/rt2860/common/spectrum.c
@@ -416,8 +416,7 @@ void MeasureReqTabExit(struct rt_rtmp_adapter *pAd)
 {
 	NdisFreeSpinLock(&amp;pAd-&gt;CommonCfg.MeasureReqTabLock);
 
-	if (pAd-&gt;CommonCfg.pMeasureReqTab)
-		kfree(pAd-&gt;CommonCfg.pMeasureReqTab);
+	kfree(pAd-&gt;CommonCfg.pMeasureReqTab);
 	pAd-&gt;CommonCfg.pMeasureReqTab = NULL;
 
 	return;
@@ -614,8 +613,7 @@ void TpcReqTabExit(struct rt_rtmp_adapter *pAd)
 {
 	NdisFreeSpinLock(&amp;pAd-&gt;CommonCfg.TpcReqTabLock);
 
-	if (pAd-&gt;CommonCfg.pTpcReqTab)
-		kfree(pAd-&gt;CommonCfg.pTpcReqTab);
+	kfree(pAd-&gt;CommonCfg.pTpcReqTab);
 	pAd-&gt;CommonCfg.pTpcReqTab = NULL;
 
 	return;
diff --git a/drivers/staging/rt2860/rt_linux.c b/drivers/staging/rt2860/rt_linux.c
index b3f836de332b..e5b042712430 100644
--- a/drivers/staging/rt2860/rt_linux.c
+++ b/drivers/staging/rt2860/rt_linux.c
@@ -241,8 +241,7 @@ void RTMPFreeAdapter(struct rt_rtmp_adapter *pAd)
 
 	os_cookie = (struct os_cookie *)pAd-&gt;OS_Cookie;
 
-	if (pAd-&gt;BeaconBuf)
-		kfree(pAd-&gt;BeaconBuf);
+	kfree(pAd-&gt;BeaconBuf);
 
 	NdisFreeSpinLock(&amp;pAd-&gt;MgmtRingLock);
 
@@ -264,8 +263,7 @@ void RTMPFreeAdapter(struct rt_rtmp_adapter *pAd)
 	release_firmware(pAd-&gt;firmware);
 
 	vfree(pAd);		/* pci_free_consistent(os_cookie-&gt;pci_dev,sizeof(struct rt_rtmp_adapter),pAd,os_cookie-&gt;pAd_pa); */
-	if (os_cookie)
-		kfree(os_cookie);
+	kfree(os_cookie);
 }
 
 BOOLEAN OS_Need_Clone_Packet(void)</pre><hr><pre>commit 14910178fcdcca53230afd4155a6c48e230b2919
Author: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
Date:   Sun Mar 13 00:29:03 2011 -0500

    staging: pohmelfs: Remove NULL check before kfree
    
    This patch was generated by the following semantic patch:
    // &lt;smpl&gt;
    @@ expression E; @@
    - if (E != NULL) { kfree(E); }
    + kfree(E);
    
    @@ expression E; @@
    - if (E != NULL) { kfree(E); E = NULL; }
    + kfree(E);
    + E = NULL;
    // &lt;/smpl&gt;
    
    Signed-off-by: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/pohmelfs/config.c b/drivers/staging/pohmelfs/config.c
index ed913306e5d6..a9a3e25a7efa 100644
--- a/drivers/staging/pohmelfs/config.c
+++ b/drivers/staging/pohmelfs/config.c
@@ -601,11 +601,9 @@ void pohmelfs_config_exit(void)
 
 		list_del(&amp;g-&gt;group_entry);
 
-		if (g-&gt;hash_string)
-			kfree(g-&gt;hash_string);
+		kfree(g-&gt;hash_string);
 
-		if (g-&gt;cipher_string)
-			kfree(g-&gt;cipher_string);
+		kfree(g-&gt;cipher_string);
 
 		kfree(g);
 	}</pre><hr><pre>commit 43c04d42c3c5a23e2aff330d4d361c733118df80
Author: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
Date:   Sun Mar 13 00:29:02 2011 -0500

    staging: line6: Remove NULL check before kfree
    
    This patch was generated by the following semantic patch:
    // &lt;smpl&gt;
    @@ expression E; @@
    - if (E != NULL) { kfree(E); }
    + kfree(E);
    
    @@ expression E; @@
    - if (E != NULL) { kfree(E); E = NULL; }
    + kfree(E);
    + E = NULL;
    // &lt;/smpl&gt;
    
    Signed-off-by: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/line6/pcm.c b/drivers/staging/line6/pcm.c
index b9c55f9eb501..9d4c8a606eea 100644
--- a/drivers/staging/line6/pcm.c
+++ b/drivers/staging/line6/pcm.c
@@ -189,8 +189,7 @@ int line6_pcm_stop(struct snd_line6_pcm *line6pcm, int channels)
 		line6pcm-&gt;buffer_out = NULL;
 	}
 #if LINE6_BACKUP_MONITOR_SIGNAL
-	if (line6pcm-&gt;prev_fbuf != NULL)
-		kfree(line6pcm-&gt;prev_fbuf);
+	kfree(line6pcm-&gt;prev_fbuf);
 #endif
 
 	return 0;</pre><hr><pre>commit 306be9e1c167dcd7d6635bd434ee8e63ab22a5d6
Author: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
Date:   Sun Mar 13 00:29:01 2011 -0500

    staging: keucr: Remove NULL check before kfree
    
    This patch was generated by the following semantic patch:
    // &lt;smpl&gt;
    @@ expression E; @@
    - if (E != NULL) { kfree(E); }
    + kfree(E);
    
    @@ expression E; @@
    - if (E != NULL) { kfree(E); E = NULL; }
    + kfree(E);
    + E = NULL;
    // &lt;/smpl&gt;
    
    Signed-off-by: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/keucr/ms.c b/drivers/staging/keucr/ms.c
index 48496e4da42b..a7137217cf86 100644
--- a/drivers/staging/keucr/ms.c
+++ b/drivers/staging/keucr/ms.c
@@ -244,8 +244,8 @@ int MS_CardInit(struct us_data *us)
 	result = MS_STATUS_SUCCESS;
 
 exit:
-	if (PageBuffer1)		kfree(PageBuffer1);
-    	if (PageBuffer0)		kfree(PageBuffer0);
+	kfree(PageBuffer1);
+    	kfree(PageBuffer0);
 
 	printk("MS_CardInit end\n");
 	return result;
@@ -280,7 +280,7 @@ int MS_LibCheckDisableBlock(struct us_data *us, WORD PhyBlock)
 	} while(1);
 
 exit:
-	if (PageBuf)	kfree(PageBuf);
+	kfree(PageBuf);
 	return result;
 }
 
@@ -324,17 +324,11 @@ void MS_LibFreeWriteBuf(struct us_data *us)
 //----- MS_LibFreeLogicalMap() ---------------------------------------
 int MS_LibFreeLogicalMap(struct us_data *us)
 {
-	if (us-&gt;MS_Lib.Phy2LogMap)
-	{
-		kfree(us-&gt;MS_Lib.Phy2LogMap);
-		us-&gt;MS_Lib.Phy2LogMap = NULL;
-	}
+	kfree(us-&gt;MS_Lib.Phy2LogMap);
+	us-&gt;MS_Lib.Phy2LogMap = NULL;
 
-	if (us-&gt;MS_Lib.Log2PhyMap)
-	{
-		kfree(us-&gt;MS_Lib.Log2PhyMap);
-		us-&gt;MS_Lib.Log2PhyMap = NULL;
-	}
+	kfree(us-&gt;MS_Lib.Log2PhyMap);
+	us-&gt;MS_Lib.Log2PhyMap = NULL;
 
     return 0;
 }
@@ -470,7 +464,7 @@ int MS_LibProcessBootBlock(struct us_data *us, WORD PhyBlock, BYTE *PageData)
 
 exit:
 	if (result)		MS_LibFreeLogicalMap(us);
-	if (PageBuffer)	kfree(PageBuffer);
+	kfree(PageBuffer);
 
 	result = 0;
 	return result;</pre><hr><pre>commit 56d17639703b4683e3e9be36dff7c6d811f4cbf5
Author: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
Date:   Sun Mar 13 00:28:59 2011 -0500

    staging: go7007: Remove NULL check before kfree
    
    This patch was generated by the following semantic patch:
    // &lt;smpl&gt;
    @@ expression E; @@
    - if (E != NULL) { kfree(E); }
    + kfree(E);
    
    @@ expression E; @@
    - if (E != NULL) { kfree(E); E = NULL; }
    + kfree(E);
    + E = NULL;
    // &lt;/smpl&gt;
    
    Signed-off-by: Ilia Mirkin &lt;imirkin@alum.mit.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/go7007/go7007-usb.c b/drivers/staging/go7007/go7007-usb.c
index bea9f4d5bc3c..3db3b0a91cc1 100644
--- a/drivers/staging/go7007/go7007-usb.c
+++ b/drivers/staging/go7007/go7007-usb.c
@@ -1247,15 +1247,13 @@ static void go7007_usb_disconnect(struct usb_interface *intf)
 		vurb = usb-&gt;video_urbs[i];
 		if (vurb) {
 			usb_kill_urb(vurb);
-			if (vurb-&gt;transfer_buffer)
-				kfree(vurb-&gt;transfer_buffer);
+			kfree(vurb-&gt;transfer_buffer);
 			usb_free_urb(vurb);
 		}
 		aurb = usb-&gt;audio_urbs[i];
 		if (aurb) {
 			usb_kill_urb(aurb);
-			if (aurb-&gt;transfer_buffer)
-				kfree(aurb-&gt;transfer_buffer);
+			kfree(aurb-&gt;transfer_buffer);
 			usb_free_urb(aurb);
 		}
 	}</pre>
    <div class="pagination">
        <a href='1_148.html'>&lt;&lt;Prev</a><a href='1.html'>1</a><a href='1_2.html'>2</a><a href='1_3.html'>3</a><a href='1_4.html'>4</a><a href='1_5.html'>5</a><a href='1_6.html'>6</a><a href='1_7.html'>7</a><a href='1_8.html'>8</a><a href='1_9.html'>9</a><a href='1_10.html'>10</a><a href='1_11.html'>11</a><a href='1_12.html'>12</a><a href='1_13.html'>13</a><a href='1_14.html'>14</a><a href='1_15.html'>15</a><a href='1_16.html'>16</a><a href='1_17.html'>17</a><a href='1_18.html'>18</a><a href='1_19.html'>19</a><a href='1_20.html'>20</a><a href='1_21.html'>21</a><a href='1_22.html'>22</a><a href='1_23.html'>23</a><a href='1_24.html'>24</a><a href='1_25.html'>25</a><a href='1_26.html'>26</a><a href='1_27.html'>27</a><a href='1_28.html'>28</a><a href='1_29.html'>29</a><a href='1_30.html'>30</a><a href='1_31.html'>31</a><a href='1_32.html'>32</a><a href='1_33.html'>33</a><a href='1_34.html'>34</a><a href='1_35.html'>35</a><a href='1_36.html'>36</a><a href='1_37.html'>37</a><a href='1_38.html'>38</a><a href='1_39.html'>39</a><a href='1_40.html'>40</a><a href='1_41.html'>41</a><a href='1_42.html'>42</a><a href='1_43.html'>43</a><a href='1_44.html'>44</a><a href='1_45.html'>45</a><a href='1_46.html'>46</a><a href='1_47.html'>47</a><a href='1_48.html'>48</a><a href='1_49.html'>49</a><a href='1_50.html'>50</a><a href='1_51.html'>51</a><a href='1_52.html'>52</a><a href='1_53.html'>53</a><a href='1_54.html'>54</a><a href='1_55.html'>55</a><a href='1_56.html'>56</a><a href='1_57.html'>57</a><a href='1_58.html'>58</a><a href='1_59.html'>59</a><a href='1_60.html'>60</a><a href='1_61.html'>61</a><a href='1_62.html'>62</a><a href='1_63.html'>63</a><a href='1_64.html'>64</a><a href='1_65.html'>65</a><a href='1_66.html'>66</a><a href='1_67.html'>67</a><a href='1_68.html'>68</a><a href='1_69.html'>69</a><a href='1_70.html'>70</a><a href='1_71.html'>71</a><a href='1_72.html'>72</a><a href='1_73.html'>73</a><a href='1_74.html'>74</a><a href='1_75.html'>75</a><a href='1_76.html'>76</a><a href='1_77.html'>77</a><a href='1_78.html'>78</a><a href='1_79.html'>79</a><a href='1_80.html'>80</a><a href='1_81.html'>81</a><a href='1_82.html'>82</a><a href='1_83.html'>83</a><a href='1_84.html'>84</a><a href='1_85.html'>85</a><a href='1_86.html'>86</a><a href='1_87.html'>87</a><a href='1_88.html'>88</a><a href='1_89.html'>89</a><a href='1_90.html'>90</a><a href='1_91.html'>91</a><a href='1_92.html'>92</a><a href='1_93.html'>93</a><a href='1_94.html'>94</a><a href='1_95.html'>95</a><a href='1_96.html'>96</a><a href='1_97.html'>97</a><a href='1_98.html'>98</a><a href='1_99.html'>99</a><a href='1_100.html'>100</a><a href='1_101.html'>101</a><a href='1_102.html'>102</a><a href='1_103.html'>103</a><a href='1_104.html'>104</a><a href='1_105.html'>105</a><a href='1_106.html'>106</a><a href='1_107.html'>107</a><a href='1_108.html'>108</a><a href='1_109.html'>109</a><a href='1_110.html'>110</a><a href='1_111.html'>111</a><a href='1_112.html'>112</a><a href='1_113.html'>113</a><a href='1_114.html'>114</a><a href='1_115.html'>115</a><a href='1_116.html'>116</a><a href='1_117.html'>117</a><a href='1_118.html'>118</a><a href='1_119.html'>119</a><a href='1_120.html'>120</a><a href='1_121.html'>121</a><a href='1_122.html'>122</a><a href='1_123.html'>123</a><a href='1_124.html'>124</a><a href='1_125.html'>125</a><a href='1_126.html'>126</a><a href='1_127.html'>127</a><a href='1_128.html'>128</a><a href='1_129.html'>129</a><a href='1_130.html'>130</a><a href='1_131.html'>131</a><a href='1_132.html'>132</a><a href='1_133.html'>133</a><a href='1_134.html'>134</a><a href='1_135.html'>135</a><a href='1_136.html'>136</a><a href='1_137.html'>137</a><a href='1_138.html'>138</a><a href='1_139.html'>139</a><a href='1_140.html'>140</a><a href='1_141.html'>141</a><a href='1_142.html'>142</a><a href='1_143.html'>143</a><a href='1_144.html'>144</a><a href='1_145.html'>145</a><a href='1_146.html'>146</a><a href='1_147.html'>147</a><a href='1_148.html'>148</a><span>[149]</span><a href='1_150.html'>150</a><a href='1_151.html'>151</a><a href='1_152.html'>152</a><a href='1_153.html'>153</a><a href='1_154.html'>154</a><a href='1_150.html'>Next&gt;&gt;</a>
    <div>
</body>
