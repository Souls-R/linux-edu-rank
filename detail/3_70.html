<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patches contributed by University of Virginia, Charlottesville</title>
    <style>
    .pagination {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        overflow-wrap: break-word;
    }
    .pagination a, .pagination span {
        margin: 0 4px;
    }

    </style>
</head>
<body>
    <h1>Patches contributed by University of Virginia, Charlottesville</h1>
    <div class="pagination">
        <a href='3_69.html'>&lt;&lt;Prev</a><a href='3.html'>1</a><a href='3_2.html'>2</a><a href='3_3.html'>3</a><a href='3_4.html'>4</a><a href='3_5.html'>5</a><a href='3_6.html'>6</a><a href='3_7.html'>7</a><a href='3_8.html'>8</a><a href='3_9.html'>9</a><a href='3_10.html'>10</a><a href='3_11.html'>11</a><a href='3_12.html'>12</a><a href='3_13.html'>13</a><a href='3_14.html'>14</a><a href='3_15.html'>15</a><a href='3_16.html'>16</a><a href='3_17.html'>17</a><a href='3_18.html'>18</a><a href='3_19.html'>19</a><a href='3_20.html'>20</a><a href='3_21.html'>21</a><a href='3_22.html'>22</a><a href='3_23.html'>23</a><a href='3_24.html'>24</a><a href='3_25.html'>25</a><a href='3_26.html'>26</a><a href='3_27.html'>27</a><a href='3_28.html'>28</a><a href='3_29.html'>29</a><a href='3_30.html'>30</a><a href='3_31.html'>31</a><a href='3_32.html'>32</a><a href='3_33.html'>33</a><a href='3_34.html'>34</a><a href='3_35.html'>35</a><a href='3_36.html'>36</a><a href='3_37.html'>37</a><a href='3_38.html'>38</a><a href='3_39.html'>39</a><a href='3_40.html'>40</a><a href='3_41.html'>41</a><a href='3_42.html'>42</a><a href='3_43.html'>43</a><a href='3_44.html'>44</a><a href='3_45.html'>45</a><a href='3_46.html'>46</a><a href='3_47.html'>47</a><a href='3_48.html'>48</a><a href='3_49.html'>49</a><a href='3_50.html'>50</a><a href='3_51.html'>51</a><a href='3_52.html'>52</a><a href='3_53.html'>53</a><a href='3_54.html'>54</a><a href='3_55.html'>55</a><a href='3_56.html'>56</a><a href='3_57.html'>57</a><a href='3_58.html'>58</a><a href='3_59.html'>59</a><a href='3_60.html'>60</a><a href='3_61.html'>61</a><a href='3_62.html'>62</a><a href='3_63.html'>63</a><a href='3_64.html'>64</a><a href='3_65.html'>65</a><a href='3_66.html'>66</a><a href='3_67.html'>67</a><a href='3_68.html'>68</a><a href='3_69.html'>69</a><span>[70]</span><a href='3_71.html'>71</a><a href='3_72.html'>72</a><a href='3_73.html'>73</a><a href='3_74.html'>74</a><a href='3_75.html'>75</a><a href='3_76.html'>76</a><a href='3_77.html'>77</a><a href='3_78.html'>78</a><a href='3_79.html'>79</a><a href='3_80.html'>80</a><a href='3_81.html'>81</a><a href='3_82.html'>82</a><a href='3_83.html'>83</a><a href='3_71.html'>Next&gt;&gt;</a>
    </div>
    <hr>
    <pre>commit 125edf55eb4c722afa76b43da40f24a6fd2421ef
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:15:51 2009 -0400

    Staging: comedi: Remove ni_65xx_board typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/ni_65xx.c b/drivers/staging/comedi/drivers/ni_65xx.c
index 59edcdf8e032..c5fac96f25dd 100644
--- a/drivers/staging/comedi/drivers/ni_65xx.c
+++ b/drivers/staging/comedi/drivers/ni_65xx.c
@@ -111,15 +111,17 @@ static struct comedi_driver driver_ni_65xx = {
       detach:ni_65xx_detach,
 };
 
-typedef struct {
+struct ni_65xx_board {
+
 	int dev_id;
 	const char *name;
 	unsigned num_dio_ports;
 	unsigned num_di_ports;
 	unsigned num_do_ports;
 	unsigned invert_outputs:1;
-} ni_65xx_board;
-static const ni_65xx_board ni_65xx_boards[] = {
+};
+
+static const struct ni_65xx_board ni_65xx_boards[] = {
 	{
 	      dev_id:	0x7085,
 	      name:	"pci-6509",
@@ -239,7 +241,7 @@ static const ni_65xx_board ni_65xx_boards[] = {
 };
 
 #define n_ni_65xx_boards (sizeof(ni_65xx_boards)/sizeof(ni_65xx_boards[0]))
-static inline const ni_65xx_board *board(struct comedi_device * dev)
+static inline const struct ni_65xx_board *board(struct comedi_device * dev)
 {
 	return dev-&gt;board_ptr;
 }
@@ -247,7 +249,7 @@ static inline unsigned ni_65xx_port_by_channel(unsigned channel)
 {
 	return channel / ni_65xx_channels_per_port;
 }
-static inline unsigned ni_65xx_total_num_ports(const ni_65xx_board * board)
+static inline unsigned ni_65xx_total_num_ports(const struct ni_65xx_board * board)
 {
 	return board-&gt;num_dio_ports + board-&gt;num_di_ports + board-&gt;num_do_ports;
 }</pre><hr><pre>commit 16d38ca3514bfcfad78f97dc136c955616303bf4
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:15:45 2009 -0400

    Staging: comedi: Remove ni6527_board typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/ni_6527.c b/drivers/staging/comedi/drivers/ni_6527.c
index 18fb7995c7c5..0d07c8514336 100644
--- a/drivers/staging/comedi/drivers/ni_6527.c
+++ b/drivers/staging/comedi/drivers/ni_6527.c
@@ -84,11 +84,13 @@ static struct comedi_driver driver_ni6527 = {
       detach:ni6527_detach,
 };
 
-typedef struct {
+struct ni6527_board {
+
 	int dev_id;
 	const char *name;
-} ni6527_board;
-static const ni6527_board ni6527_boards[] = {
+};
+
+static const struct ni6527_board ni6527_boards[] = {
 	{
 	      dev_id:	0x2b20,
 	      name:	"pci-6527",
@@ -100,7 +102,7 @@ static const ni6527_board ni6527_boards[] = {
 };
 
 #define n_ni6527_boards (sizeof(ni6527_boards)/sizeof(ni6527_boards[0]))
-#define this_board ((const ni6527_board *)dev-&gt;board_ptr)
+#define this_board ((const struct ni6527_board *)dev-&gt;board_ptr)
 
 static DEFINE_PCI_DEVICE_TABLE(ni6527_pci_table) = {
 	{PCI_VENDOR_ID_NATINST, 0x2b10, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0},</pre><hr><pre>commit 6555be0a1c25576be6270bb43f1bd444df7d86f8
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:15:40 2009 -0400

    Staging: comedi: Remove mpc8260cpm_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/mpc8260cpm.c b/drivers/staging/comedi/drivers/mpc8260cpm.c
index 7250865e8d6e..bac0a7bb9cbd 100644
--- a/drivers/staging/comedi/drivers/mpc8260cpm.c
+++ b/drivers/staging/comedi/drivers/mpc8260cpm.c
@@ -38,11 +38,13 @@ It is apparently missing some code.
 
 extern unsigned long mpc8260_dio_reserved[4];
 
-typedef struct {
+struct mpc8260cpm_private {
+
 	int data;
 
-} mpc8260cpm_private;
-#define devpriv ((mpc8260cpm_private *)dev-&gt;private)
+};
+
+#define devpriv ((struct mpc8260cpm_private *)dev-&gt;private)
 
 static int mpc8260cpm_attach(struct comedi_device * dev, struct comedi_devconfig * it);
 static int mpc8260cpm_detach(struct comedi_device * dev);
@@ -71,7 +73,7 @@ static int mpc8260cpm_attach(struct comedi_device * dev, struct comedi_devconfig
 
 	dev-&gt;board_name = thisboard-&gt;name;
 
-	if (alloc_private(dev, sizeof(mpc8260cpm_private)) &lt; 0)
+	if (alloc_private(dev, sizeof(struct mpc8260cpm_private)) &lt; 0)
 		return -ENOMEM;
 
 	if (alloc_subdevices(dev, 4) &lt; 0)</pre><hr><pre>commit 16450130a9f7006c91c9f49d725b9029fe711240
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:15:34 2009 -0400

    Staging: comedi: Remove skel_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/mpc624.c b/drivers/staging/comedi/drivers/mpc624.c
index ee053f149dd9..a151602929d9 100644
--- a/drivers/staging/comedi/drivers/mpc624.c
+++ b/drivers/staging/comedi/drivers/mpc624.c
@@ -120,11 +120,13 @@ Configuration Options:
 #define MPC624_SPEED_13_75_Hz   (MPC624_OSR4 | MPC624_OSR3                             | MPC624_OSR0)
 #define MPC624_SPEED_6_875_Hz   (MPC624_OSR4 | MPC624_OSR3 | MPC624_OSR2 | MPC624_OSR1 | MPC624_OSR0)
 //----------------------------------------------------------------------------
-typedef struct {
+struct skel_private {
+
 	unsigned long int ulConvertionRate;	// set by mpc624_attach() from driver's parameters
-} skel_private;
+};
+
 
-#define devpriv ((skel_private *)dev-&gt;private)
+#define devpriv ((struct skel_private *)dev-&gt;private)
 //----------------------------------------------------------------------------
 static const struct comedi_lrange range_mpc624_bipolar1 = {
 	1,
@@ -174,7 +176,7 @@ static int mpc624_attach(struct comedi_device * dev, struct comedi_devconfig * i
 	dev-&gt;board_name = "mpc624";
 
 	// Private structure initialization
-	if (alloc_private(dev, sizeof(skel_private)) &lt; 0)
+	if (alloc_private(dev, sizeof(struct skel_private)) &lt; 0)
 		return -ENOMEM;
 
 	switch (it-&gt;options[1]) {</pre><hr><pre>commit 9beff277bb14a844b5cb437fcdca9db7534ee44a
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:15:29 2009 -0400

    Staging: comedi: Remove cnt_board_struct typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/ke_counter.c b/drivers/staging/comedi/drivers/ke_counter.c
index 105a9cfeb745..6f538720d79f 100644
--- a/drivers/staging/comedi/drivers/ke_counter.c
+++ b/drivers/staging/comedi/drivers/ke_counter.c
@@ -61,14 +61,16 @@ MODULE_DEVICE_TABLE(pci, cnt_pci_table);
 
 /*-- board specification structure ------------------------------------------*/
 
-typedef struct {
+struct cnt_board_struct {
+
 	const char *name;
 	int device_id;
 	int cnt_channel_nbr;
 	int cnt_bits;
-} cnt_board_struct;
+};
+
 
-static const cnt_board_struct cnt_boards[] = {
+static const struct cnt_board_struct cnt_boards[] = {
 	{
 	      name:	CNT_DRIVER_NAME,
 	      device_id:CNT_CARD_DEVICE_ID,
@@ -76,7 +78,7 @@ static const cnt_board_struct cnt_boards[] = {
       cnt_bits:24}
 };
 
-#define cnt_board_nbr (sizeof(cnt_boards)/sizeof(cnt_board_struct))
+#define cnt_board_nbr (sizeof(cnt_boards)/sizeof(struct cnt_board_struct))
 
 /*-- device private structure -----------------------------------------------*/
 
@@ -148,7 +150,7 @@ static int cnt_attach(struct comedi_device * dev, struct comedi_devconfig * it)
 {
 	struct comedi_subdevice *subdevice;
 	struct pci_dev *pci_device;
-	cnt_board_struct *board;
+	struct cnt_board_struct *board;
 	unsigned long io_base;
 	int error, i;
 
@@ -180,7 +182,7 @@ static int cnt_attach(struct comedi_device * dev, struct comedi_devconfig * it)
 					}
 
 					dev-&gt;board_ptr = cnt_boards + i;
-					board = (cnt_board_struct *) dev-&gt;
+					board = (struct cnt_board_struct *) dev-&gt;
 						board_ptr;
 					goto found;
 				}</pre><hr><pre>commit 217fbbbc74f136f35530cf9acb06d7231fbdc1f3
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:15:24 2009 -0400

    Staging: comedi: Remove jr3_pci_dev_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/jr3_pci.c b/drivers/staging/comedi/drivers/jr3_pci.c
index 179fd9d637b4..680cc738cc5c 100644
--- a/drivers/staging/comedi/drivers/jr3_pci.c
+++ b/drivers/staging/comedi/drivers/jr3_pci.c
@@ -127,13 +127,15 @@ static DEFINE_PCI_DEVICE_TABLE(jr3_pci_pci_table) = {
 
 MODULE_DEVICE_TABLE(pci, jr3_pci_pci_table);
 
-typedef struct {
+struct jr3_pci_dev_private {
+
 	struct pci_dev *pci_dev;
 	int pci_enabled;
 	volatile struct jr3_t *iobase;
 	int n_channels;
 	struct timer_list timer;
-} jr3_pci_dev_private;
+};
+
 
 typedef struct {
 	int min;
@@ -388,7 +390,7 @@ static int jr3_pci_ai_insn_read(struct comedi_device * dev, struct comedi_subdev
 static void jr3_pci_open(struct comedi_device * dev)
 {
 	int i;
-	jr3_pci_dev_private *devpriv = dev-&gt;private;
+	struct jr3_pci_dev_private *devpriv = dev-&gt;private;
 
 	printk("jr3_pci_open\n");
 	for (i = 0; i &lt; devpriv-&gt;n_channels; i++) {
@@ -458,7 +460,7 @@ static int jr3_download_firmware(struct comedi_device * dev, const u8 * data,
 		result = -ENODATA;
 	} else {
 		int i;
-		jr3_pci_dev_private *p = dev-&gt;private;
+		struct jr3_pci_dev_private *p = dev-&gt;private;
 
 		for (i = 0; i &lt; p-&gt;n_channels; i++) {
 			jr3_pci_subdev_private *sp;
@@ -738,7 +740,7 @@ static void jr3_pci_poll_dev(unsigned long data)
 {
 	unsigned long flags;
 	struct comedi_device *dev = (struct comedi_device *) data;
-	jr3_pci_dev_private *devpriv = dev-&gt;private;
+	struct jr3_pci_dev_private *devpriv = dev-&gt;private;
 	unsigned long now;
 	int delay;
 	int i;
@@ -775,7 +777,7 @@ static int jr3_pci_attach(struct comedi_device * dev, struct comedi_devconfig *
 	int result = 0;
 	struct pci_dev *card = NULL;
 	int opt_bus, opt_slot, i;
-	jr3_pci_dev_private *devpriv;
+	struct jr3_pci_dev_private *devpriv;
 
 	printk("comedi%d: jr3_pci\n", dev-&gt;minor);
 
@@ -788,7 +790,7 @@ static int jr3_pci_attach(struct comedi_device * dev, struct comedi_devconfig *
 		return -EINVAL;
 	}
 
-	result = alloc_private(dev, sizeof(jr3_pci_dev_private));
+	result = alloc_private(dev, sizeof(struct jr3_pci_dev_private));
 	if (result &lt; 0) {
 		return -ENOMEM;
 	}
@@ -943,7 +945,7 @@ static int jr3_pci_attach(struct comedi_device * dev, struct comedi_devconfig *
 static int jr3_pci_detach(struct comedi_device * dev)
 {
 	int i;
-	jr3_pci_dev_private *devpriv = dev-&gt;private;
+	struct jr3_pci_dev_private *devpriv = dev-&gt;private;
 
 	printk("comedi%d: jr3_pci: remove\n", dev-&gt;minor);
 	if (devpriv) {</pre><hr><pre>commit 0e99a2b9a2367e47bebf8bdbb5aa0ce14d586968
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:15:18 2009 -0400

    Staging: comedi: Remove pci20xxx_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/ii_pci20kc.c b/drivers/staging/comedi/drivers/ii_pci20kc.c
index a31f0d20fcf2..624d44c3969f 100644
--- a/drivers/staging/comedi/drivers/ii_pci20kc.c
+++ b/drivers/staging/comedi/drivers/ii_pci20kc.c
@@ -148,12 +148,14 @@ typedef union {
 	} pci20341;
 } pci20xxx_subdev_private;
 
-typedef struct {
+struct pci20xxx_private {
+
 	void *ioaddr;
 	pci20xxx_subdev_private subdev_private[PCI20000_MODULES];
-} pci20xxx_private;
+};
+
 
-#define devpriv ((pci20xxx_private *)dev-&gt;private)
+#define devpriv ((struct pci20xxx_private *)dev-&gt;private)
 #define CHAN (CR_CHAN(it-&gt;chanlist[0]))
 
 static int pci20xxx_attach(struct comedi_device * dev, struct comedi_devconfig * it);
@@ -209,7 +211,7 @@ static int pci20xxx_attach(struct comedi_device * dev, struct comedi_devconfig *
 
 	if ((ret = alloc_subdevices(dev, 1 + PCI20000_MODULES)) &lt; 0)
 		return ret;
-	if ((ret = alloc_private(dev, sizeof(pci20xxx_private))) &lt; 0)
+	if ((ret = alloc_private(dev, sizeof(struct pci20xxx_private))) &lt; 0)
 		return ret;
 
 	devpriv-&gt;ioaddr = (void *)(unsigned long)it-&gt;options[0];
@@ -255,7 +257,7 @@ static int pci20xxx_attach(struct comedi_device * dev, struct comedi_devconfig *
 		}
 	}
 
-	/* initialize pci20xxx_private */
+	/* initialize struct pci20xxx_private */
 	pci20xxx_dio_init(dev, dev-&gt;subdevices + PCI20000_MODULES);
 
 	return 1;
@@ -449,7 +451,7 @@ static int pci20xxx_dio_insn_bits(struct comedi_device * dev, struct comedi_subd
 static int pci20xxx_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	struct comedi_insn * insn, unsigned int * data);
 
-/* initialize pci20xxx_private */
+/* initialize struct pci20xxx_private */
 static int pci20xxx_dio_init(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 </pre><hr><pre>commit 52b3e3483d12f03ad6c1fa051a5db0b5656596c9
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:15:13 2009 -0400

    Staging: comedi: Remove hpdi_board typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/gsc_hpdi.c b/drivers/staging/comedi/drivers/gsc_hpdi.c
index 535aadb98dcc..001284f1583d 100644
--- a/drivers/staging/comedi/drivers/gsc_hpdi.c
+++ b/drivers/staging/comedi/drivers/gsc_hpdi.c
@@ -260,13 +260,15 @@ uint32_t intr_active_high_bit(int interrupt_source)
 	return 0x1 &lt;&lt; interrupt_source;
 }
 
-typedef struct {
+struct hpdi_board {
+
 	char *name;
 	int device_id;		// pci device id
 	int subdevice_id;	// pci subdevice id
-} hpdi_board;
+};
+
 
-static const hpdi_board hpdi_boards[] = {
+static const struct hpdi_board hpdi_boards[] = {
 	{
 	      name:	"pci-hpdi32",
 	      device_id:PCI_DEVICE_ID_PLX_9080,
@@ -283,7 +285,7 @@ static const hpdi_board hpdi_boards[] = {
 
 static inline unsigned int num_boards(void)
 {
-	return sizeof(hpdi_boards) / sizeof(hpdi_board);
+	return sizeof(hpdi_boards) / sizeof(struct hpdi_board);
 }
 
 static DEFINE_PCI_DEVICE_TABLE(hpdi_pci_table) = {
@@ -294,9 +296,9 @@ static DEFINE_PCI_DEVICE_TABLE(hpdi_pci_table) = {
 
 MODULE_DEVICE_TABLE(pci, hpdi_pci_table);
 
-static inline hpdi_board *board(const struct comedi_device * dev)
+static inline struct hpdi_board *board(const struct comedi_device * dev)
 {
-	return (hpdi_board *) dev-&gt;board_ptr;
+	return (struct hpdi_board *) dev-&gt;board_ptr;
 }
 
 typedef struct {</pre><hr><pre>commit fa11f7a978b9b93f46408ead81dba035828c1ff9
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:15:08 2009 -0400

    Staging: comedi: Remove fl512_private typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/fl512.c b/drivers/staging/comedi/drivers/fl512.c
index 6fe747d8dd11..6d7bb37d2b1c 100644
--- a/drivers/staging/comedi/drivers/fl512.c
+++ b/drivers/staging/comedi/drivers/fl512.c
@@ -24,10 +24,12 @@ Configuration options:
 #include &lt;linux/ioport.h&gt;
 
 #define FL512_SIZE 16		/* the size of the used memory */
-typedef struct {
+struct fl512_private {
+
 	short ao_readback[2];
-} fl512_private;
-#define devpriv ((fl512_private *) dev-&gt;private)
+};
+
+#define devpriv ((struct fl512_private *) dev-&gt;private)
 
 static const struct comedi_lrange range_fl512 = { 4, {
 			BIP_RANGE(0.5),
@@ -138,7 +140,7 @@ static int fl512_attach(struct comedi_device * dev, struct comedi_devconfig * it
 	}
 	dev-&gt;iobase = iobase;
 	dev-&gt;board_name = "fl512";
-	if (alloc_private(dev, sizeof(fl512_private)) &lt; 0)
+	if (alloc_private(dev, sizeof(struct fl512_private)) &lt; 0)
 		return -ENOMEM;
 
 #if DEBUG</pre><hr><pre>commit c14e9208359c615f2e565277a607237635a1e413
Author: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
Date:   Mon Mar 16 22:15:02 2009 -0400

    Staging: comedi: Remove dt3k_boardtype typedef
    
    Signed-off-by: Bill Pemberton &lt;wfp5p@virginia.edu&gt;
    Signed-off-by: Greg Kroah-Hartman &lt;gregkh@suse.de&gt;

diff --git a/drivers/staging/comedi/drivers/dt3000.c b/drivers/staging/comedi/drivers/dt3000.c
index a8367d9c0a4c..fc4389f25eb0 100644
--- a/drivers/staging/comedi/drivers/dt3000.c
+++ b/drivers/staging/comedi/drivers/dt3000.c
@@ -81,7 +81,8 @@ static const struct comedi_lrange range_dt3000_ai_pgl = { 4, {
 	}
 };
 
-typedef struct {
+struct dt3k_boardtype {
+
 	const char *name;
 	unsigned int device_id;
 	int adchan;
@@ -90,9 +91,10 @@ typedef struct {
 	const struct comedi_lrange *adrange;
 	int dachan;
 	int dabits;
-} dt3k_boardtype;
+};
+
 
-static const dt3k_boardtype dt3k_boardtypes[] = {
+static const struct dt3k_boardtype dt3k_boardtypes[] = {
       {name:"dt3001",
 	      device_id:0x22,
 	      adchan:	16,
@@ -158,8 +160,8 @@ static const dt3k_boardtype dt3k_boardtypes[] = {
 		},
 };
 
-#define n_dt3k_boards sizeof(dt3k_boardtypes)/sizeof(dt3k_boardtype)
-#define this_board ((const dt3k_boardtype *)dev-&gt;board_ptr)
+#define n_dt3k_boards sizeof(dt3k_boardtypes)/sizeof(struct dt3k_boardtype)
+#define this_board ((const struct dt3k_boardtype *)dev-&gt;board_ptr)
 
 static DEFINE_PCI_DEVICE_TABLE(dt3k_pci_table) = {
 	{PCI_VENDOR_ID_DT, 0x0022, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0},</pre>
    <div class="pagination">
        <a href='3_69.html'>&lt;&lt;Prev</a><a href='3.html'>1</a><a href='3_2.html'>2</a><a href='3_3.html'>3</a><a href='3_4.html'>4</a><a href='3_5.html'>5</a><a href='3_6.html'>6</a><a href='3_7.html'>7</a><a href='3_8.html'>8</a><a href='3_9.html'>9</a><a href='3_10.html'>10</a><a href='3_11.html'>11</a><a href='3_12.html'>12</a><a href='3_13.html'>13</a><a href='3_14.html'>14</a><a href='3_15.html'>15</a><a href='3_16.html'>16</a><a href='3_17.html'>17</a><a href='3_18.html'>18</a><a href='3_19.html'>19</a><a href='3_20.html'>20</a><a href='3_21.html'>21</a><a href='3_22.html'>22</a><a href='3_23.html'>23</a><a href='3_24.html'>24</a><a href='3_25.html'>25</a><a href='3_26.html'>26</a><a href='3_27.html'>27</a><a href='3_28.html'>28</a><a href='3_29.html'>29</a><a href='3_30.html'>30</a><a href='3_31.html'>31</a><a href='3_32.html'>32</a><a href='3_33.html'>33</a><a href='3_34.html'>34</a><a href='3_35.html'>35</a><a href='3_36.html'>36</a><a href='3_37.html'>37</a><a href='3_38.html'>38</a><a href='3_39.html'>39</a><a href='3_40.html'>40</a><a href='3_41.html'>41</a><a href='3_42.html'>42</a><a href='3_43.html'>43</a><a href='3_44.html'>44</a><a href='3_45.html'>45</a><a href='3_46.html'>46</a><a href='3_47.html'>47</a><a href='3_48.html'>48</a><a href='3_49.html'>49</a><a href='3_50.html'>50</a><a href='3_51.html'>51</a><a href='3_52.html'>52</a><a href='3_53.html'>53</a><a href='3_54.html'>54</a><a href='3_55.html'>55</a><a href='3_56.html'>56</a><a href='3_57.html'>57</a><a href='3_58.html'>58</a><a href='3_59.html'>59</a><a href='3_60.html'>60</a><a href='3_61.html'>61</a><a href='3_62.html'>62</a><a href='3_63.html'>63</a><a href='3_64.html'>64</a><a href='3_65.html'>65</a><a href='3_66.html'>66</a><a href='3_67.html'>67</a><a href='3_68.html'>68</a><a href='3_69.html'>69</a><span>[70]</span><a href='3_71.html'>71</a><a href='3_72.html'>72</a><a href='3_73.html'>73</a><a href='3_74.html'>74</a><a href='3_75.html'>75</a><a href='3_76.html'>76</a><a href='3_77.html'>77</a><a href='3_78.html'>78</a><a href='3_79.html'>79</a><a href='3_80.html'>80</a><a href='3_81.html'>81</a><a href='3_82.html'>82</a><a href='3_83.html'>83</a><a href='3_71.html'>Next&gt;&gt;</a>
    <div>
</body>
